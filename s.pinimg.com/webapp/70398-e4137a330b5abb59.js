"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[70398],{777579:function(e,n,t){t.r(n);var r,i,o,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:[o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"BoardCard_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},o,{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};a.hash="3fc8a3c79e94dc09a6f9c6b242ea21dc",n.default=a},646920:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};i.hash="cabaa35ed7d59dee006897bf3ef32e3d",n.default=i},237894:function(e,n,t){t.r(n);var r,i,o,a,l,s,u,c,d=(c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchLandingPageGiftGuidesFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},{kind:"InlineFragment",selections:[r,i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SearchLandingPageGiftGuidesFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:l=[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:u=[s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},s,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:l,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:u,storageKey:'images(spec:"170x")'},a],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"a63026afe6c3d11296f44a3a35c00b01f95451410868d1dd75711fdd17e67464",metadata:{},name:"SearchLandingPageGiftGuidesFeaturedBoardsQuery",operationKind:"query",text:null}});d.hash="03126cb7947a97b27cae015056f79fcc",n.default=d,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(d.default||d)},53280:function(e,n,t){t.r(n);var r,i,o,a,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="e45a4117a4642dc5fb48c8b56893276c",n.default=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(s.default||s)},262462:function(e,n,t){function r(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){t(e);return}l.done?n(s):Promise.resolve(s).then(r,i)}function i(e){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(n){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.blob();case 5:return r=e.sent,e.abrupt("return",new File([r],"image.png"));case 7:case"end":return e.stop()}},e)}),(o=function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}t.d(n,{Z:function(){return i}})},910674:function(e,n,t){function r(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){t(e);return}l.done?n(s):Promise.resolve(s).then(r,i)}function i(e,n){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(n,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var r=new FileReader;r.onload=function(){var i=new Image;i.src=r.result,i.onload=function(){var r=i.height,o=i.width;o>474&&(r*=474/o,o=474),t({src:i.src,height:r,width:o});var a=document.createElement("canvas");a.width=o,a.height=r,a.getContext("2d").drawImage(i,0,0,o,r),a.toBlob(function(t){e(new File([t],n.name,{type:"image/jpeg"}))},"image/jpeg",.9)}},r.readAsDataURL(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),(o=function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}t.d(n,{Z:function(){return i}})},795264:function(e,n,t){t.d(n,{Z:function(){return o},t:function(){return i}});var r=t(545230),i=[r.i.GUIDED_SEARCH_LANDING,r.i.GUIDED_SEARCH_ENTRY],o=296},5629:function(e,n,t){t.d(n,{EA:function(){return c},Ep:function(){return s},JC:function(){return o},KC:function(){return u},Lu:function(){return r},Mz:function(){return l},TY:function(){return g},WU:function(){return f},aI:function(){return p},fp:function(){return d},jf:function(){return a},uS:function(){return i}});var r=58,i=12,o=3,a=8,l=80,s=500,u=function(e,n,t){var r=[];return(e&&n||!e&&t)&&r.push("linear-gradient(to left, #FFFFFF, rgba(255,255,255,0) 40px)"),(e&&t||!e&&n)&&r.push("linear-gradient(to right, #FFFFFF, rgba(255,255,255,0) 40px)"),r.join(",")},c=32,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{display:{backgroundColorHex:["#efefef","#292929"],displayText:e.displayText,selectedBackgroundColorHex:["#292929"],icon:3,textColorHex:["#111111","#ffffff"],selectedTextColorHex:["#ffffff"]},moduleType:0,id:""}},p=-1,f=120,g={moduleType:-1,id:""}},360307:function(e,n){var t=function(e,n){this.uid=e,this.item=n,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,n){var r=this._uidToData[e];r||(r=new t(e,n),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){var n=this._uidToData[e];return n?(this._moveToFront(n),n.item):null},r.prototype.remove=function(e){var n=this._uidToData[e];n&&(delete this._uidToData[e],this._firstData===n&&(this._firstData=n.next),this._lastData===n&&(this._lastData=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},n.Z=r},700337:function(e,n,t){t.d(n,{N:function(){return a},Z:function(){return o}});var r=t(297949),i=t(770443);function o(e){var n=e.children,t=e.fullWidth;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:n})}function a(e){var n=e.children;return e.enabled?(0,i.jsx)(o,{children:n}):n}},160647:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(297949),i=t(770443),o={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,n,t){switch(t){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:n?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"6px":"10px",left:"26px"},2:{transform:n?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:n?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"36px":"40px",left:"68px"},2:{transform:n?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:n?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"10px":"14px",left:"82px"},2:{transform:n?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var r,i=r[e];return i.border="1px solid #FFFFFF",i.transition="all 150ms ease-out",i};function l(e){var n,t=e.fanOut,l=e.card,s=e.index,u=e.size,c=e.rounding,d=o[u],p=l.height,f=void 0===p?d.HEIGHT_PX:p,g=l.url,y=l.width,h=void 0===y?d.WIDTH_PX:y,m=l.colorRGB,v=l.opacity;return g?n=(0,i.jsx)(r.Ee,{alt:g,fit:"cover",naturalHeight:f,naturalWidth:h,src:g}):m&&v&&(n=(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(m.join(", "),", ").concat(v,")")}},height:d.HEIGHT_PX,width:d.WIDTH_PX})),(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(s,t,u)},position:"absolute",rounding:null!=c?c:5,children:(0,i.jsx)(r.zd,{height:d.HEIGHT_PX,rounding:5,wash:!0,width:d.WIDTH_PX,children:n})})}},713211:function(e,n,t){function r(e){return[0,24,21,26].includes(e)}function i(e){var n=e.articleType,t=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return"today"===n?"/today/shop/".concat(r,"/").concat(t,"/"):"/discover/article/".concat(r,"/").concat(t,"/")}t.d(n,{x:function(){return i},y:function(){return r}})},39260:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(297728),i=t(730212),o=t(855746);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==a(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===a(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e){var n,t,a,l,u,c,d,p,f=(0,i.B)().isAuthenticated,g=(t=(n={experimentsClient:(0,r.F)(),handlerId:(0,o.MM)(),isAuthenticated:f,skipActivation:null!==(p=null==e?void 0:e.skipActivation)&&void 0!==p&&p}).experimentsClient,a=n.handlerId,l=n.isAuthenticated,u=n.skipActivation,(d=(c=t.checkExperiment)(l?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:u})).group?s({expName:l?"web_masonry_v2_auth":"web_masonry_v2_unauth"},d):"www/[username]/[slug].js"!==a||l?"www/pin/[id].js"!==a||l?{expName:"",anyEnabled:!1,group:""}:s({expName:"web_masonry_v2_unauth_pin"},c("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:u})):s({expName:"web_masonry_v2_unauth_board"},c("web_masonry_v2_unauth_board",{dangerouslySkipActivation:u}))),y=g.expName,h=g.anyEnabled,m=g.group;return{expName:y,anyEnabled:h,group:m,isMeasureAllEnabled:"enabled_measure_all"===m||"enabled_measure_all_impression_fix"===m,isImpressionFixEnabled:"control_impression_fix"===m||"enabled_impression_fix"===m||"enabled_measure_all_impression_fix"===m}}},788388:function(e,n,t){t.d(n,{F:function(){return S},Z:function(){return x}});var r=t(282480),i=t(829196),o=t(118755),a=t(573706),l=t(39260),s=t(635284),u=t(730212),c=t(410150),d=t(644797),p=t(243583),f=t(415787),g=t(855746),y=["children"];function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){_(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _(e,n,t){var r;return(r=function(e,n){if("object"!==h(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"===h(r)?r:String(r))in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function x(e){var n=e.carouselData,t=e.closeupImpressionType,y=e.closeupNavigationType,h=e.componentType,m=e.contextLogData,x=e.clientTrackingParams,S=e.duploShouldTrackPinEvents,w=e.elementType,P=e.impressionAuxFields,I=e.inImpressionExp,j=e.impressionType,k=e.impressionsFramework,T=e.isPaused,O=e.loggingId,E=e.objectIdStr,C=e.slotIndex,A=e.trackCarousel,D=e.viewData,F=e.viewParameter,L=e.viewType,M=e.isPromoted,R=e.storyPinProductEventData,B=(0,a.v)().logContextEvent,Z=(0,d.r)().logMrcVideoAdEventOnPlay,z=(0,u.B)().userAgent.browserName,N=(0,p.Yg)().logStat,U=k||s.Z,H=(0,r.useRef)(null),q=function(e){var r,a,l,s,u,c,d,p,f=b[j],g=f.idType,I=v(v((_(k={clientTrackingParams:x,endTime:e.endTime},g,O),_(k,"slotIndex",C),_(k,"time",e.startTime),_(k,"renderDuration",e.endTime-e.startTime),_(k,"type",t),k),P),{},{forcedExit:"removed"===e.forcedExit?0:void 0});if("Pin"===j){var k,T,M,U=[],H=e.visibleEvents||new Map,q=e.hiddenEvents||new Map;if([1,50,80,2].forEach(function(e){H.has(e)&&U.push({type:e,time:1e6*(H.get(e)||0),visible:!0}),q.has(e)&&U.push({type:e,time:1e6*(q.get(e)||0),visible:!1})}),I=v(v({},I),{},{pinCellWidth:e.pinCellWidth||0,pinCellHeight:e.pinCellHeight||0,windowWidth:null===(T=window)||void 0===T?void 0:T.innerWidth,windowHeight:null===(M=window)||void 0===M?void 0:M.innerHeight,visibleEvents:U.sort(function(e,n){return e.time-n.time})}),(0,o.i7)(z)&&P&&P.isPromoted){var K=P.attributionSourceId,G=P.isPromoted,Y=P.link,W=P.campaignId,V=P.araAuxData,Q=P.advertiserId,X=P.domain,$=P.adDestinationUrl;(0,i.YS)(j,null!=G?G:null,null!=K?K:null,null!=Y?Y:null,null!=W?W:null,null!=V?V:null,null!=Q?Q:null,null!=X?X:null,null!=$?$:null)}}var J={component:h,object_id_str:E,view_type:L,view_data:D||{},view_parameter:F};if(A)n&&A&&B(v(v({event_type:7352,event_data:{pinCarouselSlotImpressions:[v(v({},I),"canonical"===n.type?{carouselDataId:Number(null!==(r=n.carouselId)&&void 0!==r?r:0),slotIndex:n.index,carouselSlotId:(null===(a=n.carouselSlots)||void 0===a?void 0:a[null!==(l=n.index)&&void 0!==l?l:0])&&Number(n.carouselSlots[null!==(s=n.index)&&void 0!==s?s:0].slotId)}:{carouselDataId:Number(null!==(u=n.id)&&void 0!==u?u:0),carouselSlotId:(null===(c=n.carousel_slots)||void 0===c?void 0:c[null!==(d=n.index)&&void 0!==d?d:0])&&Number(n.carousel_slots[null!==(p=n.index)&&void 0!==p?p:0].id),slotIndex:n.index})]}},J),{},{aux_data:v({},m)}));else{var ee=v(v({clientTrackingParams:x,event_type:f.eventType},J),{},{element:w,event_data:v(_({},f.impressionType,"Story"===j?I:[I]),R?{storyPinProductEventData:R}:{}),aux_data:v({closeup_navigation_type:y},m)});B(ee),Z(ee)}S&&N("log_pin_impression")},K=(0,l.Z)({skipActivation:!0}),G=K.expName,Y=K.group,W=(0,c.ZP)(),V=(0,g.MM)(),Q=(0,u.B)().isAuthenticated,X=(0,r.useCallback)(function(){var e=!1;try{var n=H.current;if(n instanceof HTMLElement&&(!M||n.getElementsByTagName("img").length>0)){var t=U.start(n);t.onExitViewport(q).setDebugId(O||"unknown"),S&&t.onEnterViewport(function(){N("log_pin_impression_track_enter_viewport")}),e=!0,Y&&(0,f.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:W,experimentName:G,group:Y,handlerId:V,isAuthenticated:Q,slotIndex:null!=C?C:"unknown"}})}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}S&&N("log_pin_impression_track",{didStartTracking:e})},[H.current]);return(0,r.useEffect)(function(){return I&&!U.inExperiment&&U.setExperimentStatus(!0),T||X(),function(){var e=H.current;e instanceof HTMLElement&&(!M||e.getElementsByTagName("img").length>0)&&U.stop(e)}},[T,X]),H}var S=function(e){return(0,e.children)({impressionTrackerRef:x(function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,y))})}},793355:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(282480),i=t(989820),o=t(371160),a=t(770443);function l(e){var n=e.allBold,t=e.searchDelightConfig,l=e.query,s=void 0===l?"":l,u=e.text,c=(u.toLowerCase().startsWith(s.toLowerCase())?s:"").length,d=t?(0,i.pF)(u,t.search_query_list):null;return d&&t?(0,a.jsx)(i.KS,{allBold:n,searchDelightConfig:t,searchDelightParts:d,text:u,weightPivot:c}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(o.Z,{gray:!0,weight:n?"bold":"normal",children:u.substr(0,c)}),(0,a.jsx)(o.Z,{weight:"bold",children:u.substr(c)})]})}},961414:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(282480),i=t(360307),o=t(465848),a=["bookmarks"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){t(e);return}l.done?n(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)})}}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==l(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===l(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e){var n,t,l,u,d,f,g,y,h,m,v,_,b,x,S=e.allowSearchOnMount,w=void 0!==S&&S,P=e.resourceName,I=e.resourceOptions,j=void 0===I?{}:I,k=e.value,T=(0,r.useRef)(!1),O=(0,r.useRef)({}),E=function(e){if(Array.isArray(e))return e}(x=(0,r.useState)([]))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(x,2)||function(e,n){if(e){if("string"==typeof e)return s(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,2)}}(x,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=E[0],A=E[1],D=(m=(n={resourceName:P,resourceOptions:j}).resourceName,v=n.resourceOptions,_=(0,o.vL)(),(b=(0,r.useRef)()).current||(b.current=(u=(0,(t={resourceCreator:_,resourceName:m,resourceOptions:v}).resourceCreator)(t.resourceName,p(p({},l=t.resourceOptions),{},{count:"count"in l?l.count:5})),d=new i.Z,f=function(){u.abort()},g=c(regeneratorRuntime.mark(function e(n,t){var r,i,o,l,s,c,g,y,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isCalling()){e.next=8;break}if(o=null===(r=u.options)||void 0===r?void 0:r.term,l=null===(i=u.options)||void 0===i?void 0:i.pin_scope,!(n===o&&t===l)){e.next=7;break}return e.abrupt("return",void 0);case 7:f();case 8:return(s=u.options||{}).bookmarks,c=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(s,a),u.options=p(p({},c),{},{term:n,pin_scope:t}),e.next=12,u.callGet({showError:!1});case 12:return y=null==(g=e.sent.resource_response.data)?void 0:g.items,m={hint:h=(null==g?void 0:g.hint)||{},items:y},d.set("".concat(t,"-").concat(n),m),e.abrupt("return",{term:n,items:y,hint:h});case 19:case"end":return e.stop()}},e)})),y=function(e,n){return g.apply(this,arguments)},h=c(regeneratorRuntime.mark(function e(n,t){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.get("".concat(t,"-").concat(n)))||!((i=r.items)&&i.length)){e.next=7;break}return f(),o=r.hint,e.abrupt("return",{hint:o,items:i,term:n});case 7:if(!(n.length>=0)){e.next=11;break}return e.abrupt("return",y(n,t));case 11:return e.abrupt("return",{hint:{},items:[],term:n});case 12:case"end":return e.stop()}},e)})),function(e,n){return h.apply(this,arguments)})),b.current),F=j.pin_scope||"pins",L="".concat(F,"-").concat(k);return(0,r.useEffect)(function(){c(regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=k&&""!==k&&(w||T.current))){e.next=17;break}if(!(L in O.current)){e.next=5;break}A(O.current[L]),e.next=17;break;case 5:return e.prev=5,e.next=8,D(k,F);case 8:(n=e.sent)&&(t=n.items,O.current[L]=t,A(t)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:T.current||(T.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[k,F,L]),C}},663641:function(e,n,t){t.d(n,{Hd:function(){return u},_R:function(){return l},gi:function(){return o},lw:function(){return r},oD:function(){return i},wF:function(){return s},zh:function(){return a}});var r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},i=function(e){var n=Object.values(r).find(function(n){return n===e});return null!=n?n:void 0},o=function(e){switch(e){case r.PINS:return 0;case r.PINS_MINE:return null;case r.PINS_BUYABLE:return 1;case r.PINS_VIDEO:return 2;case r.BOARDS:return 3;case r.USERS:return 4;default:return null}},a=function(e){switch(e){case 0:return r.PINS;case 1:return r.PINS_BUYABLE;case 2:return r.PINS_VIDEO;case 3:return r.BOARDS;case 4:return r.USERS;default:return null}},l=function(e){switch(e){case r.PINS_MINE:case r.MY_CONTENT:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.SHOP_TOOL:return 3380;case r.BOARDS:return 44;case r.USERS:return 45;case r.PINS:default:return 43}},s=function(e){switch(e){case r.PINS:return 60;case r.PINS_MINE:case r.MY_CONTENT:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}},u=function(e,n){if(n)switch(e){case r.USERS:return 1000392;case r.PINS_BUYABLE:return 1000391;case r.PINS:default:return 29}switch(e){case r.USERS:return 1000432;case r.PINS_BUYABLE:return 1000433;case r.PINS:default:return 1000269}}},24534:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(937304);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){var n=e.query,t=e.rs,a=e.scope,l=e.guideAdded,s=e.filters,u=e.user,c=e.requestParams,d=e.selectedOneBarModules;if(!n)return"/";var p=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!==i(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===i(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({q:n,rs:t},c);if(s&&(p.filters=s),u&&(p.user=u),d&&(p.selected_one_bar_modules=d),l&&l.term&&(p.add_refine="".concat(l.term,"|guide|word|").concat(l.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(p));var f=a;return["pins","buyable_pins","my_pins","boards","users","idea_pins","videos"].includes(f)||(f="pins"),f?"/search/".concat(f,"/?").concat((0,r.Z)(p)):"".concat(window.location.pathname,"?").concat((0,r.Z)(p))}},613059:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(868808);function i(e){var n,t=(0,r.mB)(e.search)||{};if(t.q){var i=e.pathname.split("/");n=i.length>2?i[2]:"pins"}if(t.q&&n){var o=Array.isArray(t.q)?t.q.join(" "):t.q,a=Array.isArray(t.rs)?"":t.rs,l=Array.isArray(t.user)?"":t.user;return{filters:t.filters||"",user:l,query:o||"",rs:a||"",scope:"pins"===n||"buyable_pins"===n||"my_pins"===n||"boards"===n||"users"===n||"videos"===n||"idea_pins"===n?n:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},61853:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){return[e.category,e.domains,e.maxPrice,e.minPrice].map(function(e){return null!=e?e:""}).join("-")}},573372:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(713211),i=t(937304);function o(e){var n=e.bubbleId,t=e.pinId,o=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,u=e.title,c=[0,24,21,26].includes(l),d=(0,i.Z)({q:o,rs:a||void 0,b_id:n,source_id:s,top_pin_id:t}),p=c&&u?(0,r.x)({title:u,id:n,articleType:"discover"}):"/discover/article/".concat(n,"/");return c?p:"/search/pins/".concat(d?"?"+d:"")}},607320:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(868808);function i(e,n){var t=(0,r.mB)(e);return t.utm_pai&&t.utm_source&&t.pid&&"pins"===n?t.pid:null}},851680:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){return(e||"").trim().replace(/\s+/g," ")}},728593:function(e,n,t){var r=t(830997),i=t(873095);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}n.Z=function(){var e=(0,r.g)(),n=(0,i.l)();return function(t){var r,i=t.mobileOptions,l=t.desktopOptions,s=t.reason,u=t.attributionLabel,c=t.pinId;e?e.showDesktopSignupModal(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==o(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===o(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({signupFlow:(null==l?void 0:l.modalType)==="login"?{type:"login"}:{type:"signup"},reason:s,attributionLabel:u},null==l?void 0:l.modalOptions)):n&&n.showMobileSignupModal({reason:s,attributionLabel:u,headingType:null!==(r=null==i?void 0:i.headingType)&&void 0!==r?r:"none",pinId:c})}}},205906:function(e,n,t){t.d(n,{J:function(){return r},Z:function(){return i}});var r=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},790661:function(e,n,t){var r=t(976534);n.Z=function(e){var n=e.url;if(n){var t=n.split("?");if(t[1])return(0,r.Z)(t[1])}return(0,r.Z)()}},701899:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(282480),i=t(297949),o=t(770443);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){p(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e,n){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,n,t){return(n=f(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e){var n=function(e,n){if("object"!==a(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===a(n)?n:String(n)}var g={default:{backgroundColor:"#efefef",boxShadow:"none"},drag:{backgroundColor:"#d7edff",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"#ffe0e0",boxShadow:"0 0 0 1px #e60023"}},y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&u(e,n)}(l,e);var n,t,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=d(l);return e=n?Reflect.construct(t,arguments,d(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function l(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return p(c(e=r.call.apply(r,[this].concat(t))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),p(c(e),"handleOnDragEnter",function(n){var t=e.props.onDragEnter;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!0}),t&&t(n)}),p(c(e),"handleOnDragLeave",function(n){var t=e.props.onDragLeave;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!1}),t&&t(n)}),p(c(e),"handleOnDragOver",function(n){var t=e.props.onDragOver;n.preventDefault(),n.stopPropagation(),t&&t(n)}),p(c(e),"handleOnDrop",function(n){var t=e.props.onDrop;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!1}),t&&t(n)}),p(c(e),"handleMouseEnter",function(){var n=e.props.onMouseEnter;n&&n(),e.setState({isHoveringOver:!0})}),p(c(e),"handleMouseLeave",function(){var n=e.props.onMouseLeave;n&&n(),e.setState({isHoveringOver:!1})}),p(c(e),"setContainedHeight",function(n){e.setState({containedHeight:n})}),e}return t=[{key:"getDragContainerStyles",value:function(e,n){return n&&"default"===e?s(s({},g[e]),{},{backgroundColor:n}):g[e]}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.color,r=e.dropRounding,a=e.hasError,l=e.height,u=e.position,c=e.width,d=this.state,p=d.isDraggingOver,f=d.isHoveringOver,g=d.containedHeight;return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:s(s({},this.getDragContainerStyles(p?"drag":a?"error":"default",t)),r?{borderRadius:r}:{})},"data-test-id":"drag-behavior-container",height:l||g||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:u,rounding:2,width:c||"100%",children:n(p,f,this.setContainedHeight,g)})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(l.prototype,t),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component)},547482:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(282480),i=t(297949),o=t(701899),a=t(770443);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n,t){return(n=p(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){var n=function(e,n){if("object"!==l(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===l(n)?n:String(n)}var f={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},g=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&s(e,n)}(g,e);var n,t,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=c(g);return e=n?Reflect.construct(t,arguments,c(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"===l(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function g(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,g);for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return d(u(e=r.call.apply(r,[this].concat(t))),"handleChange",function(n){var t=e.props.onChange;n.preventDefault(),n.stopPropagation(),t&&t(n),n.target.value=""}),d(u(e),"handleClick",function(n){var t=e.props.onClick;t&&t(n)}),e}return t=[{key:"render",value:function(){var e=this,n=this.props,t=n.accept,r=n.accessibilityLabel,l=n.allowMultipleFiles,s=n.children,u=n.color,c=n.dropRounding,d=n.hasError,p=n.height,g=n.id,y=n.onDrop,h=n.position,m=n.rounding,v=void 0===m?2:m,_=n.width,b=n.isAriaHidden,x=void 0===b?void 0:b,S=n.experimentsClient;return(0,a.jsx)(o.Z,{color:u,dropRounding:c,experimentsClient:S,hasError:d,height:p,onDrop:y,position:h,width:_,children:function(n){return(0,a.jsxs)(i.xu,{height:"100%",position:"relative",rounding:v,children:[s(n),(0,a.jsx)("input",{accept:t,"aria-hidden":x,"aria-label":r,"data-test-id":g,id:g,multiple:l,onChange:e.handleChange,onClick:e.handleClick,style:f,tabIndex:x?-1:0,type:"file"})]})}})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}(g.prototype,t),Object.defineProperty(g,"prototype",{writable:!1}),g}(r.Component)},248623:function(e,n,t){t.d(n,{P7:function(){return i},Zx:function(){return l},sc:function(){return a},ss:function(){return o},xl:function(){return r}});var r=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],i=["bmp","gif","jpg","jpeg","png","tiff","webp"],o=["video/mp4","video/x-m4v","video/quicktime"],a=["mp4","m4v","mov"],l={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},132793:function(e,n,t){var r=t(453503),i=t(557268);n.Z=function(e){return function(n){return new Promise(function(t,o){var a=new Image;a.addEventListener("load",function(){return t({fileSrc:n,height:a.height,id:(0,r.Z)(),name:n.name,size:n.size,src:a.src,type:"localImage",width:a.width})}),a.addEventListener("error",function(){return o((0,i.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),a.src=URL.createObjectURL(n)})}}},697208:function(e,n,t){var r=t(453503),i=t(557268),o=t(120252);n.Z=function(e){return function(n){return new Promise(function(t,a){var l,s=new FileReader,u=((null===(l=window.navigator)||void 0===l?void 0:l.userAgent)||"").includes("Safari")?n.slice(0,n.size,"video/mp4"):n,c=URL.createObjectURL(u);s.addEventListener("load",function(){var l=document.createElement("video");l.addEventListener("loadedmetadata",function(){return t({id:(0,r.Z)(),duration:l.duration,fileSrc:n,height:l.videoHeight,name:n.name,size:n.size,src:l.src,thumbnail:0,type:"localVideo",width:l.videoWidth})}),l.addEventListener("error",function(){a((0,i.Z)((0,o.Z)(),e))}),l.src=c}),s.readAsDataURL(n)})}}},120252:function(e,n,t){t.d(n,{Z:function(){return r}});function r(){var e,n=(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"";if(n.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(n.includes("SamsungBrowser")||n.includes("Opera")||n.includes("OPR")||n.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(n.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(n.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(n.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},816222:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(248623),i=t(557268),o=t(132793),a=t(994964),l=t(741326);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var u=t(707874),c=t(697208),d=t(120252);function p(e){var n,t,p=e.i18n,f=e.file,g=e.options,y=e.ideaPinRenamingEnabled,h=e.imageFileTypes,m=void 0===h?r.xl:h,v=g||{},_=v.allowVideo,b=v.videoOnly;return r.ss.includes(f.type)&&_?(t=(n=(g||{}).forStoryPin)?u.Lr:2147483648,f.size>t?Promise.resolve((0,i.Z)(n?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",p)):(0,c.Z)(p)(f).then(function(e){var n,t,r,o,a,l,s,c;return n=p,t=e,o=(r=g||{}).forStoryPin,a=r.allowAllAspectRatios,s=(l=!!o)?u.W_:4,c=l?u.P9:900,t.duration<s?(0,i.Z)(l?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",n):t.duration>c?(0,i.Z)(l?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",n):t.width&&t.height?!a&&(t.width/t.height<.5||t.width/t.height>1.91)?(0,i.Z)("VIDEO_UNSUPPORTED_RATIO",n):t.width<100||t.height<100?(0,i.Z)("VIDEO_UNDER_MIN_DIMENSIONS",n):t:(0,i.Z)((0,d.Z)(),n)}).catch(function(e){return e})):!m.includes(f.type)||b?Promise.resolve((0,i.Z)("FILE_UNRECOGNIZED_TYPE",p)):f.size>20971520?Promise.resolve((0,i.Z)("IMAGE_OVER_MAX_FILE_SIZE",p)):(0,o.Z)(p)(f).then(function(e){var n,t,r,i,o,u;return r=(t=function(e){if(Array.isArray(e))return e}(n=a.Z.enabled("pinQuality")||null!=g&&g.isStoryPin?[300,200]:[100,100])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return s(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=t[1],o=(null==g?void 0:g.minHeight)||r,u=(null==g?void 0:g.minWidth)||i,e.height*e.width>89478485?(0,l.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:y}):e.height<o||e.width<u?(0,l.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:y,options:g}):e}).catch(function(e){return e})}},557443:function(e,n,t){t.d(n,{$:function(){return o},B:function(){return i}});var r=(0,t(498490).Z)("SurfaceContext",{surface:"Unknown"}),i=r.Provider,o=r.useHook},533191:function(e,n,t){t.d(n,{Z:function(){return P}}),t(711284);var r,i=t(297949),o=t(488792),a=t(47848),l=t(144326),s=t(297728),u=t(728593),c=t(1006),d=t(154785),p=t(901450),f=t(410150),g=t(969119),y=t(383399),h=t(578406),m=t(934648),v=t(424583),_=t(310368),b=t(55463),x=t(770443),S=function(e){var n=e.children,t=e.pulsar,r=e.testId;return t.show?(0,x.jsx)(i.xu,{"data-test-id":r,position:"relative",children:(0,x.jsxs)(i.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,x.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:n}),(0,x.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,x.jsx)(i.o3,{})})]})}):(0,x.jsx)(i.xu,{"data-test-id":r,children:n})},w=void 0!==r?r:r=t(646920);function P(e){var n,t=e.auxData,r=e.disabled,P=e.disableLog,I=e.followEventType,j=e.id,k=e.inline,T=e.invertColors,O=e.isFollowed,E=e.isIdeaPin,C=e.isLegoEnabled,A=e.isSecondaryButton,D=e.isUserFollowButton,F=e.isUserMe,L=e.onFollow,M=e.onUnfollow,R=e.pinKey,B=e.shouldUseLegoColors,Z=e.showPulsar,z=e.size,N=e.textType,U=void 0===N?"FollowFollowing":N,H=e.unfollowEventType,q=e.viewParameter,K=e.viewType,G=e.clientTrackingParams,Y=(0,l.ZP)(),W=(0,f.HG)(),V=(0,p.F9)().showToast,Q=(0,d.Z)(),X=(0,o.Z)(),$=(0,u.Z)(),J=(0,s.F)().checkExperiment,ee=(0,m.Z)(),en=(0,y.Z)(),et=en&&en.isAuth,er=(0,b.f)(),ei=er.unauthFollowUserId,eo=er.setUnauthFollowUserId,ea=(0,v.mN)()(j),el=ea&&{imageMediumUrl:ea.image_medium_url,username:ea.username},es=(0,a.Z)(w,R),eu=null==es?void 0:es.linkDomain,ec=null==es?void 0:es.nativeCreator,ed=null==es?void 0:es.originPinner,ep=null==es?void 0:es.pinner;n=ec||(eu?eu.officialUser:ed||ep);var ef=null!=el?el:n;(0,g.Z)(function(){!W&&et&&ei&&j&&ei===j&&L(j)});var eg=ee({fn:function(){et?O?(M(j),P||X({event_type:H,view_type:K,view_parameter:q,object_id_str:j,aux_data:t,clientTrackingParams:G})):(L(j),D&&V(function(e){var n=e.hideToast,t=null!=ef&&ef.username?"/".concat(ef.username,"/"):"";return(0,x.jsx)(_.Z,{handleHide:n,href:t,imageUrl:(null==ef?void 0:ef.imageMediumUrl)||"",text:(0,x.jsx)(i.xv,{lineClamp:4,children:Y._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:j})}),P||X({event_type:I,view_type:K,view_parameter:q,object_id_str:j,aux_data:t,clientTrackingParams:G})):((0,c.NC)(O?"press_profile_unfollow":"press_profile_follow"),Q({action:"click",item:O?"unfollow-button":"follow-button"}),$({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:E?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:W&&J("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!W&&J("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),W||eo(null!=j?j:""),(0,c.NC)("clickthrough"))},modalHeader:(0,h.N4)({i18n:Y,toFollow:!O})}),ey=!O&&!!Z,eh=function(){if(F)return Y._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===U)return O?Y._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):Y._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===U?Y._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):Y._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return O?e:Y._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(S,{pulsar:ey?{show:!0,onClick:eg}:{show:!1},testId:F||O?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(i.zx,{accessibilityLabel:eh(),color:B||"AddRemove"===U||!C&&A||T?"gray":"red",disabled:F||r,fullWidth:k,onClick:ey?void 0:function(e){var n=e.event;n.preventDefault(),n.stopPropagation(),P||X({event_type:101,component:13672,element:11951,object_id_str:j,view_type:K,view_parameter:q,aux_data:t,clientTrackingParams:G}),eg()},selected:O||!1,size:z,text:eh()})})}},87416:function(e,n,t){t.d(n,{Cy:function(){return p},HE:function(){return f},Mv:function(){return s},PR:function(){return m},Y4:function(){return g},dL:function(){return l},fS:function(){return y},fv:function(){return c},lu:function(){return h},qS:function(){return d},uc:function(){return u}});var r=t(788388);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!==i(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===i(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var l=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},s=function(e){var n=(0,r.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},u=function(e){var n=(0,r.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},c=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:n})},d=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},p=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},f=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},g=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},y=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:n})},h=function(e){var n,t=(0,r.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!==(n=e.slotIndex)&&void 0!==n?n:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},m=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})}},888027:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r,i=t(545007);t(711284);var o=t(297949),a=t(488792),l=t(47848),s=t(730212),u=t(1006),c=t(154785),d=t(410150),p=t(383399),f=t(795644),g=t(464099),y=t(478595),h=t(560425),m=t(770443),v=void 0!==r?r:r=t(777579),_=["thumbnail","imageOnly"];function b(e){var n,t,r,b,x,S,w,P,I,j,k,T,O,E,C,A,D,F,L,M,R,B,Z=e.boardKey,z=e.containerBackgroundColor,N=e.display,U=e.forwardedRef,H=e.fullSize,q=e.hideSecretBoardIcon,K=e.isAttributionHeightUnfixed,G=e.isBoardsActualizationReps,Y=e.isCollaboratorsAttributionVisible,W=e.isFeaturedBoardsModule,V=e.isNoBoardTitleStyle,Q=e.noPaddings,X=e.showFollowButton,$=e.showMask,J=e.showPinCount,ee=e.slotIndex,en=e.type,et=e.viewParameter,er=e.viewType,ei=(0,p.Z)(),eo=ei&&ei.isAuth,ea=(0,i.I0)(),el=(0,s.B)().locale,es=(0,c.Z)(),eu=(0,l.Z)(v,Z),ec=(0,g.Z)(eu),ed=(0,a.Z)(),ep=(0,d.HG)();if(!eu)return null;var ef=eu.owner,eg=eu.shouldShowBoardCollaborators,ey=ei.isAuth?ei.id:"",eh=(null==ef?void 0:ef.entityId)===ey,em=(null===(n=eu.collaboratingUsers)||void 0===n?void 0:n.__typename)==="UserCollaboratingUsersConnectionContainer"?null===(t=eu.collaboratingUsers.connection)||void 0===t?void 0:t.edges:[],ev=null==em?void 0:em.some(function(e){var n;return(null==e?void 0:null===(n=e.node)||void 0===n?void 0:n.entityId)===ey});if("secret"===eu.privacy&&!ev&&!eh)return null;var e_="grid"===en||"thumbnail"===en?2:4,eb=ec(e_),ex=null!==(r=(null==eu?void 0:null===(b=eu.coverPin)||void 0===b?void 0:b.crop)&&(null==eu?void 0:null===(x=eu.coverPin)||void 0===x?void 0:x.size)&&{x:null!==(S=null==eu?void 0:null===(w=eu.coverPin)||void 0===w?void 0:w.crop[0])&&void 0!==S?S:0,y:null!==(P=null==eu?void 0:null===(I=eu.coverPin)||void 0===I?void 0:I.crop[1])&&void 0!==P?P:0,width:null!==(j=null==eu?void 0:null===(k=eu.coverPin)||void 0===k?void 0:k.size[0])&&void 0!==j?j:0,height:null!==(T=null==eu?void 0:null===(O=eu.coverPin)||void 0===O?void 0:O.size[0])&&void 0!==T?T:0})&&void 0!==r?r:{x:0,y:0,width:0,height:0},eS={isCustom:eu.hasCustomCover||void 0,url:eb,position:ex},ew=(0,y.Jx)(null==eu?void 0:eu.images170x,null!==(E=null==eu?void 0:null===(C=eu.pinThumbnailUrls)||void 0===C?void 0:C.filter(function(e){return null!==e}))&&void 0!==E?E:void 0,eb).map(function(e){var n=e.url;return{name:(0,y.po)(n),url:n}}),eP=[44,49].includes(et),eI=null!=eu&&eu.sensitivityScreen?{reason:null===(A=eu.sensitivityScreen)||void 0===A?void 0:A.reason,showWarning:null===(D=eu.sensitivityScreen)||void 0===D?void 0:D.showWarning}:void 0,ej=(0,m.jsx)(f.Z,{archivedDate:null!==(F=eu.archivedByMeAt)&&void 0!==F?F:void 0,boardId:eu.entityId,canEdit:!!eu.boardAccess&&eu.boardAccess.includes("write"),containerBackgroundColor:z,coverPhoto:eb?eS:null,display:void 0===N?"responsive":N,followedByMe:!!eu.followedByMe,fullSizeDrawer:H,hideMeta:_.includes(en),hideSecretBoardIcon:void 0!==q&&q,id:eu.entityId,imagesLego:ew,isAttributionHeightUnfixed:void 0!==K&&K,isAuthenticated:eo,isBoardsActualizationReps:void 0!==G&&G,isCollaborative:!!eu.isCollaborative,isCollaborator:!!ev,isCollaboratorsAttributionVisible:void 0!==Y&&Y,isFeaturedBoardsModule:void 0!==W&&W,isNoBoardTitleStyle:void 0!==V&&V,isOwner:eh,isProtected:"protected"===eu.privacy,isSecret:"secret"===eu.privacy,isTemporarilyDisabled:!!eu.isTemporarilyDisabled,lastModifiedDate:null!==(L=eu.boardOrderModifiedAt)&&void 0!==L?L:"",layout:ep?"square":void 0,locale:el,metaMarginTop:2,metaPaddingY:0,name:null!==(M=eu.name)&&void 0!==M?M:"",numberOfCollaborators:null!==(R=null==em?void 0:em.length)&&void 0!==R?R:0,numCols:e_,onFollow:function(e){return ea((0,h.Z)(e,ed))},onUnfollow:function(e){return ea((0,h.f)(e,ed))},pinCount:(void 0===J||J)&&eu.pinCount?eu.pinCount:void 0,sectionCount:null!==(B=eu.sectionCount)&&void 0!==B?B:0,sensitivityScreen:eI,showBoardCollaborators:!1!==eg,showFollowButton:void 0===X||X,showMask:void 0!==$&&$,slotIndex:ee,userKey:null==eu?void 0:eu.owner,viewerId:ey,viewParameter:et,viewType:er});return!_.includes(en)&&eu.url?(0,m.jsx)(o.Tg,{href:eo?eu.url:eu.url.toLowerCase(),onTap:function(){if(eP){var e,n;ed({aux_data:{board_id:eu.entityId,board_pin_count:null!==(e=eu.pinCount)&&void 0!==e?e:0,board_section_count:null!==(n=eu.sectionCount)&&void 0!==n?n:0},component:1,element:36,event_type:102,view_parameter:49===et?eh?3106:3107:et})}eo||((0,u.NC)("click_go_to_board"),es({action:"click",item:"board-card"}))},rounding:2,tapStyle:"compress",children:(0,m.jsx)(o.xu,{ref:U,paddingY:void 0!==Q&&Q?0:ep?2:3,children:ej})}):ej}},827423:function(e,n,t){function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{C:function(){return i},_:function(){return l}});var i=function(e){return!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname)},o=function(e){var n=e.pathname;return/^\/search\/pins\//.test(n)},a=function(e){var n=e.pathname,t=e.search,r=/^\/search\/pins\/(\?.*)$/.exec(n),i=(t||r&&r[1]||"").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){return"q"===e[0]});return i?decodeURIComponent(i[1]):""},l=function(e){var n=((function(e){if(Array.isArray(e))return r(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return r(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().find(function(e){var n=e.location;return n&&!i(n)});return n&&n.location&&o(n.location)?a(n.location):""}},598259:function(e,n,t){t.d(n,{O:function(){return d},Z:function(){return p}});var r=t(282480),i=t(297949),o=t(144326),a=t(297728),l=t(635258),s=t(557443),u=t(770443),c={xs:12,sm:16,md:20,lg:24};function d(e){var n=e.children,t=(0,o.ZP)();return(0,u.jsx)(i.u,{link:(0,u.jsx)(i.rU,{href:l.vBy,target:"blank",children:(0,u.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:n})}function p(e){var n=e.iconOnly,t=e.isVerifiedIdentity,l=e.isVerifiedMerchant,p=e.showText,f=e.size,g=(0,o.ZP)(),y=(0,a.F)().checkExperiment,h=(0,s.$)().surface,m=(0,u.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(i.JO,{accessibilityLabel:g._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:c[f]}),p&&(0,u.jsx)(i.xu,{marginStart:2,children:(0,u.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:g._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});if((t||l)&&(!h||h&&["AuthHomefeed","RelatedPinGrid","SearchItem","BaseBoardPinGrid"].includes(h))&&"enabled_att_trusted_merchants_and_verified_creators_only"===y("simplify_creator_attributions_web").group)return(0,u.jsx)(r.Fragment,{});switch(y("simplify_creator_attributions_web").group){case"enabled_att_trusted_merchant_blue_checkmark":return(0,u.jsxs)(r.Fragment,{children:[l&&!n&&(0,u.jsx)(d,{children:m}),l&&n&&m]});case"enabled_att_creators_with_red_checkmarks":return(0,u.jsx)(r.Fragment,{children:t&&(0,u.jsx)(i.JO,{accessibilityLabel:g._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:c[f]})});default:return(0,u.jsxs)(r.Fragment,{children:[l&&!n&&(0,u.jsx)(d,{children:m}),l&&n&&m,t&&!l&&(0,u.jsx)(i.JO,{accessibilityLabel:g._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:c[f]})]})}}},810655:function(e,n,t){t.d(n,{A:function(){return l},Z:function(){return s}});var r=t(282480),i=t(297949),o=t(770443);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var n,t,s,u=e.backgroundColor,c=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,g=e.id,y=e.isHovered,h=e.onClick,m=e.onMouseDown,v=e.onMouseEnter,_=e.onMouseLeave,b=e.searchBoxRenderStopwatch,x=e.url,S=e.width,w=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return a(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=w[0],I=w[1],j=function(){v?v():I(!0)},k=function(){_?_():I(!1)},T=y||P,O=T?l.hoverOverlay:l.bubbleOverlay;return(0,o.jsx)(i.Tg,{href:x,onBlur:k,onFocus:j,onMouseDown:m,onMouseEnter:j,onMouseLeave:k,onTap:function(){null==h||h(g)},rounding:4,tabIndex:p?-1:void 0,children:(0,o.jsx)(i.zd,{height:f,rounding:4,width:S||"100%",children:null!=d&&d.url?(0,o.jsxs)(i.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!==(t=d.height)&&void 0!==t?t:1,naturalWidth:null!==(s=d.width)&&void 0!==s?s:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:d.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",width:"100%"}),"function"==typeof c?c({isHovered:T}):c]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},663267:function(e,n,t){t.d(n,{Z:function(){return n$}});var r,i=t(282480),o=t(868073),a=t(297949),l=t(503546),s=t(795264),u=t(269771),c=t(573706),d=t(144326),p=t(969119),f=t(770443);function g(e){var n=e.showCancel,t=e.viewType,r=(0,d.ZP)(),i=(0,o.$B)().path,l=(0,c.v)().logContextEvent,s=(0,u.t)(),g=s.setImage,y=s.setUpdatedCropArea,h=s.setIsLensModalOpen,m="/lens-search"===i;(0,p.Z)(function(){l({component:43,element:1304,event_type:120,view_type:t})});var v=function(){l({component:43,element:1304,event_type:101}),h(!0)};return(0,f.jsxs)(a.kC,{alignItems:"center",direction:"row",height:"100%",children:[n&&(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #cdcdcd",borderRadius:24}},"data-test-id":"lens-vertical-line",height:20}),(0,f.jsx)(a.hU,{accessibilityLabel:r._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"search-by-image",iconColor:"gray",onClick:function(){m||(g(void 0),y(void 0)),v()}})]})}var y=t(262462),h=t(961754),m=t(160647),v=t(453854);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function b(){var e,n=(0,d.ZP)(),t=(0,u.t)(),r=t.setHistoryData,l=t.setImage,s=t.setIsLensModalOpen,p=(0,o.k6)(),g=(0,c.v)().logContextEvent,y=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,n){if(e){if("string"==typeof e)return _(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=y[0],x=y[1],S=(0,h.Z)({name:"ApiResource",options:{url:"/v3/visual_search/lens/history/",data:{fields:"id,image_urls,image_sizes"}},noCache:!0}),w=S.data,P=void 0===w?[]:w,I=S.isLoaded&&P&&P.length>0;(0,i.useEffect)(function(){!b&&I&&(g({component:15075,element:14560,event_type:120,view_type:119}),x(!0))},[I,g,x,b]),(0,i.useEffect)(function(){I&&r(P)},[r,P,I]);var j=function(){l(void 0),s(!1),g({component:15075,element:14560,event_type:101,view_type:119}),p.push("/lens-search/history")};return P&&0!==P.length?(0,f.jsx)(v.q,{children:function(e){var t=e.hovered,r=e.onMouseEnter,i=e.onMouseLeave;return(0,f.jsx)(a.iP,{onTap:j,children:(0,f.jsxs)(a.xu,{alignContent:"between",dangerouslySetInlineStyle:{__style:{backgroundColor:t?"rgba(0, 0, 0, .1)":void 0}},direction:"row",display:"flex",height:110,onMouseEnter:r,onMouseLeave:i,position:"relative",rounding:4,width:"100%",children:[(0,f.jsx)(a.xu,{marginTop:2,position:"relative",width:112,children:P.slice(0,3).map(function(e,n){return(null==e?void 0:e.id)&&n<3&&(0,f.jsx)(m.Z,{card:{url:e.image_urls["236x236"]},fanOut:!1,index:n,rounding:4,size:"SMALL"},e.id)})}),(0,f.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingX:2,width:"calc(100% - ".concat(112,"px)"),children:[(0,f.jsxs)(a.kC,{alignItems:"stretch",direction:"column",gap:1,justifyContent:"start",children:[(0,f.jsx)(a.X6,{size:"400",children:n._('History', 'lens.history', 'header for the history count')}),(0,f.jsx)(a.xv,{size:"200",children:n._('View previous uploads', 'lens.previous.uploads', 'previously uploaded lens image history ')})]}),(0,f.jsx)(a.JO,{accessibilityLabel:n._('Lens history', 'lens.history.navigation.button', 'Clicking on the button will navigate the user to the Lens History landing page'),color:"default",icon:"arrow-forward"})]})]})})}}):null}var x=t(910674),S=t(920595),w=t(194093),P=t(758339),I=t(240760),j=t(700337),k=t(741102),T=t(248623),O=t(547482),E=t(816222);function C(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){t(e);return}l.done?n(s):Promise.resolve(s).then(r,i)}function A(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){C(o,r,i,a,l,"next",e)}function l(e){C(o,r,i,a,l,"throw",e)}a(void 0)})}}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||F(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,n){if(e){if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,n)}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var M={border:"2px dashed #dadada",borderRadius:"16px",pointerEvents:"none"};function R(){var e,n=(0,d.ZP)(),t=(0,o.k6)(),r=(0,u.t)(),l=r.historyData,s=r.image,g=r.setHeroImageUrl,h=r.setImage,m=r.setImageData,v=r.setIsLensModalOpen,_=(0,o.$B)().path,C=(0,c.v)().logContextEvent,R=D((0,i.useState)(347),2),B=R[0],Z=R[1],z=D((0,i.useState)(""),2),N=z[0],U=z[1],H=D((0,i.useState)(""),2),q=H[0],K=H[1],G=D((0,i.useState)(null),2),Y=G[0],W=G[1],V=D((0,i.useState)(""),2),Q=V[0],X=V[1],$=(0,i.useRef)(),J="/lens-search"===_,ee="/lens-search/history"===_;(0,p.Z)(function(){C({component:15075,event_type:120,view_type:119})}),(0,i.useEffect)(function(){""===N?X(""):K("")},[N]),(0,i.useEffect)(function(){(J||ee)&&Y&&!s&&(v(!1),ee&&t.push("/lens-search/"))},[v,t,J,s,Y,ee]),(0,i.useEffect)(function(){s&&!J&&(t.push("/lens-search/"),v(!1))},[t,J,s,v]),(0,i.useEffect)(function(){l&&l.length>0&&347===B&&Z(B+110+12)},[l,Z,B]);var en=function(e){var n=new FormData;n.append("image",e),(0,S.Z)({url:"/upload-image-lens-history/",type:"PUT",data:n})},et=(0,i.useCallback)(A(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=14;break}return e.prev=1,e.next=4,(0,x.Z)(Y,m);case 4:return t=e.sent,e.next=7,(0,E.Z)({i18n:n,ideaPinRenamingEnabled:!1,file:t,options:{allowVideo:!1}});case 7:"error"===(r=e.sent).type?K(r.message):(K(""),h(t),en(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),K(null!==(i=(0,w.Z)(e.t0,"message"))&&void 0!==i?i:"");case 14:case"end":return e.stop()}},e,null,[[1,11]])})),[Y,K,h,n,m]),er=function(e){var t=(0,k.Z)({url:e});C({component:15075,element:14559,event_type:15656,view_type:119}),t?X(""):X(n._('Invalid URL. Try using another link', 'lens.url.invalid', 'Error message for invalid URL in Lens Image Search')),h(void 0),A(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,y.Z)(e);case 2:W(n.sent);case 4:case"end":return n.stop()}},n)}))(),e&&((0,y.Z)(e),g(e))},ei=function(){h(void 0),g(void 0)};return(0,i.useEffect)(function(){Y&&et()},[et,Y]),(0,f.jsx)(P.ZP,{accessibilityModalLabel:n._('Lens modal', 'lens.modal.accessibilityLabel', 'Modal for Lens Image Search'),align:"start",heading:(0,f.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,f.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:n._('Upload an image to search', 'lens.modal.header', 'Header for Lens Image Search modal')}),(0,f.jsx)(a.hU,{accessibilityLabel:n._('Lens icon', 'lens.entrypoint.icon', 'Icon for lens entrypoint'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){return v(!1)},size:"md"})]}),isOpen:!0,onDismiss:function(){return v(!1)},size:"sm",children:(0,f.jsx)(a.xu,{height:B,marginTop:1,paddingX:6,children:(0,f.jsxs)(a.xu,{height:311,position:"relative",children:[(0,f.jsx)(O.Z,{accept:((function(e){if(Array.isArray(e))return L(e)})(e=T.xl)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join(","),accessibilityLabel:n._('File Upload', 'lens.upload.fileUpload', 'Input where we upload files for Lens image search'),allowMultipleFiles:!1,dropRounding:16,hasError:!!q,id:"lens-photo-upload-input",onChange:function(e){var n,t=null===(n=e.target.files)||void 0===n?void 0:n[0];t&&(C({component:15075,element:14558,event_type:15656,view_type:119}),W(t)),ei()},onDrop:function(e){var t=e.dataTransfer.files;C({component:15075,event_type:3501,view_type:119}),t.length>1?K(n._('We can\u2019t search multiple images at once', 'lens.error.multipleImages', 'Error message for uploading multiple images in Lens Image Search')):(K(""),W(e.dataTransfer.files[0])),ei()},children:function(){return(0,f.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:M},direction:"column",display:"flex",height:"100%",children:[(0,f.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:70}},direction:"column",display:"flex",children:[(0,f.jsx)(a.JO,{accessibilityLabel:n._('Upload photo', 'lens.photo.upload.icon', 'Upload indicator for lens image search'),color:q?"error":"dark",icon:q?"alert":"arrow-circle-up",size:24}),(0,f.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,f.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:4,children:[!!q&&(0,f.jsx)(a.xu,{marginBottom:4,width:320,children:(0,f.jsx)(a.xv,{align:"center",color:"error",children:q})}),(0,f.jsx)(a.xv,{align:"center",inline:!0,children:(0,I.nk)(n._('Drag an image here or {{ chooseFile }}', 'lens.modal.uploadTip.dragImage', 'Upload tip for Lens Image Search. chooseFile: choose a file to upload'),{chooseFile:(0,f.jsx)(a.xv,{inline:!0,underline:!0,children:n._('choose a file', 'lens.modal.uploadTip', 'Upload tip for Lens Image Search')},"lens-choose-file")})})]})})]}),(0,f.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #cdcdcd"}},paddingY:6,position:"absolute",width:"90%",children:(0,f.jsx)(j.Z,{children:(0,f.jsxs)(a.xu,{position:"relative",zIndex:new a.Ry(10),children:[(0,f.jsx)(a.nv,{ref:$,errorMessage:Q,hasError:!!Q,id:"scrape-view-website-link",label:n._('Upload from URL', 'lens.url.label', 'Label for url input'),onChange:function(e){U(e.value)},placeholder:n._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:N}),!!N&&(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:30}},paddingX:2,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(a.hU,{accessibilityLabel:n._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"lightGray",icon:"arrow-forward",iconColor:"darkGray",onClick:function(){return er(N)},size:"sm"})})]})})})]})}}),(0,f.jsx)(a.xu,{marginTop:6,children:(0,f.jsx)(b,{})})]})})})}var B=t(635284),Z=t(611735),z=t(297728),N=(0,t(504178).Z)({name:"search_tab_render",sampleRate:1}),U=N.Provider,H=N.useHook,q=t(730212),K=t(454047),G=t(136061),Y=t(512541),W=t(282999);function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Q(e){var n=e.gradientPrimaryColor,t=e.gradientSecondaryColor,r=e.gradientDirection,i=e.position;return(0,f.jsx)(a.xu,{bottom:"bottom"===i,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(".concat(r,", ").concat(n,", ").concat(t,")"),pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===i,width:"100%",zIndex:new a.Ry(1)})}var X=function(e){var n=e.dynamicPlaceholderInteractable,t=e.hovered,r=e.onSelect,i=e.setHovered,o=e.term;return(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:n?"auto":"none"}},display:"inlineBlock",rounding:4,children:(0,f.jsx)(a.iP,{onFocus:function(){return r(o)},onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},rounding:4,tapStyle:"compress",children:(0,f.jsx)(a.xv,{color:t?"default":"subtle",inline:!0,lineClamp:1,weight:t?"bold":void 0,children:o})})})};function $(e){var n,t,r,o=e.authDynamicPlaceholderGroup,l=e.defaultPlaceholder,s=e.gradientSecondaryColor,u=void 0===s?"#FFF":s,c=e.height,p=e.isAuth,g=e.onFocus,y=e.onSearchTrigger,h=e.searchBoxIsFocused,m=e.suggestedSearchTerms,v=e.updateEnteredQuery,_=(0,d.ZP)(),b=m.length<3||p&&h,x=(0,i.useRef)(null),S=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return V(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=S[0],P=S[1],I=!!o&&["enabled_search","enabled_edit"].includes(o),j=function(e){"enabled_search"===o?null==y||y(e):(g(),v(e))};return(0,f.jsx)(a.xu,{ref:x,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:void 0===c?48:c,overflow:"hidden",position:"relative",children:b?(0,f.jsx)(a.xv,{color:"subtle",inline:!0,children:l}):(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(Q,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:u,position:"top"}),(0,f.jsx)(Q,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:u,position:"bottom"}),(0,f.jsxs)(a.kC,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,f.jsx)(a.xv,{color:"subtle",inline:!0,overflow:"noWrap",children:_._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,f.jsx)(Y.Z,{unsafeCSS:"\n@keyframes slide-3-terms-loop {\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-4-terms-loop {\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-5-terms-loop {\n  0%, 13.04% {\n    transform: translateY(0%);\n  }\n  20%,33.04%{\n    transform: translateY(-16.66%);\n  }\n  40%,53.04%{\n    transform: translateY(-33.33%);\n  }\n  60%,73.04%{\n    transform: translateY(-49.98%);\n  }\n  80%,93.04%{\n    transform: translateY(-66.64%);\n  }\n  100% {\n    transform: translateY(-83.3%);\n  }\n}\n"}),(0,f.jsx)(a.xu,{children:(0,f.jsxs)(a.xu,{dangerouslySetInlineStyle:(t=m.length,{__style:{animation:"slide-".concat(t,"-terms-loop ").concat(2.3*(t+1),"s ease-out infinite forwards"),animationPlayState:w?"paused":"running",pointerEvents:"none"}}),display:"inlineBlock",marginStart:1,children:[m.map(function(e){return(0,f.jsx)(a.xu,{marginBottom:7,children:(0,f.jsx)(X,{dynamicPlaceholderInteractable:I,hovered:w,onSelect:j,setHovered:P,term:e})},e)}),(0,f.jsx)(a.xu,{marginBottom:7,children:(0,f.jsx)(X,{dynamicPlaceholderInteractable:I,hovered:w,onSelect:j,setHovered:P,term:null!==(r=m[0])&&void 0!==r?r:""})})]})})]})]})})}var J=t(545007),ee=t(535726),en=t(1006),et=t(623722),er=t(410150),ei=t(887525);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,n){if(e){if("string"==typeof e)return el(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return el(e,n)}}function el(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function es(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?es(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==eo(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==eo(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===eo(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):es(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ec=void 0!==r?r:r=t(53280),ed=function(e){var n={pageType:"other",isEligiblePageTypeForDynamicSearchPlceholder:!1};return(0,W.uM)(e)?(n.pageType="pin",n.isEligiblePageTypeForDynamicSearchPlceholder=!0):(0,W.am)(e)&&(n.pageType="board",n.isEligiblePageTypeForDynamicSearchPlceholder=!0),n},ep=function(e){var n=e.fetchedSuggestedTerms,t=e.deviceType,r=e.pageType,i={deviceType:t,dataType:e.dataType,pageType:r};return n.length<3?((0,en.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",eu({termsCount:n.length},i)),n=[]):(n=n.filter(function(e){return e.split(" ").length>1}).map(function(e){return e.toLowerCase()})).length<3&&((0,en.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",eu({termsCount:n.length},i)),n=[]),n},ef="#E1E1E1",eg="#F1F1F1",ey=t(383399),eh=t(827423);function em(e){var n,t,r,l,s=e.disabled,u=e.focusOptionId,c=e.isFocused,g=e.name,y=e.onBlur,h=e.onChange,m=e.onClick,v=e.onFocus,_=e.onKeyDown,b=e.onSearchTrigger,x=e.placeholder,S=e.searchBoxHovered,w=e.suggestedSearchTerms,P=e.updateEnteredQuery,I=e.value,j=(0,d.ZP)(),k=(0,i.useRef)(null),T=(0,ey.Z)().isAuth,O=(0,o.TH)(),E=(0,G.aX)(),C=(0,a.JZ)(),A=(0,z.F)().checkExperiment;if(!C&&T&&((0,W.HV)(O)||(0,W.bo)(O))){var D=A("dweb_search_box_ghost_text_inspiring_searches"),F=D.anyEnabled,L=D.group;t=F,r=L}var M=(0,eh._)(E),R=(0,W.uM)(O)&&!!M;!C&&T&&R&&(l=A("dweb_search_box_closeup_persistent_queries").group);var B=["enabled_none","enabled_edit","enabled_search"].includes(null!==(n=l)&&void 0!==n?n:""),Z=ed(O).isEligiblePageTypeForDynamicSearchPlceholder,N=!C&&(!T&&Z||t||B);(0,p.Z)(function(){k.current&&b&&k.current.addEventListener("searchTrigger",b)}),(0,i.useEffect)(function(){k.current&&document.activeElement===k.current!==c&&(c?k.current.focus():k.current.blur())},[c]),(0,p.Z)(function(){k.current&&new URLSearchParams(window.location.search).get("search_box_open")&&setTimeout(v,500)});var U=N&&!I,H=x||j._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box');return(0,f.jsxs)(a.xu,{flex:"grow",height:"100%",children:[(0,f.jsx)(Y.Z,{unsafeCSS:"input::placeholder{ color: #6E6E6E".concat(U?"; opacity: 0":"","}")}),(0,f.jsx)("input",{ref:k,"aria-activedescendant":u,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":c,"aria-label":j._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-test-id":"search-box-input",disabled:void 0!==s&&s,name:g,onBlur:y,onChange:function(e){h(e.target.value)},onClick:void 0===m?function(){}:m,onFocus:v,onKeyDown:_,placeholder:H,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:K.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:I||("enabled_query"===l?M:"")}),U&&(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,f.jsx)($,{authDynamicPlaceholderGroup:r||l,defaultPlaceholder:H,gradientSecondaryColor:S?ef:eg,isAuth:T,onFocus:v,onSearchTrigger:b,searchBoxIsFocused:c,suggestedSearchTerms:void 0===w?[]:w,updateEnteredQuery:P})}),(0,f.jsx)(a.xu,{display:"none",id:"searchBoxAccessibleText",children:j._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}var ev=t(24534),e_=t(613059),eb=t(851680),ex=t(545230),eS=t(663641),ew=t(830017),eP=t(151905),eI=t(241716);function ej(e){var n=e.contentTypes,t=e.contentTypesAnchor,r=e.handleSelectFilter,i=e.onDismiss;return(0,f.jsx)(a.Lt,{anchor:t,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:i,zIndex:new a.Ry(eI.fe),children:n.map(function(e,n){return(0,f.jsx)(a.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(n)},option:{value:e.text,label:e.text},children:(0,f.jsx)(a.xv,{weight:[eS.lw.PINS,eS.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}var ek=t(402189);function eT(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return eO(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eO(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var eE=function(e){switch(e){case eS.lw.PINS:return 220;case eS.lw.PINS_MINE:return 223;case eS.lw.PINS_VIDEO:return 11399;case eS.lw.BOARDS:return 221;case eS.lw.USERS:return 222;default:return null}},eC=function(e){var n,t,r=e.currentlySelectedFilter,s=e.currentQuery,u=e.handleContentTypeFilterHover,p=e.handleScopeChange,g=(0,c.v)().logContextEvent,y=(0,d.ZP)(),h=(t=(n=[{scope:eS.lw.PINS,text:y._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:eS.lw.PINS_MINE,text:y._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===eS.lw.PINS_MINE}),n.push(n.splice(t,1)[0]),n),m=(0,i.useRef)(null),v=(0,o.k6)(),_=(0,l.Z)().enabled,b=eT((0,i.useState)(r||h[0].scope),2),x=b[0],S=b[1],w=eT((0,i.useState)(!1),2),P=w[0],I=w[1],j=eT((0,i.useState)(!1),2),k=j[0],T=j[1];(0,i.useEffect)(function(){S(r)},[r]);var O=function(){T(!0),u&&u(!0)},E=function(){T(!1),u&&u(!1)},C=(h[x?h.findIndex(function(e){return e.scope===x}):0]||h[0]).text,A=(0,f.jsx)(a.xu,{ref:m,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:eP.XI}},"data-test-id":"search-filter",overflow:"hidden",children:(0,f.jsxs)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,f.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:C}),(0,f.jsx)(a.xu,{marginStart:2,children:(0,f.jsx)(a.JO,{accessibilityLabel:y._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,f.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:k?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:eP.XI,marginStart:2,position:"relative",rounding:_?ek.Qq:6,children:[(0,f.jsx)(a.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return O()},onMouseLeave:function(){return E()},onTap:function(e){var n=e.event;n&&(n.preventDefault(),n.stopPropagation()),I(!P),g({event_type:101,component:215,aux_data:{entered_query:s}})},rounding:6,children:A}),P&&(0,f.jsx)(ej,{contentTypes:h,contentTypesAnchor:m.current,handleSelectFilter:function(e){var n=h[e].scope;S(n),I(!1),g({event_type:101,component:215,element:eE(n),aux_data:{entered_query:s}}),p(n),s&&v.push("/search/".concat(n,"/?q=").concat(encodeURIComponent(s),"&rs=").concat(ex.i.FILTER))},onDismiss:function(){return I(!1)}})]})},eA=t(498490),eD=t(465848);function eF(e){return(eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eL(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eM(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eL(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==eF(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==eF(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===eF(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eL(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eR={recentSaves:[],recentViews:[]};function eB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR,n=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===n.type){var t=n.payload,r=t.options,i=t.resource,o=n.payload.response.resource_response.data;if("ApiResource"===i&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&o){var a=o.find(function(e){return"user_recently_viewed_pins"===e.story_type}),l=o.find(function(e){return"user_recently_saved_pins"===e.story_type}),s=(null==a?void 0:a.objects.map(function(e,n){var t=e.description,r=e.id;return{label:t,images:e.images,resultIndex:n,type:"recent_view",url:"/pin/".concat(r)}}))||[],u=(null==l?void 0:l.objects.map(function(e,n){var t=e.description,r=e.id;return{label:t,images:e.images,resultIndex:n,type:"recent_save",url:"/pin/".concat(r)}}))||[];return eM(eM({},e),{},{recentSaves:u,recentViews:s})}}return e}function eZ(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var ez=(0,eA.Z)("SearchBox"),eN=ez.Provider,eU=ez.useHook;function eH(e){var n,t=e.children,r=function(e){if(Array.isArray(e))return e}(n=(0,i.useReducer)(eB,eR))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return eZ(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eZ(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],a=r[1];(0,eD.Z8)("ApiResource",function(e){a({type:"FETCH_COMPLETE",payload:e})});var l=(0,i.useMemo)(function(){return{state:o}},[o]);return(0,f.jsx)(eN,{value:l,children:t})}var eq=t(713211),eK=t(573372),eG=t(720398),eY=t(976534);function eW(e){var n=e.suggestion,t=e.query,r=e.lastFocusTime,i=void 0===r?0:r,o=e.filterSelectedTerm,a=e.suggestionStoryId;if("explorearticle"===n.type){var l,s,u=n.aux_fields,c=n.id,d=n.query,p=n.story_category;return null!==(l=null===(s=n.action)||void 0===s?void 0:s.url)&&void 0!==l?l:(0,eK.Z)({bubbleId:c,pinId:null==u?void 0:u.image_pin_id,query:d,referringSource:2===p?"trending":"autocomplete_bubble",storyCategory:p,storyId:a})}if("todayarticle"===n.type){var f=n.id,g=n.title;return(0,eq.x)({title:g,id:f,articleType:"today"})}var y={eq:(0,eb.Z)(t)};return i&&(y.etslf=String(Date.now()-i)),"inclusive_product_filter_query"===n.type&&o&&(y.filters=o),(0,eG.Z)(n.url||"",y)}function eV(e,n){return"SuggestionGroup-Option-".concat(e,"-").concat(n)}var eQ=function(e,n){var t=0;return e.map(function(e){var r,i,o=t;return t+=(null!==(r=(null!==(i=e.items)&&void 0!==i?i:[]).length)&&void 0!==r?r:0)+(n?1:0),o})},eX=function(e,n){if(null!=n){for(var t,r=(null!==(t=e.find(function(e){return"blended_autocomplete"===e.type}))&&void 0!==t?t:[]).items.some(function(e){return e&&e.modifiedFilterEligibility}),i=eQ(e,r),o=r?1:0,a=0;a<i.length;a+=1)if(e[a].items.length&&n-i[a]<e[a].items.length+o)return e[a].items[n-i[a]-o];return null}};function e$(e,n,t){var r=e.map(function(e){var n;return null!==(n=e.items.length)&&void 0!==n?n:0}).reduce(function(e,n){return e+n},0),i=t?null==n?0:n===r-1?void 0:n+1:null==n?r-1:0===n?void 0:n-1,o=eX(e,i);return[i,o]}var eJ=t(740227),e0=t(961414),e1=t(143200),e2=t(989820),e4=t(509781),e3=t(790661),e5=t(602185),e7=t(750077),e8=t(793355),e6=t(205906),e9=t(648089);function ne(e){var n,t=e.suggestions[0],r=(0,e9.Z)({url:null===(n=t[0])||void 0===n?void 0:n.action_button_uri});return(0,f.jsxs)(a.xu,{padding:10,children:[(0,f.jsx)(a.xu,{marginBottom:6,children:(0,f.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:t.description})}),(0,f.jsx)(a.Tg,{href:t.action_button_uri,rel:r?"nofollow":"none",rounding:"pill",children:(0,f.jsx)(a.xu,{color:"infoBase",display:"inlineBlock",padding:3,rounding:"pill",children:(0,f.jsx)(a.xv,{color:"inverse",weight:"bold",children:t.action_button_text})})})]})}var nn=t(598259);function nt(e){var n=e.id,t=e.children,r=e.isHovered,i=e.url,o=e.onClick,l=e.onMouseEnter,s=e.onMouseLeave;return(0,f.jsx)(a.xu,{"aria-selected":r?"true":"false",color:r?"secondary":"default","data-test-id":"search-suggestion",id:n,role:"option",children:(0,f.jsx)(a.Tg,{href:i,onMouseEnter:l,onMouseLeave:s,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),n.metaKey||n.ctrlKey||(n.preventDefault(),o())},tabIndex:-1,children:(0,f.jsx)(a.xu,{marginBottom:1,paddingX:5,children:t})})})}function nr(e){var n=e.highlightMatch,t=e.iconName,r=e.imageUrl,i=e.isVerifiedMerchant,o=void 0!==i&&i,l=e.label,s=e.query,u=e.rounding,c=e.searchDelightConfig,p=e.subLabel,g=e.verified,y=void 0!==g&&g,h=(0,d.ZP)();return(0,f.jsx)(a.xu,{"data-test-id":r||t?"enriched-search-suggestion":"regular-search-suggestion",display:"flex",paddingY:r?1:0,width:"100%",children:(0,f.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},children:[r?(0,f.jsx)(a.xu,{"data-test-id":"enriched-autocomplete-image",height:40,overflow:"hidden",rounding:u&&2===u?2:"circle",width:40,children:(0,f.jsx)(a.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,role:"presentation",src:r})}):(0,f.jsx)(a.kC,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,f.jsx)(a.xu,{marginTop:1,children:(0,f.jsx)(a.JO,{accessibilityLabel:t?(0,I.nk)(h._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,f.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,f.jsxs)(a.kC,{alignItems:"center",children:[void 0!==n&&n&&s?(0,f.jsx)(e8.Z,{query:s,searchDelightConfig:c,text:l||s}):(0,f.jsx)(a.xv,{weight:"bold",children:l}),(y||o)&&(0,f.jsx)(a.xu,{marginStart:1,children:(0,f.jsx)(nn.Z,{iconOnly:!0,isVerifiedIdentity:y,isVerifiedMerchant:o,size:"xs"})})]}),p&&(0,f.jsx)(a.xv,{size:"100",children:p})]})]})})}var ni=t(48901),no=(0,i.lazy)(function(){return t.e(78348).then(t.bind(t,278348))});function na(e){var n=e.experiences,t=e.index,r=e.focusedIndex,o=e.onInclusiveProductFilterClick,l=e.onSuggestionClick,s=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,c=e.query,p=e.suggestion,g=(0,d.ZP)(),y="number"==typeof p.identifier_icon_name&&p.identifier_icon_name!==e6.J?(0,e6.Z)(p.identifier_icon_name):void 0;return(0,f.jsx)(e2.M8,{experiences:n,placementId:1000315,searchTerm:c,suggestions:[p],children:function(e){var n=e.searchDelightConfig;return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(nt,{id:eV(0,t),isHovered:r===t,onClick:function(){l({suggestion:p,index:t})},onMouseEnter:function(){s(t)},onMouseLeave:function(){u()},url:eW({suggestion:p,query:c}),children:(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(a.xu,{flex:"grow",children:"inclusive_product_filter_query"===p.type?(0,f.jsx)(a.xu,{marginBottom:2,children:(0,f.jsx)(a.xv,{weight:"bold",children:(0,I.nk)(p.eligibleHairPatternFilters?g._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):g._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:(0,f.jsx)(e8.Z,{query:c,searchDelightConfig:n,text:p.label||c})})})}):(0,f.jsx)(nr,{highlightMatch:!0,iconName:y,imageUrl:p.image,label:p.label,query:c,rounding:2,searchDelightConfig:n,subLabel:p.subLabel})})})}),"inclusive_product_filter_query"===p.type&&o&&(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:p.eligibleHairPatternFilters?(0,f.jsx)(e5.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,f.jsx)(e7.Z,{children:(0,f.jsx)(a.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,f.jsx)(no,{eligibleFilters:p.eligibleHairPatternFilters,filterOptions:null,isUpsell:!0,onClickApplyFilters:function(e){return o(p,t,e)},query:c,viewParameter:103,viewType:2})})})}):(0,f.jsx)(ni.Z,{onClickApplyFilters:function(e){return o(p,t,e)},query:c,showHeaderText:!1})})]})}})}var nl=function(e){var n=e.index,t=e.focusedIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.suggestion;return(0,f.jsx)(nt,{id:eV(0,n),isHovered:t===n,onClick:function(){r({suggestion:a,index:n})},onMouseEnter:function(){i(n)},onMouseLeave:function(){o()},url:a.url,children:(0,f.jsx)(nr,{imageUrl:a.image,isVerifiedMerchant:a.is_verified_merchant,label:a.label,rounding:"circle",subLabel:a.subLabel,verified:a.verified})},"".concat(a.type,"-").concat(a.label,"-").concat(a.subLabel||""))};function ns(e){var n=e.focusedIndex,t=e.onSuggestionClick,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,o=(0,d.ZP)(),l=0===n;return(0,f.jsx)(a.xu,{"aria-selected":l?"true":"false",id:"syop_cta",role:"option",children:(0,f.jsxs)(a.xu,{marginTop:3,paddingX:6,children:[(0,f.jsx)(a.iz,{}),(0,f.jsx)(a.xu,{marginTop:4,children:(0,f.jsxs)(a.kC,{alignItems:"center",dataTestId:"search-your-pins-section",justifyContent:"between",children:[(0,f.jsx)(a.xv,{lineClamp:2,weight:"bold",children:o._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,f.jsx)(a.kC.Item,{flex:"none",children:(0,f.jsx)(a.iP,{onMouseEnter:function(){r(0)},onMouseLeave:i,onTap:t,rounding:"pill",children:(0,f.jsx)(a.xu,{alignItems:"center",color:l?"darkWash":"secondary","data-test-id":"search-your-pins-button",display:"flex",height:40,justifyContent:"center",paddingX:3,paddingY:2,rounding:"pill",children:(0,f.jsx)(a.xv,{align:"center",weight:"bold",children:o._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function nu(e){var n=e.experiences,t=e.suggestion,r=e.index,i=e.focusedIndex,o=e.query,a=e.onSuggestionClick,l=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,u=e.onInclusiveProductFilterClick;switch(t.type){case"autocompleteupsell":return(0,f.jsx)(ne,{suggestions:[t]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,f.jsx)(na,{experiences:n,focusedIndex:i,index:r,onInclusiveProductFilterClick:u,onSuggestionClick:a,onSuggestionMouseEnter:l,onSuggestionMouseLeave:s,query:o,suggestion:t});case"user":return(0,f.jsx)(nl,{focusedIndex:i,index:r,onSuggestionClick:a,onSuggestionMouseEnter:l,onSuggestionMouseLeave:s,suggestion:t})}return null}var nc=t(858095),nd=t(559656),np=t(679482),nf=t(788388),ng=t(810655);function ny(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var nh=(0,i.lazy)(function(){return t.e(2033).then(t.bind(t,502033))});function nm(e){var n,t,r,o=e.contextLogData,l=e.dominantColor,s=e.handleReport,u=e.height,c=e.id,d=e.image,p=e.isDarkRep,g=void 0!==p&&p,y=e.isHovered,h=e.name,m=e.onMouseEnter,v=e.onMouseLeave,_=e.onTap,b=e.searchBoxRenderStopwatch,x=e.slotIndex,S=e.url,w=e.viewParameter,P=e.viewType,I=e.width,j=(0,nf.Z)({contextLogData:o,impressionType:"Article",loggingId:c,slotIndex:x,viewParameter:w,viewType:P}),k=(0,ey.Z)(),T=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return ny(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ny(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=T[0],E=T[1],C=O||y,A=u||80;!I||I>=200?(t=3,r="300"):I>=150?(t=2,r="200"):(t=2,r="100");var D=function(){m?m():E(!0)},F=function(){v?v():E(!1)};return(0,f.jsx)(a.xu,{ref:j,height:A,width:I||"100%",children:(0,f.jsx)(a.zd,{rounding:4,wash:!g,children:(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:g?{__style:{backgroundColor:C?nd.Pv2:nd.pzk}}:{__style:C?ng.A.lightHoverOverlay:{}},children:(0,f.jsx)(a.st,{children:(0,f.jsxs)(a.Tg,{href:S,onBlur:F,onFocus:D,onMouseEnter:D,onMouseLeave:F,onTap:_,rounding:4,children:[(0,f.jsxs)(a.kC,{direction:"row",children:[(0,f.jsx)(a.zd,{height:A,wash:!0,width:A,children:(0,f.jsx)(a.Ee,{alt:"",color:l,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:d})}),(0,f.jsx)(a.xu,{alignItems:"center",display:"flex",maxHeight:A,maxWidth:I?I-A:np.yF-80,padding:4,children:(0,f.jsx)(a.xv,{color:g?"light":void 0,lineClamp:t,size:r,weight:"bold",children:h})})]}),s&&k.isAuth&&k.isEmployee?(0,f.jsx)(a.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,f.jsx)(e7.Z,{children:(0,f.jsx)(nh,{handleReport:s,imgSignature:d,isVisible:null!=C&&C})})}):null]})})})})})}var nv=t(212515),n_=t(400416),nb=t(468808),nx=t(559028),nS=t(207630),nw=t(831595),nP=t(87416);function nI(e){var n,t,r=e.bubble,i=e.height,o=e.isHovered,l=e.onClick,s=e.onMouseDown,u=e.onMouseEnter,c=e.onMouseLeave,d=e.searchBoxRenderStopwatch,p=e.slotIndex,g=e.storyId,y=e.storyType,h=e.viewParameter,m=e.viewType,v=e.width,_=r.id,b=r.title,x=r.image_urls,S=r.article_creator_user,w=x&&x.length>0?{url:x[0]}:void 0,P=(0,nS.Z)(b||"",{});if(!r.title||!r.id)return null;var I=(0,nw.T7)(null!==(n=r.feed_source)&&void 0!==n?n:0,null!==(t=r.is_product_pin_feed)&&void 0!==t&&t,r.title,r.id);return(0,f.jsx)(nP.Y4,{auxData:{grid_index:p.toString(),today_article_id:_,story_type:y,story_id:g},loggingId:_,objectIdStr:_,slotIndex:p,viewParameter:h||3467,viewType:m,children:function(e){var n=e.impressionTrackerRef;return(0,f.jsx)(ng.Z,{ref:n,backgroundColor:"gray",coverImage:w,disableTabIndex:!0,height:i,id:_,isHovered:o,onClick:l,onMouseDown:s,onMouseEnter:u,onMouseLeave:c,searchBoxRenderStopwatch:d,url:I,width:v,children:(0,f.jsx)(a.xu,{ref:n,alignItems:"end",display:"flex",height:i,justifyContent:"center",padding:3,position:"absolute",top:!0,width:v||"100%",children:(0,f.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[i>200?(0,f.jsx)(a.X6,{align:"center",color:"light","data-test-id":"sp-bubble-title",size:"500",children:P}):(0,f.jsx)(a.xv,{align:"center",color:"light","data-test-id":"sp-bubble-subtitle",weight:"bold",children:P}),S&&S.image_small_url&&S.full_name&&(0,f.jsxs)(a.xu,{alignItems:"center","data-test-id":"sp-bubble-creator",display:"flex",justifyContent:"center",marginTop:4,children:[(0,f.jsx)(a.xu,{marginEnd:2,children:(0,f.jsx)(nx.qE,{name:S.full_name,outline:!0,size:"xs",src:S.image_small_url})}),(0,f.jsx)(a.xv,{color:"light",size:"100",children:S.full_name})]})]})})})}})}function nj(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){t(e);return}l.done?n(s):Promise.resolve(s).then(r,i)}var nk=function(e){var n=e.title;return(0,f.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:eP.r5,children:(0,f.jsx)(a.xv,{lineClamp:1,weight:"bold",children:n})})},nT=function(e){var n=e.handleRemove,t=e.id,r=e.isHovered,i=e.label,o=e.onClick,l=e.onMouseEnter,s=e.onMouseLeave,u=e.removeA11yText,c=e.url;return(0,f.jsx)(a.xu,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,f.jsx)(a.Tg,{accessibilityLabel:i,href:c,onMouseEnter:l,onMouseLeave:s,onTap:function(e){var n=e.event,t=e.dangerouslyDisableOnNavigation;n.metaKey||n.ctrlKey||(t(),n.preventDefault(),o())},rounding:"pill",children:(0,f.jsxs)(a.xu,{alignItems:"center",color:r?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,f.jsx)(a.xv,{align:"center",children:i}),(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,f.jsx)(a.hU,{accessibilityLabel:null!=u?u:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),null==n||n(i)},size:"xs"})})]})})})},nO=function(e){var n,t,r,o,l,s,u=e.id,c=e.isHovered,p=e.onClick,g=e.onMouseEnter,y=e.onMouseLeave,h=e.showSeeMoreOverlay,m=e.suggestion,v=e.trackClick,_=e.url,b=(0,d.ZP)();return(0,f.jsx)(a.xu,{"aria-selected":c?"true":"false","data-test-id":"search-suggestion",id:u,marginBottom:2,paddingX:1,role:"option",children:(0,f.jsx)(a.Tg,{href:_||m.url,onMouseEnter:g,onMouseLeave:y,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),v(),n.metaKey||n.ctrlKey||_||(n.preventDefault(),p())},rounding:3,tabIndex:-1,children:(0,f.jsxs)(a.zd,{height:eP.YO,rounding:3,wash:c,width:eP.Gh,children:[(0,f.jsx)(a.Ee,{alt:m.label,fit:"cover",naturalHeight:null!==(n=null===(t=m.images["236x"])||void 0===t?void 0:t.height)&&void 0!==n?n:1,naturalWidth:null!==(r=null===(o=m.images["236x"])||void 0===o?void 0:o.width)&&void 0!==r?r:1,src:null!==(l=null===(s=m.images["236x"])||void 0===s?void 0:s.url)&&void 0!==l?l:""}),h&&(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:eP.H2,height:eP.YO,left:!0,position:"absolute",top:!0,width:eP.Gh}),(0,f.jsx)(a.xu,{alignItems:"center",display:"flex",height:eP.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:eP.Gh,children:(0,f.jsx)(a.xv,{align:"center",color:"inverse",weight:"bold",children:b._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},nE=function(e){var n=e.componentType,t=e.focusedIndex,r=e.groupIndex,i=e.keyPrefix,o=e.onSuggestionClick,l=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,u=e.seeMoreUrl,d=e.suggestions,p=e.title,g=(0,c.v)().logContextEvent;return(0,f.jsxs)(a.kC,{direction:"column",gap:eP.Lo,children:[(0,f.jsx)(a.kC,{width:"100%",children:(0,f.jsx)(nk,{title:p})}),(0,f.jsx)(a.xu,{display:"flex",paddingX:eP.r5,width:"100%",wrap:!0,children:d.map(function(e,a){var c=a===eP.TD-1&&d.length===eP.TD;return(0,f.jsx)(nO,{id:eV(r,a),isHovered:t===a,onClick:function(){o({suggestion:e,index:a})},onMouseEnter:function(){l(a)},onMouseLeave:function(){s()},showSeeMoreOverlay:c,suggestion:e,trackClick:function(){g({event_type:101,component:n,element:c?179:12374,view_type:eP.Ie,view_parameter:103})},url:c?u:e.url},"".concat(i,"-").concat(a))})})]})};function nC(e){var n=e.focusedIndex,t=e.groupIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.suggestions,l=(0,d.ZP)();return(0,nv.Q)({component:13844,view_parameter:103,view_type:eP.Ie}),(0,f.jsx)(nE,{componentType:13844,focusedIndex:n,groupIndex:t,keyPrefix:"recent_save",onSuggestionClick:r,onSuggestionMouseEnter:i,onSuggestionMouseLeave:o,seeMoreUrl:"/me/pins/",suggestions:a,title:l._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function nA(e){var n,t,r=e.containerWidth,i=e.focusedIndex,o=e.groupIndex,l=e.onSuggestionClick,s=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,c=e.suggestions,p=(0,d.ZP)(),g=(0,J.I0)(),y=(n=regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n_.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:n}});case 2:g((0,nb.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}));case 3:case"end":return e.stop()}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){nj(o,r,i,a,l,"next",e)}function l(e){nj(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}),h=p._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion'),m=function(e){var n=e.pillLabels,t=e.maxWidth,r=n.length;if(!t)return r;for(var i=0,o=0;o<n.length;o+=1){var a=n[o].length*eP.yY+eP.Ag+eP.Ub;if(a+i<t)i+=a;else{r=o;break}}return r}({pillLabels:c.map(function(e){return e.label}),maxWidth:r});return(0,f.jsxs)(a.kC,{direction:"column",gap:eP.Lo,children:[(0,f.jsx)(nk,{title:p._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,f.jsx)(a.xu,{display:"flex",overflow:"hidden",paddingX:eP.r5,position:"relative",children:c.slice(0,m).map(function(e,n){return(0,f.jsx)(a.xu,{"data-test-id":"recent-query",children:(0,f.jsx)(nT,{handleRemove:y,id:eV(o,n),isHovered:i===n,label:e.label,onClick:function(){l({suggestion:e,index:n})},onMouseEnter:function(){s(n)},onMouseLeave:function(){u()},removeA11yText:h,url:eW({suggestion:e,query:""})})},"".concat(e.type,"-").concat(e.label))})})]})}function nD(e){var n=e.focusedIndex,t=e.groupIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.suggestions,l=(0,d.ZP)();return(0,nv.Q)({component:13843,view_parameter:103,view_type:eP.Ie}),(0,f.jsx)(nE,{componentType:13843,focusedIndex:n,groupIndex:t,keyPrefix:"recent_view",onSuggestionClick:r,onSuggestionMouseEnter:i,onSuggestionMouseLeave:o,seeMoreUrl:"/recently-viewed/",suggestions:a,title:l._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function nF(e){var n=e.groupIndex,t=e.focusedIndex,r=e.onSuggestionClick,i=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,l=e.searchBoxRenderStopwatch,s=e.suggestions,u=eP.Ie,c=s.id,d=s.items,p=s.story_type,g=s.title.format,y=d.map(function(e){return e.type+":"+e.id}).join("|"),h=(0,nf.Z)({viewType:u,componentType:200,viewParameter:3467,loggingId:c,objectIdStr:c,contextLogData:{content_ids:y,story_id:c,story_type:p},impressionType:"Story",slotIndex:n});return(0,f.jsxs)(a.kC,{direction:"column",gap:eP.Lo,children:[(0,f.jsx)(nk,{title:g}),(0,f.jsx)(a.xu,{ref:h,display:"flex",marginBottom:5,paddingX:eP.r5,wrap:!0,children:d.slice(0,8).map(function(e,s){var d=t===s;return(0,f.jsx)(a.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion-today-bubble",id:eV(n,s),marginBottom:2,paddingX:1,role:"option",children:(0,f.jsx)(nI,{bubble:e,height:eP.Ny,isHovered:d,onClick:function(){r({suggestion:e,index:s})},onMouseEnter:function(){i(s)},onMouseLeave:function(){o()},searchBoxRenderStopwatch:l,slotIndex:s,storyId:c,storyType:p,viewParameter:3467,viewType:u,width:eP.Ny})},"story".concat("--",n,"-").concat(s))})})]})}function nL(e){for(var n=e.containerWidth,t=e.focusedIndex,r=e.groupIndex,i=e.onSuggestionClick,o=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.searchBoxRenderStopwatch,u=e.suggestions,d=(0,c.v)().logContextEvent,p=eP.Ie,g=u.id,y=u.items,h=u.story_type,m=u.title.format,v=y.map(function(e){return e.type+":"+e.id}).join("|"),_=(0,nf.Z)({componentType:200,contextLogData:{content_ids:v,story_id:g,story_type:h},impressionType:"Story",loggingId:g,slotIndex:r,viewParameter:3467,viewType:p}),b=function(e){return 64+8*e},x=3,S=(n-b(3))/x;S>1.5*np.yF;)x+=1,S=(n-b(x))/x;var w=S/2.6,P="shopping_spotlight"===h;return(0,f.jsxs)(a.kC,{direction:"column",gap:eP.Lo,children:[(0,f.jsx)(nk,{title:m}),(0,f.jsx)(a.xu,{ref:_,direction:"row",display:"flex",paddingX:eP.r5,wrap:!0,children:P?y.map(function(e,n){return(0,f.jsx)(nI,{bubble:e,height:eP.Ny,onClick:function(){d({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:h}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:n,viewParameter:3467,viewType:2,width:eP.Ny},"ss-bubble-".concat(n))}):y.map(function(e,n){var u,c,d=t===n,y=e.cover_images,m=e.dominant_colors,_=e.id,b=e.story_category,x=e.title.format,P=y&&y[0]&&((null===(u=y[0]["236x"])||void 0===u?void 0:u.url)||(null===(c=y[0]["474x"])||void 0===c?void 0:c.url))||"",I=eW({suggestion:e,query:"",suggestionStoryId:g});return(0,f.jsx)(a.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion",id:eV(r,n),marginBottom:2,marginEnd:2,role:"option",children:(0,f.jsx)(nm,{contextLogData:{story_type:h,content_ids:v,grid_index:n,story_id:g},dominantColor:m?m[0]:"",height:w,id:_,image:P,isHovered:d,name:x,onMouseEnter:function(){o(n)},onMouseLeave:function(){l()},onTap:function(){i({suggestion:e,index:n,suggestionStoryId:g})},searchBoxRenderStopwatch:s,slotIndex:n,url:I,viewParameter:3467,viewType:p,width:S})},"story-".concat(null!=b?b:"","-").concat(r,"-").concat(_))})})]})}function nM(e){return(nM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nR(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nB(e,n){if(e){if("string"==typeof e)return nZ(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nZ(e,n)}}function nZ(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var nz={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function nN(e){var n,t=e.focusIndex,r=e.maxHeight,o=e.onInclusiveProductFilterClick,s=e.onMouseEnter,u=e.onMouseLeave,c=e.onSuggestionClick,p=e.onSuggestionHovered,g=e.onSyopCtaClick,y=e.query,h=e.searchBoxHeight,m=e.searchBoxRenderStopwatch,v=e.showSyopHeading,_=e.suggestionGroups,b=e.width,x=(0,i.useRef)(),S=(0,d.ZP)(),w=(0,q.B)().country,P=(0,e2.Ow)(1000315).experiencesMulti,j=(0,ey.Z)(),k=(0,z.F)().checkExperiment,T=k(j.isAuth?"web_auth_search_tab_render_layout_shift_fix":"web_unauth_search_tab_render_layout_shift_fix").anyEnabled,O=(0,l.Z)().enabled,E=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(0))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||nB(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=E[0],A=E[1],D=(0,e1.Ns)(A,400),F=!j.isAuth&&["US","CA","AU","GB","FR","DE"].includes(w)&&k("unauth_slp_holiday_gift_guides").anyEnabled;function L(){p(void 0)}(0,i.useLayoutEffect)(function(){if(!T||!x.current)return function(){};A(x.current.getBoundingClientRect().width);var e=new ResizeObserver(function(){D(function(e){var n;return(null===(n=x.current)||void 0===n?void 0:n.getBoundingClientRect().width)||e})});return e.observe(x.current),function(){e.disconnect()}},[T,D]);var M=O?"0 0 ".concat(ek.kl,"px ").concat(ek.kl,"px"):"0 0 16px 16px";return(0,f.jsx)(e4.Z,{view:2,viewParameter:103,children:_.length>0?(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:M,top:h,left:O?"-24px":void 0,right:O?"-24px":void 0}},id:"SuggestionsMenu",left:!0,overflow:"hidden",position:"absolute",role:"listbox",width:O?void 0:b||"100%",children:(0,f.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:s,onMouseLeave:u,style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nR(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==nM(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==nM(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===nM(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nR(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({maxHeight:r},nz.searchSuggestionsContainer),children:(0,f.jsxs)(a.xu,{ref:x,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:M,paddingBottom:"24px",paddingTop:"32px"}},overflow:"hidden",width:"100%",children:[v&&(0,f.jsx)(a.xu,{marginBottom:4,marginStart:8,marginTop:4,children:(0,f.jsx)(a.X6,{size:"500",children:y.length>0?(0,I.nk)(S._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:y}):S._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),_.map(function(e,n){var r,i,l,s;return e.items.length?(0,f.jsx)(a.kC,{direction:"column",gap:10,children:(0,f.jsx)(a.xu,{children:function(e,n,r){var i=eQ(_),a=null==t?void 0:t-i[n],l=function(e){p(eQ(_)[n]+e)};if("story"===e.type&&"shopping_spotlight"===e.story_type&&F)return(0,f.jsx)(nc.Z,{});switch(e.type){case"recent_query":return(0,f.jsx)(nA,{containerWidth:r,focusedIndex:a,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:L,suggestions:e.items});case"recent_save":return(0,f.jsx)(nC,{focusedIndex:a,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:L,suggestions:e.items});case"recent_view":return(0,f.jsx)(nD,{focusedIndex:a,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:L,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,f.jsx)(nF,{containerWidth:r,focusedIndex:a,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:L,searchBoxRenderStopwatch:m,suggestions:e}):(0,f.jsx)(nL,{containerWidth:r,focusedIndex:a,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:L,searchBoxRenderStopwatch:m,suggestions:e});case"blended_autocomplete":return(function(e){var n,t=e.slice(),r=t[0],i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=nB(e))){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(null!==(a=o.modifiedFilterEligibility)&&void 0!==a&&a.hair_pattern||null!==(l=o.modifiedFilterEligibility)&&void 0!==l&&l.skin_tone){var a,l,s,u,c,d=(null===(s=o.modifiedFilterEligibility.hair_pattern)||void 0===s?void 0:s.base_query)||(null===(u=o.modifiedFilterEligibility.skin_tone)||void 0===u?void 0:u.base_query)||"",p=null===(c=o.modifiedFilterEligibility.hair_pattern)||void 0===c?void 0:c.eligible_filters,f=(0,e3.Z)({url:o.url}).rs,g={query:d,rs:f},y=(0,ev.Z)(g),h="enriched_autocomplete"===r.type&&r.image?1:0,m={eligibleHairPatternFilters:p,label:d,query:d,resultIndex:h,type:"inclusive_product_filter_query",url:y};t.splice(h,0,m),r=t[0];break}}}catch(e){i.e(e)}finally{i.f()}return t})(e.items).map(function(e,n){return(0,f.jsx)(nu,{experiences:P,focusedIndex:a,index:n,onInclusiveProductFilterClick:o,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:L,query:y,suggestion:e},"search-suggestion-".concat(e.label||"","-").concat(e.query||"","-").concat(e.type,"-").concat(e.url||"","-").concat(e.image||""))});case"syop_cta":return(0,f.jsx)(ns,{focusedIndex:a,index:0,onSuggestionClick:g,onSuggestionMouseEnter:l,onSuggestionMouseLeave:L})}return null}(e,n,T?C:null!==(l=null===(s=x.current)||void 0===s?void 0:s.getBoundingClientRect().width)&&void 0!==l?l:0)})},"".concat(y,"-").concat(e.type,"-").concat(null!==(r=null===(i=e.title)||void 0===i?void 0:i.format)&&void 0!==r?r:"")):null})]})})}):(0,f.jsx)(a.xu,{})})}function nU(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function nH(e){var n,t,r,o,a,l,s,u,c,d=e.focusIndex,g=e.maxHeight,y=e.onInclusiveProductFilterClick,m=e.onMouseEnter,v=e.onMouseLeave,_=e.onSuggestionClick,b=e.onSuggestionGroupsUpdate,x=e.onSuggestionHovered,S=e.onSyopCtaClick,w=e.query,P=e.scope,I=e.searchBoxHeight,j=e.suggestionGroups,k=e.width,T=e.active,O=H(),E=(0,ey.Z)(),C=(0,z.F)().checkExperiment,A=E.isAuth&&P===eS.lw.PINS_MINE,D=C(E.isAuth?"web_auth_existing_search_query_layout_shift_fix":"web_unauth_existing_search_query_layout_shift_fix").anyEnabled;(0,p.Z)(function(){D||A||null==O||O.start()}),(0,i.useEffect)(function(){D&&(!T||A||null!=O&&O.isTiming||null==O||O.start())},[T,A,D]);var F=(0,h.Z)({name:"SearchTabResource"}).data,L=eU().state,M=L.recentSaves,R=L.recentViews,B=(n=(0,ey.Z)(),r=(t=(0,h.Z)(n.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:eS.lw.PINS},noCache:!0}:null)).isLoaded,o=t.data,(0,i.useMemo)(function(){var e=[];return r&&o&&(e=({newRecentQueries:o.items}).newRecentQueries.slice(0,eP.P$).map(function(e,n){var t=e.label,r=e.query,i=e.url;return{label:t,query:r,resultIndex:n,type:e.type,url:i}})),e},[r,o])),Z=(l=(a={query:w,scope:P}).query,s=a.scope,u=(0,ey.Z)(),c=(0,e0.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:s},value:l}),(0,i.useMemo)(function(){if(u.isAuth)return[{items:c||[],type:"blended_autocomplete"}];var e=(0,eJ.Z)(c||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(n){return e[n]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[c,u]));return((0,i.useEffect)(function(){var e,n,t=E.isAuth?Z.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}):Z,r=F||[],i=E.isAuth?r.filter(function(e){return"shopping_spotlight"!==e.story_type}):r;b(A?[{items:B,type:"recent_query"},{items:R,type:"recent_view"},{items:M,type:"recent_save"}]:w.length?t:[{items:B,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return nU(e)}(e=i||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return nU(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nU(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[Z,A,b,w,F,B,M,R,P,E]),D&&!T)?null:(0,f.jsx)(nN,{focusIndex:d,maxHeight:g,onInclusiveProductFilterClick:y,onMouseEnter:m,onMouseLeave:v,onSuggestionClick:_,onSuggestionHovered:x,onSyopCtaClick:S,query:w,searchBoxHeight:I,searchBoxRenderStopwatch:O,showSyopHeading:A,suggestionGroups:j,width:k})}var nq=t(211397);function nK(e){return(nK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nG(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nY(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nG(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==nK(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==nK(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===nK(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nG(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nW(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return nV(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nV(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nV(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var nQ=function(e){var n,t,r,l,f,g,y,m,v,_,b,x,S=e.handleIconOnlyChange,w=e.iconOnly,P=void 0!==w&&w,I=e.isPartner,j=void 0!==I&&I,k=e.widthType,T=void 0===k?"md":k,O=(0,c.v)().logContextEvent,E=(0,ey.Z)(),C=(0,o.k6)(),A=(0,o.TH)(),D=(0,o.$B)().path,F=(0,z.F)().checkExperiment,L=nW((0,i.useTransition)(),2)[1],M=(0,u.t)().isLensModalOpen,R=E.isAuth&&F("web_lens").anyEnabled;n=(0,ey.Z)(),t=(0,q.B)().isBot,r=n.isAuth,l=n.isLimitedLogin,(0,h.Z)(r?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:eS.lw.PINS},noCache:!0}:null),(0,h.Z)(t?null:{name:"SearchTabResource"}),(0,h.Z)(r&&!l?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:eP.a3.join(","),pin_preview_count:eP.sA}}}:null);var N=(0,e_.Z)(A),U=N.query,H=N.scope,K=N.rs,G=s.t.includes(K)?"":U,Y=null!=G?G:"",V=nW((0,i.useState)(Y),2),Q=V[0],X=V[1],$=nW((0,i.useState)(),2),eo=$[0],es=$[1],eu=eo&&eo.query?eo.query:Q,ef=(f=(0,o.TH)(),g=(0,ey.Z)(),m=(y=(0,eY.Z)(f.search)).ideas_referrer,v=y.view_parameter_type,m=parseInt(m,10),v=parseInt(v,10),_=g.isAuth&&f.pathname.startsWith("/".concat(g.username,"/")),b=g.isAuth&&f.pathname.startsWith("/recently-viewed"),x=3173===v&&(1===m||25===m),(_||b)&&!x),eg=null!=H?H:eS.lw.PINS;ef&&(eg=eS.lw.PINS_MINE),eg===eS.lw.PINS_BUYABLE&&(eg=eS.lw.PINS);var eh=nW((0,i.useState)(eg),2),em=eh[0],eI=eh[1],ej=E.isAuth&&em===eS.lw.PINS_MINE,ek=nW((0,i.useState)([]),2),eT=ek[0],eO=ek[1],eE=nW((0,i.useState)(),2),eC=eE[0],eA=eE[1],eD=nW((0,i.useState)(!1),2),eF=eD[0],eL=eD[1],eM=nW((0,i.useState)(!1),2),eR=eM[0],eB=eM[1],eZ=nW((0,i.useState)(!1),2),ez=eZ[0],eN=eZ[1],eU=nW((0,i.useState)(!1),2),eH=eU[0],eq=eU[1],eK=nW((0,i.useState)(!1),2),eG=eK[0],eV=eK[1],eQ=nW((0,i.useState)(0),2),eJ=eQ[0],e0=eQ[1];function e1(){eA(void 0),es(void 0)}var e2=eR||eH,e4=(0,ew.I)(),e3=e4.setAppFocusState,e5=e4.toggleTypeaheadOverlay,e7=(0,nq.Z)(),e8=function(e){F("dweb_search_resource_fast_fetch_search_box_searches").anyEnabled&&e&&e7({url:e})},e6=nW((0,i.useState)(P),2),e9=e6[0],ne=e6[1];(0,i.useEffect)(function(){ne(P)},[P]);var nn=nW((0,i.useState)(!1),2),nt=nn[0],nr=nn[1],ni=nW((0,i.useState)(),2),no=ni[0];!function(e){var n=e.setShouldHideGhostText,t=e.setSuggestionsMaxHeight;function r(){var e;n(((null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0)<=eP.le),t(window.innerHeight-14-eP.Fj)}(0,p.Z)(function(){return window.addEventListener("resize",r),r(),function(){window.removeEventListener("resize",r)}})}({setShouldHideGhostText:nr,setSuggestionsMaxHeight:ni[1]});var na=E.isAuth&&"shrink"!==T&&(Y||ef),nl=["shrink","auto"].includes(T)?"8px":0;na&&(nl="4px");var ns=nW(function(e){var n,t,r,l,s,u,c,p,f,g,y,m,v,_,b,x,S,w,P,I=e.shouldHideGhostText,j=e.isSyop,k=e.inputFocused,T=(0,d.ZP)(),O=(0,ey.Z)().isAuth,E=(0,h.Z)(O?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),C=O?T._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):T._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),A="";if(!I&&E.isLoaded&&E.data&&E.data.length>0){var D=E.data[0].text;A=E.data[0].query,C=D}j&&(C=k?T._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):T._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins'));var F=(r=(t=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)([]))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||ea(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],l=t[1],s=(0,o.TH)(),u=(0,a.JZ)(),c=(0,et.Z)(s.pathname)||"",p=(0,q.B)().isAuthenticated,f=(0,er.ZP)(),g=(0,W.uM)(s),y=(0,W.am)(s),v=(m=ed(s)).pageType,_=m.isEligiblePageTypeForDynamicSearchPlceholder,b=!p&&_&&!u,x=(0,ee.useRelayEnvironment)(),S=(0,J.v9)(function(e){return(0,ei.Z)(e)[s.pathname]}),w=(0,i.useCallback)(function(){(0,ee.fetchQuery)(x,ec,{pinId:c},{fetchPolicy:"store-or-network"}).subscribe({next:function(e){var n,t,r,i=[],o=(null===(n=e.v3GetPinQuery)||void 0===n?void 0:n.__typename)==="V3GetPin"?null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.data:null;null!=o&&o.isUnsafe?(0,en.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(null!=o&&null!==(r=o.pinJoin)&&void 0!==r&&r.visualAnnotation&&(i=o.pinJoin.visualAnnotation),i=ep({fetchedSuggestedTerms:i,deviceType:f,pageType:v,dataType:"vase"})),l(i.slice(0,5))},error:function(e){(0,en.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[f,c,x,v]),P=(0,i.useCallback)(function(){var e;if(null!=S&&S.seo_related_interests&&!(null!==(e=S.owner)&&void 0!==e&&e.is_partner)){var n=S.seo_related_interests.reduce(function(e,n){return n.name?[].concat(function(e){if(Array.isArray(e))return el(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ea(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n.name]):e},[]);l((n=ep({fetchedSuggestedTerms:n,deviceType:f,pageType:v,dataType:"board_annotations"})).slice(0,5))}},[S,v,f]),(0,i.useEffect)(function(){!p&&b&&("desktop"!==f?l([]):(g&&w(),y&&P()))},[S,g,y,b,p,f,w,P]),(0,i.useEffect)(function(){g||y||0===r.length||l([])},[g,r.length,y]),r),L=(0,h.Z)({name:"SearchTabResource"}).data,M=(null==L?void 0:L.filter(function(e){return"BUBBLE_ONE_COL"===e.story_type}).flatMap(function(e){return e.items.map(function(e){return"query"in e?e.query.toLowerCase():""})}))||[];return[C,A,O?M.slice(0,eP.N6):F]}({shouldHideGhostText:nt,isSyop:ej,inputFocused:eR}),3),nu=ns[0],nc=ns[1],nd=ns[2],np=(0,i.useRef)();function nf(){var e=(0,eb.Z)(Q);if(e.length){var n=(0,ev.Z)({query:e,rs:ex.i.AC,scope:eS.lw.PINS_MINE});e8(n),C.push(n)}}function ng(e){var n=e.index,t=e.isKeyDown,r=e.suggestion,i=e.suggestionStoryId,o=t?97:101,a={};switch(Q&&(a.entered_query=Q,a.selected_query=r.query||void 0),r.type){case"inclusive_product_filter_query":case"recent_query":case"query":O({event_type:o,view_type:2,view_parameter:103,component:35,element:104,aux_data:nY({autocomplete_type:"inclusive_product_filter_query"===r.type?"query":r.type,result_index:n},a)});var l=eW({suggestion:r,query:Q,lastFocusTime:eJ});ej&&"recent_query"===r.type&&(l=l.replace("pins","my_pins")),e8(l),C.push(l);break;case"recent_save":C.push(r.url);break;case"enriched_autocomplete":case"board":case"user":O({event_type:o,view_type:2,view_parameter:103,component:35,element:104,aux_data:nY({autocomplete_type:r.type,result_index:n},a)}),e8(r.url),C.push(r.url);break;case"explorearticle":26===r.story_category?O({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:nY({article_id:r.id,autocomplete_type:"recommended_article",story_id:r.storyId,story_type:"shopping_spotlight"},a)}):O({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:nY({autocomplete_type:2===r.story_category?"trending":"recommended",result_index:n},a)});var s=eW({suggestion:r,query:"",suggestionStoryId:i});e8(s),t&&C.push(s);break;case"todayarticle":O({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:nY({article_id:r.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight"},a)}),t&&C.push(eW({suggestion:r,query:""}));break;case"syop_cta":nf()}e1(),eB(!1),eq(!1)}(0,i.useEffect)(function(){np.current!==e2&&L(function(){e2?B.Z.pause():B.Z.resume(),e3(!e2),e2||(e1(),X(Y)),e5(e2),np.current=e2})},[Y,e2,e3,e5]),(0,i.useEffect)(function(){X(Y),eI(eg),eB(!1),eq(!1)},[Y,eg]);var ny=function(e){if(e||eu!==Y||em!==eg){var n,t=(0,eb.Z)(eu||e);if(t.length){var r=(0,ev.Z)({query:t,rs:null!==(n=ex.i.TYPED)&&void 0!==n?n:"",scope:em});e8(r),eB(!1),eq(!1),C.push(r)}}};return{allowLens:R,appliedQuery:Y,displayedQuery:eu,endPadding:nl,enteredQuery:Q,enteredScope:em,handleClearSearch:function(){if(X(""),eI(eS.lw.PINS),e1(),E.isAuth&&Y){var e=(0,ev.Z)({query:"",rs:ex.i.REMOVE});C.push(e)}else j&&S&&S(!0)},handleInclusiveProductFilterClick:function(e,n,t){var r={};Q&&(r.entered_query=Q),O({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:nY({autocomplete_type:"query",result_index:n},r)});var i=eW({suggestion:e,query:Q,lastFocusTime:eJ,filterSelectedTerm:t});e8(i),C.push(i)},handleInputBlur:function(e){var n=e.currentTarget;setTimeout(function(){n.contains(document.activeElement)||eB(!1)},0)},handleInputFocus:function(){e0(Date.now()),O({event_type:101,component:43,element:227}),eB(!0)},handleKeyDown:function(e){switch(e.keyCode){case Z.Z.ENTER:var n=eX(eT,eC);e2&&n&&e.preventDefault(),n&&eF?(ng({index:n.resultIndex||0,isKeyDown:!0,suggestion:n}),eL(!1)):ny();break;case Z.Z.ESCAPE:e2&&e.preventDefault(),e.stopPropagation(),eB(!1),eq(!1);break;case Z.Z.UP:e2&&e.preventDefault();var t=nW(e$(eT,eC),2),r=t[0],i=t[1];eA(r),eL(!0),es(i);break;case Z.Z.DOWN:e2&&e.preventDefault();var o=nW(e$(eT,eC,!0),2),a=o[0],l=o[1];eA(a),eL(!0),es(l);break;case Z.Z.TAB:nc&&!Q&&e2&&(e.preventDefault(),e.stopPropagation(),X(nc))}},handleScopeChange:function(e){eI(e),eB(j&&!Q),e1()},handleSearchIconButtonClick:function(){eB(!0),ne(!1),S&&S(!1),j&&O({event_type:101,element:11809})},handleSuggestionSelect:ng,handleSyopCtaClick:nf,handleTextChange:function(e){X(e),e1()},handleTypedSearchSubmit:ny,inputFocused:eR,isContentTypeFilterHovered:eG,isCurrentlyOnLensPage:"/lens-search"===D,isInTypeaheadSession:e2,isLensModalOpen:M,searchBoxHovered:ez,searchBoxPlaceholder:nu,setContentTypeFilterHovered:eV,setSearchBoxHovered:eN,setSuggestionsFocusIndex:eA,setSuggestionsHovered:eq,showContentTypeFilter:na,showIconOnly:e9,suggestedSearchTerms:nd,suggestionGroups:eT,suggestionsFocusIndex:eC,suggestionsMaxHeight:no,updateEnteredQuery:X,updateSuggestionGroups:eO}};function nX(e){var n=e.handleIconOnlyChange,t=e.iconOnly,r=e.isPartner,o=void 0!==r&&r,s=e.widthType,u=void 0===s?"md":s,c=(0,z.F)().checkExperiment,p=(0,ey.Z)(),y=(0,d.ZP)(),h=(0,q.B)().isRTL,m=(0,l.Z)().enabled,v=nQ({handleIconOnlyChange:n,iconOnly:void 0!==t&&t,widthType:u,isPartner:o}),_=v.allowLens,b=v.appliedQuery,x=v.displayedQuery,S=v.endPadding,w=v.enteredQuery,P=v.enteredScope,I=v.handleClearSearch,j=v.handleInclusiveProductFilterClick,k=v.handleInputBlur,T=v.handleInputFocus,O=v.handleKeyDown,E=v.handleScopeChange,C=v.handleSearchIconButtonClick,A=v.handleSuggestionSelect,D=v.handleSyopCtaClick,F=v.handleTextChange,L=v.handleTypedSearchSubmit,M=v.inputFocused,B=v.isContentTypeFilterHovered,Z=v.isInTypeaheadSession,N=v.isLensModalOpen,H=v.searchBoxHovered,K=v.searchBoxPlaceholder,G=v.setContentTypeFilterHovered,Y=v.setSearchBoxHovered,W=v.setSuggestionsFocusIndex,V=v.setSuggestionsHovered,Q=v.showContentTypeFilter,X=v.showIconOnly,$=v.suggestedSearchTerms,J=v.suggestionGroups,ee=v.suggestionsFocusIndex,en=v.suggestionsMaxHeight,et=v.updateEnteredQuery,er=v.updateSuggestionGroups;if(X&&!M&&!b&&!Z)return(0,f.jsx)(a.xu,{"data-test-id":"search-box-container",id:"searchBoxContainer",children:(0,f.jsx)(a.hU,{accessibilityLabel:y._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",iconColor:"gray",onClick:C,size:"lg"})});var ei=function(e){var n,t,r=e.suggestionsFocusIndex,i=eQ(e.suggestionGroups);if("number"==typeof r){for(var o=i.length-1;o>=0;o-=1)if(r>=i[o]){n=o,t=r-i[o];break}}return"number"==typeof n&&"number"==typeof t?eV(n,t):""}({suggestionsFocusIndex:ee,suggestionGroups:J}),eo="shrink"===u?"".concat(80,"vw"):void 0,ea=u&&Object.keys(eP.ht).includes(u)&&"shrink"!==u?eP.ht[u]:"auto",el=x||o&&Q||Z;return(0,f.jsx)(a.xu,{"data-test-id":"search-box-container",flex:"grow",id:"searchBoxContainer",minWidth:ea,paddingX:2,children:(0,f.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:H?ef:eg}},display:"flex",height:eP.XI,rounding:m?ek.Qq:6,children:[(0,f.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:nY({padding:h?"0 16px 0 ".concat(S):"0 ".concat(S," 0 16px")},Z?{borderRadius:m?"".concat(ek.GC,"px"):"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){Y(!0)},onMouseLeave:function(){Y(!1)},position:"relative",children:[!(x||M)&&(0,f.jsx)(a.xu,{flex:"none",marginEnd:2,children:(0,f.jsx)(a.JO,{accessibilityLabel:y._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),(0,f.jsx)(em,{focusOptionId:ei,isFocused:Z,name:"searchBoxInput",onBlur:k,onChange:F,onFocus:T,onKeyDown:O,onSearchTrigger:L,placeholder:K,searchBoxHovered:H,suggestedSearchTerms:$,updateEnteredQuery:et,value:x}),el?(0,f.jsx)(a.xu,{flex:"none",marginStart:3,children:(0,f.jsx)(a.xu,{"data-test-id":"search-cancel",children:(0,f.jsx)(a.hU,{accessibilityLabel:y._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:b?"cancel":"clear",iconColor:"darkGray",onClick:I,size:b?"sm":"lg"})})}):null,c(p.isAuth?"web_auth_existing_search_query_layout_shift_fix":"web_unauth_existing_search_query_layout_shift_fix").anyEnabled||Z?(0,f.jsx)(U,{children:(0,f.jsx)(nH,{active:Z,focusIndex:ee,maxHeight:en,onInclusiveProductFilterClick:j,onMouseEnter:function(){return V(!0)},onMouseLeave:function(){return V(!1)},onSuggestionClick:A,onSuggestionGroupsUpdate:er,onSuggestionHovered:function(e){return W(e)},onSyopCtaClick:D,query:w,scope:P,searchBoxHeight:eP.XI+4,suggestionGroups:J,width:eo})}):null,_&&!w&&(0,f.jsx)(g,{showCancel:el,viewType:2})]}),Q?(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,f.jsx)(eC,{currentlySelectedFilter:P,currentQuery:b,handleContentTypeFilterHover:function(){o&&G(B)},handleScopeChange:E})]}):null,N&&(0,f.jsx)(R,{})]})})}function n$(e){return(0,f.jsx)(eH,{children:(0,f.jsx)(nX,nY({},e))})}},858095:function(e,n,t){t.d(n,{Z:function(){return _}});var r,i=t(282480),o=t(711284),a=t(297949),l=t(144326),s=t(730212),u=t(154785),c=t(410150),d=t(888027),p=t(151905),f=t(770443);function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||y(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var m=void 0!==r?r:r=t(237894),v=function(e){var n=e.board,t=g((0,i.useState)(!1),2),r=t[0],o=t[1],l=(0,u.Z)(),s=(0,c.ml)();return(0,f.jsx)(a.xu,{"aria-selected":r?"true":"false",dangerouslySetInlineStyle:{__style:{flex:"1 1 0px"}},marginBottom:2,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},paddingX:1,role:"option",width:s?200:void 0,children:(0,f.jsx)(a.iP,{onTap:function(){l({action:"click",item:"slp-giftguides-board",within:"slp-giftguide-section"})},children:(0,f.jsx)(d.default,{boardKey:n,display:"responsive",isBoardsActualizationReps:!0,isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,noPaddings:!0,showFollowButton:!1,showMask:r,type:"grid",viewParameter:3070,viewType:2})})})};function _(){var e,n,t,r=(0,u.Z)(),d=(0,l.ZP)(),_=(0,c.ml)(),b=(0,s.B)().country,x=g((0,i.useState)([]),2),S=x[0],w=x[1],P=(0,o.useLazyLoadQuery)(m,{}),I=(null===(e=P.v3RootPageFeaturedBoardsQuery)||void 0===e?void 0:e.__typename)==="V3RootPageFeaturedBoards"?P.v3RootPageFeaturedBoardsQuery.data:void 0;if((0,i.useEffect)(function(){I&&w(((function(e){if(Array.isArray(e))return h(e)})(I)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(I)||y(I)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(){return Math.random()-.5}))},[I]),null!==(n=P.v3RootPageFeaturedBoardsQuery)&&void 0!==n&&null!==(t=n.error)&&void 0!==t&&t.message||!I)return null;var j=function(e){return"DE"===e?"https://www.pinterest.com/pinterestde/":"FR"===e?"https://fr.pinterest.com/pinterestfr/":"AU"===e?"https://www.pinterest.com/pinterestaustralia/":"GB"===e?"https://www.pinterest.com/pinterestuk/":"https://www.pinterest.com/shop"};return(0,f.jsxs)(a.kC,{direction:"column",gap:p.Lo,children:[(0,f.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,f.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:_?4:p.r5,children:(0,f.jsx)(a.xv,{lineClamp:1,weight:"bold",children:d._('Shop featured boards', 'slp.giftguides.heading', 'Shop featured boards heading')})}),(0,f.jsx)(a.xu,{marginEnd:_?4:6,children:_?(0,f.jsx)(a.I_,{accessibilityLabel:d._('See more', 'slp.giftguides.see_more', 'See more button'),bgColor:"transparent",href:j(b),icon:"arrow-forward",iconColor:"darkGray",onClick:function(){return r({action:"click",item:"slp-giftguides-see-more"})},padding:1,size:"xs"}):(0,f.jsx)(a.ZP,{accessibilityLabel:d._('See more', 'slp.giftguides.see_more', 'See more button'),color:"transparent",href:j(b),iconEnd:"arrow-forward",onClick:function(){return r({action:"click",item:"slp-giftguides-see-more"})},size:"md",text:d._('See more', 'slp.giftguides.see_more', 'See more button')})})]}),(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:_?{__style:{whiteSpace:"nowrap",scrollBehavior:"smooth"}}:void 0,overflow:_?"scrollX":void 0,children:(0,f.jsx)(a.xu,{display:"flex",marginBottom:5,paddingX:_?3:p.r5,wrap:!_,children:S.slice(0,3).map(function(e,n){return e&&(0,f.jsx)(v,{board:e},"board--".concat(n))})})})]})}},151905:function(e,n,t){t.d(n,{Ag:function(){return f},Fj:function(){return c},Gh:function(){return _},H2:function(){return v},Ie:function(){return b},Lo:function(){return o},N6:function(){return x},Ny:function(){return y},P$:function(){return d},TD:function(){return h},Ub:function(){return g},XI:function(){return r},YO:function(){return m},a3:function(){return s},ht:function(){return a},le:function(){return u},r5:function(){return i},sA:function(){return l},yY:function(){return p}});var r=48,i=8,o=4,a={md:407,sm:332,auto:"auto"},l=7,s=["pin.description","pin.id","pin.images[236x]"],u=360,c=76,d=5,p=7.5,f=40,g=24,y=192,h=7,m=116,v={__style:{backgroundColor:"rgba(0,0,0, .4)"}},_=90,b=2,x=5},48901:function(e,n,t){t.d(n,{W:function(){return u},Z:function(){return d}});var r=t(282480),i=t(297949),o=t(573706),a=t(989820),l=t(144326),s=t(770443),u=[["skinTone1","skinTone2","skinTone3","skinTone4"],["skinTone5","skinTone6","skinTone7","skinTone8"],["skinTone9","skinTone10","skinTone11","skinTone12"],["skinTone13","skinTone14","skinTone15","skinTone16"]],c=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function d(e){var n=e.currentlyAppliedFiltersParamTerm,t=e.filterTones,d=e.onClickApplyFilters,p=e.query,f=e.showHeaderText,g=void 0===f||f,y=(0,o.v)().logContextEvent,h=(0,l.ZP)(),m=(0,r.useRef)(null),v=(0,r.useRef)(null),_=function(e){var t,r=n===e?"":e;y({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:p,filter_type:"skin_tone",value:r}}),null===(t=v.current)||void 0===t||t.complete(),d(r)},b=n?h._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):h._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)(i.kC,{alignItems:g?"center":"start",direction:"column",justifyContent:"start",children:[g&&(0,s.jsx)(i.xu,{marginBottom:2,children:(0,s.jsx)(i.xv,{color:"default",overflow:"normal",weight:"bold",children:b})}),(0,s.jsx)(i.xu,{ref:m,display:"flex",flex:"none",paddingX:1,children:(void 0===t?c:t).map(function(e,t){var r=e.term,o=e.display;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},"data-test-id":"skin-tone-option",children:(0,s.jsx)(i.Fm,{color:u[t],onClick:function(){return _(r)},selected:n===r,size:"lg",text:o})},r)})})]}),m&&(0,s.jsx)(a.mc,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:function(e){e.complete&&502978===e.experience_id&&(v.current=e)},placementId:29})]})}},934648:function(e,n,t){var r=t(144326),i=t(410150),o=t(754143),a=t(578406);n.Z=function(){var e=(0,r.ZP)(),n=(0,i.HG)(),t=(0,o.H)(),l=t.viewer,s=t.loginForMore,u=t.limitedLoginModalSubheader,c=t.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===l.type?function(t){var r=t.modalHeader,i=t.nextLocation;return function(t){var o=null;t&&(t.nativeEvent&&t.nativeEvent instanceof Event?o=t:t.event&&(o=t.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==s||s.setVisible(!0),null==u||u.setText(r||(n?(0,a.hr)(e):(0,a.Wh)(e))),i&&(null==c||c.setRoute(i))}}:function(e){return e.fn}}},535298:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(61853),i=t(607320),o=t(277844);function a(e){var n,t=e.appliedUnifiedFilters,a=e.autoCorrectionDisabled,l=e.bubbleId,s=e.currentlyAppliedFiltersParamTerm,u=e.guidedSearchQuery,c=e.inGlobalSearch,d=e.initialCategory,p=e.initialDomains,f=e.initialMaxPrice,g=e.initialMinPrice,y=e.isDuplo,h=e.journeyDepth,m=e.pageSize,v=e.personalizationPinSig,_=e.query,b=e.requestParams,x=e.rs,S=e.scope,w=e.search,P=e.selectedOneBarModules,I=e.sourceId,j=e.sourceModuleId,k=e.sourceUrl,T=e.topPinIds,O=e.user,E=null==P?void 0:P.split(",");if(c)n=(0,o.Ht)({autoCorrectionDisabled:a,filters:s,journeyDepth:h,query:_,requestParams:b,scope:S,selectedOneBarModules:E,selectedPinImgSig:v,sourceId:I,sourceModuleId:j,sourceUrl:k,topPinIds:T});else{var C={autoCorrectionDisabled:a,bubbleId:l,filters:s,guidedSearchQuery:u,journeyDepth:h,query:_,requestParams:b,rs:x,scope:S,selectedOneBarModules:E,selectedPinImgSig:v,sourceId:I,sourceModuleId:j,sourceUrl:k,topPinIds:T,user:O};t&&(C.appliedUnifiedFilters=t),C.appliedProductFilters=(0,r.Z)({category:d,domains:p,maxPrice:f,minPrice:g}),y&&(C.domains=p,C.priceMax=f?parseInt(f,10):void 0,C.priceMin=g?parseInt(g,10):void 0,C.topPinId=(0,i.Z)(w,S)),m&&(C.pageSize=m.page_size),n=(0,o.Ht)(C)}return n}},212602:function(e,n,t){t.d(n,{Z:function(){return s},d:function(){return a}});var r=t(5629),i=t(679482),o=t(663641),a=function(e){return e?{page_size:"14"}:{page_size:"25"}},l=0;function s(e){var n,t=e.checkExperiment,s=e.isAuthenticated,u=e.isDesktop,c=e.isNotFirstPageOrRevisit,d=e.scope,p=e.windowHeight,f=e.windowWidth,g=u&&d!==o.lw.USERS&&d!==o.lw.BOARDS&&(void 0===c||c)?t("dweb_search_dynamic_page_size"):{},y=g.group,h=void 0===y?"":y,m=g.anyEnabled;if(u){if(void 0!==m&&m&&0!==f&&0!==p){if(0!==l)n={page_size:l.toString()};else{var v=Math.floor(f/(i.yF+i.oX)),_=h.split("_"),b="employees"===h?350:Number(_[1]),x=Math.min(v*Math.ceil((p-(r.Mz+r.Lu+r.uS))/b),18);n={page_size:x.toString()},l=x}}}else n=a(s);return n}},989386:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(663641),i=t(868808);function o(e){var n=e.isDesktop,t=e.scope,o=e.search,a=(0,i.mB)(o),l=a.auto_correction_disabled,s=a.b_id,u=a.brands,c=a.brand_value,d=a.category,p=a.colors,f=a.commerce_only,g=void 0===f?"":f,y=a.cover_pin_sig,h=a.deb_d,m=a.domains,v=a.filters,_=a.guided_search_query,b=a.interest_id,x=a.journey_depth,S=a.on_sale,w=a.price_max,P=a.price_min,I=a.q,j=a.query_pin_sigs,k=a.request_params,T=a.rs,O=a.selected_one_bar_modules,E=a.source_id,C=a.source_module_id,A=a.style,D=a.tab,F=a.top_pin_ids,L=a.user,M="true"===g.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===(void 0===l?"":l).toLowerCase(),brands:u,brandValue:c,bubbleId:s,category:d,colors:p,commerceOnly:"true"===g.toLowerCase(),coverPinSig:y,currentlyAppliedFiltersParamTerm:v,debD:h,domains:m,guidedSearchQuery:_,interestId:b,journeyDepth:x?parseInt(x,10):void 0,onSale:S,personalizationPinSig:j,placementId:(0,r.Hd)(M,n),priceMax:w,priceMin:P,query:I,requestParams:k,rs:T,scope:M,selectedOneBarModules:O,sourceId:E,sourceModuleId:C,style:A,tab:D||"",topPinIds:F,user:L,viewParameter:(0,r._R)(M),viewType:M===r.lw.SHOP_TOOL?1:2}}},211397:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(282480),i=t(545007),o=t(656817),a=t(297728),l=t(786974),s=t(468808),u=t(535298),c=t(212602),d=t(989386);function p(){var e,n=(0,a.F)().checkExperiment,t=(0,i.I0)(),p=(0,r.useRef)(),f=null!==(e=(0,o.Z)())&&void 0!==e?e:{},g=f.width,y=void 0===g?0:g,h=f.height,m=void 0===h?0:h;return function(e){return function(e){var n=e.appliedUnifiedFilters,t=e.checkExperiment,r=e.dispatch,i=e.optionsKeyRef,o=e.isAuthenticated,a=void 0===o||o,p=e.isDesktop,f=void 0===p||p,g=e.url,y=e.windowHeight,h=e.windowWidth,m=new URL(g.startsWith("http")?g:"".concat(window.location.origin).concat(g)),v=m.pathname.split("/");if(4===v.length&&"search"===v[1]){var _=m.search,b=v[2],x=(0,d.Z)({isDesktop:f,scope:b,search:_}),S=x.autoCorrectionDisabled,w=x.bubbleId,P=x.category,I=x.currentlyAppliedFiltersParamTerm,j=x.domains,k=x.guidedSearchQuery,T=x.inGlobalSearch,O=x.journeyDepth,E=x.personalizationPinSig,C=x.priceMax,A=x.priceMin,D=x.query,F=x.requestParams,L=x.rs,M=x.scope,R=x.selectedOneBarModules,B=x.sourceId,Z=x.sourceModuleId,z=x.user,N=(0,c.Z)({checkExperiment:t,isAuthenticated:a,isDesktop:f,scope:M,windowHeight:y,windowWidth:h}),U=(0,u.Z)({appliedUnifiedFilters:n,autoCorrectionDisabled:S,bubbleId:w,currentlyAppliedFiltersParamTerm:I,guidedSearchQuery:k,inGlobalSearch:T,initialCategory:P,initialDomains:j,initialMaxPrice:C,initialMinPrice:A,isDuplo:!a||!f,journeyDepth:O,pageSize:N,personalizationPinSig:E,query:D,requestParams:F,rs:L,scope:M,search:_,selectedOneBarModules:R,sourceId:B,sourceModuleId:Z,sourceUrl:g,user:z}),H=(0,l.Z)(U);i.current!==H&&(i.current=H,r((0,s.U)(U.name,{options:U.options},null)))}}({checkExperiment:n,dispatch:t,optionsKeyRef:p,url:e.url,windowHeight:m,windowWidth:y})}}},560425:function(e,n,t){t.d(n,{Z:function(){return l},f:function(){return s}});var r=t(400416),i=t(119437);function o(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){t(e);return}l.done?n(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})}}function l(e,n){var t;return t=a(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.md)(e,!0)),t.prev=1,t.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"PUT"});case 4:n({event_type:26,object_id_str:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o((0,i.md)(e,!1));case 10:case"end":return t.stop()}},t,null,[[1,7]])})),function(e){return t.apply(this,arguments)}}function s(e,n){var t;return t=a(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.md)(e,!1)),t.prev=1,t.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"DELETE"});case 4:n({event_type:27,object_id_str:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o((0,i.md)(e,!0));case 10:case"end":return t.stop()}},t,null,[[1,7]])})),function(e){return t.apply(this,arguments)}}},887525:function(e,n,t){var r=(0,t(39724).P1)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(n,t){var r,i=e[t];n[null!==(r=i.url)&&void 0!==r?r:""]=i;var o=i.oldSlugUrl;return o&&(n[o]=i),n},{})});n.Z=r},310368:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(297949),i=t(476198),o=t(144326),a=t(961754),l=t(410150),s=t(770443);function u(e){var n=e.ideaPinImages,t=n.map(function(e,n){var t,i,o;return(0,s.jsx)(r.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:n}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,s.jsx)(r.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:null!==(t=null==e?void 0:e.height)&&void 0!==t?t:1,naturalWidth:null!==(i=null==e?void 0:e.width)&&void 0!==i?i:1,src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:""})},n)});return(0,s.jsx)(r.kC,{justifyContent:"center",children:(0,s.jsx)(r.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[n.length],children:t})})}function c(e){var n=e.handleHide,t=e.text,c=e.userId,d=e.href,p=e.imageUrl,f=(0,o.ZP)(),g=(0,l.HG)(),y=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:c}}),h=Array.isArray(t)?t.join(" "):t;if(0===(y.data||[]).length)return(0,s.jsx)(i.ZP,{duration:5e3,href:d,onHide:n,text:h,thumbnail:p?{image:(0,s.jsx)(r.Ee,{alt:f._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}:void 0});var m=(y.data||[]).slice(0,3).map(function(e){var n;return null===(n=e.images)||void 0===n?void 0:n[g?"236x":"170x"]}),v=(0,s.jsx)(u,{ideaPinImages:m});return(0,s.jsx)(i.ZP,{_dangerouslySetThumbnail:v,duration:5e3,href:d,onHide:n,text:h})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/70398-e4137a330b5abb59.js.map