"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[57071],{769657:function(e,t,r){r.d(t,{a$:function(){return E},kv:function(){return S},pH:function(){return D}});var n=r(252071),o=r(267005),i=r(635258),c=r(937304);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function l(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function y(e){var t=d();return function(){var r,n=h(e);return r=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t="function"==typeof Map?new Map:void 0;return(g=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return m(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)})(e)}function m(e,t,r){return(m=d()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&v(o,r.prototype),o}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var k=function(e){_(r,e);var t=y(r);function r(e){var n;return p(this,r),O(b(n=t.call(this,e.statusText)),"name","CrossDomainHandshakeHttpError"),n.response=e,n}return l(r)}(g(Error)),j=function(e){_(r,e);var t=y(r);function r(e){var n,o;return p(this,r),O(b(o=t.call(this,null!==(n=e.message)&&void 0!==n?n:void 0)),"name","CrossDomainHandshakeApiError"),o.api_error_code=e.code,o.response=e,o}return l(r)}(g(Error)),P=function(e){var t=e.path,r=e.data,n=e.unauthId;return fetch("".concat(i.cDv,"/v3/").concat(t,"/handshake/"),{credentials:"include",mode:"cors",method:"POST",body:(0,c.Z)(r),headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":n}}).then(function(e){if(200===e.status||401===e.status||409===e.status)return e;throw new k(e)}).then(function(e){return e.json()}).then(function(e){if("success"===e.status)return Promise.resolve(e);if(e.code===o.Zn)return e.api_error_code=e.code,Promise.reject(e);throw new j(e)}).catch(function(e){throw e})},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.Z.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate()},E=function(e,t){var r=t.facebookToken,n=t.inviteCode,o=t.locale,i=t.referrer,c=t.unauthId,a="sso"===e.type,u="email"===e.type,f="line"===e.type,l="google"===e.type,p="facebook"===e.type,_=(a||u)&&e.business_name&&"partner"||p&&e.facebook_id&&"facebook"||"email",y={email:l?"":e.email||"",username:u&&e.username||"",password:u&&e.password||"",first_name:e.first_name||"",last_name:(p||l||u)&&e.last_name||"",country:u&&e.country||"",locale:o,referrer:i};return e.birthday&&(y=s(s({},y),{},{birthday:e.birthday})),u&&e.custom_gender&&(y=s(s({},y),{},{custom_gender:e.custom_gender})),(u||p||f)&&e.gender&&(y=s(s({},y),{},{gender:e.gender})),(a||u)&&e.business_name&&(y=s(s({},y),{},{business_name:e.business_name,first_name:e.business_name})),n&&(y=s(s({},y),{},{invite_code:n})),p&&e.facebook_id&&(y=s(s({},y),{},{facebook_id:e.facebook_id,facebook_token:r||e.facebook_token||""})),u&&e.recaptchaV3Token&&(y=s(s({},y),{},{recaptcha_v3_token:e.recaptchaV3Token})),P({path:"register/".concat(_),data:y,unauthId:c})},D=function(e,t){var r=t.recaptchaV3Token,n=t.referrer,o=t.unauthId,i=e.mfa_token&&"login/mfa"||"login",c={username_or_email:e.username_or_email.trim(),password:e.password,referrer:n};return e.mfa_token&&(c=s(s({},c),{},{mfa_token:e.mfa_token})),r&&(c=s(s({},c),{},{token:r})),P({path:i,data:c,unauthId:o})}},395225:function(e,t,r){r.d(t,{Z:function(){return x}});var n=r(282480),o=r(252071),i=r(609326),c=r(573706),a=r(914896),u=r(790014),s=r(769657),f=r(782443),l=r(591692),p=r(267005),_=r(677388),y=r(816217),b=r(76367),g=r(484777),m=r(103741),d=r(343544),v=r(398873),h=r(864723),O=r(1006),w=r(711120),k=r(227984),j=r(592305),P=r(415787);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==S(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(){var e=(0,_.hq)(),t=(0,g.Z)(),r=(0,c.v)().logContextEvent,S=(0,w.Z)();return(0,n.useCallback)(function(n){var c=n.creds,_=n.isAccountSwitch,g=n.loggingOptions,w=g.loggingData,E=void 0===w?{}:w,x=g.loginAttemptContextEvent,T=n.recaptchaV2Token,I=n.recaptchaV3Token;t();var C=!!(c.facebook_autologin||c.autologin),M=(0,b.eD)(c),F=function(e){var t=c.google_open_id_token?"google":"facebook";C&&(0,O.dy)({event:e,provider:t})},Z=function(e){C||(0,O.EX)({event:e,provider:(0,b.nY)(c)})},H=function(e){var t,n;r(D(D({},x),{},{event_type:e,aux_data:D(D({},x.aux_data),{},{upsell_reason:(null===(t=x.aux_data)||void 0===t?void 0:t.upsell_reason)||(C?"autologin":(0,h.M0)().getItem(i.bg)),upsell_view_count:null!==(n=(0,h.M0)().getItem(i.w0))&&void 0!==n?n:0})})),7536===e&&((0,h.M0)().setItem(i.V6,(0,b.nY)(c)),(0,h.M0)().setItem(i.w0,0))};H(7534),S({action:C?"autologin":"login",event:"attempt",trigger:E.trigger,type:M});var A=function(e){var t="referrer_unknown";try{var r=document.referrer;t=r?r.indexOf("/t.co/")>-1?"twitter":r.indexOf("google.")>-1?"google":r.indexOf("bing.")>-1?"bing":r.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}var n=E===Object(E)?E.container:"container_unknown";(0,O.My)("login.referrer."+t+"."+M),(0,O.My)("login.container."+String(n)+"."+M),(0,O.My)("login.type."+M);var o=M||"method_unknown",i=E.page||"page_unknown";c.facebook_autologin?((0,O.My)("web_autologin_facebook"),(0,O.My)("new_web_autologin_facebook",{page:i,referrer:t,container:n})):((0,O.My)("web_login.".concat(o,".success.").concat(i,".").concat(String(n),".").concat(t,".tier1")),(0,P.nP)("web_login.".concat(o,".success.").concat(i,".").concat(String(n),".").concat(t,".tier1")),(0,O.My)("new_web_login.".concat(o,".success"),{page:i,referrer:t,container:n})),(0,m.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),H(7536),S({action:C?"autologin":"login",event:"success",trigger:E&&E.trigger,type:M})},R=function(e){var t=e.error,r=e.isCrossDomain;if(t){var n=t.http_status===d.Ej?d.Ej:t.api_error_code,o=n;n&&p.qF.has(n)&&(o=p.qF.get(n));var i=E.container,c=E.trigger;(0,O.My)("".concat(r?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error",".").concat(String(o),".").concat(i||"unknow_container",".").concat(M)),H(7535),S({action:C?"autologin":"login",event:"fail",trigger:c,type:M})}};if(c.username_or_email&&!c.mfa_resend&&e&&-1!==y.Z.indexOf(e.origin)){var N=function(e){return(0,O.My)("web_cross_domain_login.".concat(e,".").concat((0,b.eD)(c)))};N("attempt");var V=e.referrer,L=e.facebookToken,B=e.unauthId;return(0,s.pH)(c,{recaptchaV3Token:I,referrer:V,facebookToken:L,unauthId:B}).then(function(e){var t=e&&e.data;if(t)return N("success_with_token"),(0,s.kv)(t).then(function(){return N("success_token_exchanged"),A(),Promise.resolve()},function(e){throw N("success_token_not_exchanged"),e});throw N("success_without_token"),Error()},function(e){throw N("failure"),R({error:e,isCrossDomain:!0}),e})}F("login_api_call_start"),Z("login_api_call_start");var U=(0,k.O)();return o.Z.create("UserSessionResource",D(D(D({},c),U?{referrer:U}:Object.freeze({})),{},{get_user:c.get_user||c.switch_account&&_,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,j.t_)()||null,recaptchaV2Token:T,recaptchaV3Token:I})).callCreate({showError:!1,async:!0}).then(function(e){var t=(null==e?void 0:e.client_context)||Object.freeze({});return A({country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,regionFromIp:t.region_from_ip}),F("login_api_call_success"),Z("login_api_call_success"),(0,f.B)(!1),(0,l.Z)(),a.zN(u.e7.name),a.zN(u.x3.name),(0,v.Z)("login").then(function(){return e})},function(e){return R({error:e,isCrossDomain:!1}),F("login_api_call_failure"),Z("login_api_call_failure"),Promise.reject(e)})},[e,t,r,S])}},782443:function(e,t,r){r.d(t,{B:function(){return c},a:function(){return i}});var n=r(609326),o=r(864723),i=function(){return!!o.ZP.getItem(n.WM)},c=function(e){o.ZP.setItem(n.WM,!!e)}},677388:function(e,t,r){r.d(t,{aU:function(){return a},hq:function(){return c},o_:function(){return o}});var n=(0,r(498490).Z)("AuthenticationContext"),o=n.Provider,i=n.useHook;function c(){return i().loginContext}function a(){return i().logout}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/57071-f87a58313cdc620a.js.map