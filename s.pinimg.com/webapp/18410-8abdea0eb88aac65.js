"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18410],{791816:function(e,t,i){i.r(t);var n,r,o,a,l={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"updatedSettings"}],kind:"Fragment",metadata:null,name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"updatedSettings",variableName:"updatedSettings"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3PostSettingsAllNotificationsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3PostSettingsAllNotificationsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"7162348715dcaf7d8e559b82fdb2855ec99a3a7d15a86739a8ff186c6878a257",metadata:{},name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",operationKind:"mutation",text:null}};l.hash="d9bfbc19f803dd86d2747e77438af7d3",t.default=l},327441:function(e,t,i){i.d(t,{U:function(){return l},d:function(){return s}});var n=i(282480),r=i(770443);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var a=(0,n.createContext)({});function l(e){var t,i=e.children,l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,l=[],s=!0,c=!1;try{for(o=(i=i.call(e)).next;!(s=(n=o.call(i)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],c=l[1],d=(0,n.useMemo)(function(){return{alert:s,showAlert:function(e){e&&(null==e?void 0:e.message)!==(null==s?void 0:s.message)&&c(e)},hideAlert:function(){c(void 0)}}},[s,c]);return(0,r.jsx)(a.Provider,{value:d,children:i})}function s(){return(0,n.useContext)(a)}},887354:function(e,t,i){var n=i(297949),r=i(771385),o=i(758339),a=i(144326),l=i(410150),s=i(770443);t.Z=function(e){var t=e.birthdate,i=e.closeModal,c=e.onConfirm,d=(0,a.ZP)(),u=(0,l.HG)(),_=(0,r.ew)(t||"",d),f=d._('Close Birthdate Confirmation Modal', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.CloseAccessibilityLabel', 'Accessibility label for the Birthdate Confirmation Modal Close Icon');return(0,s.jsxs)(o.ZP,{accessibilityModalLabel:d._('Birthdate Confirmation Modal', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.AccessibilityLabel', 'Accessibility label for the Birthdate Confirmation Modal'),closeOnOutsideClick:!1,footer:(0,s.jsx)(n.xu,{marginBottom:u?0:11,children:(0,s.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,s.jsx)(n.xu,{display:"flex",justifyContent:u?"end":"center",paddingX:u?1:5,width:"50%",children:(0,s.jsx)(n.zx,{fullWidth:!u,onClick:i,size:"lg",text:d._('Edit info', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.EditButton', 'Edit info button label on the modal dialog to return to editing the birthdate')})}),(0,s.jsx)(n.xu,{display:"flex",justifyContent:u?"start":"center",paddingX:u?1:5,width:"50%",children:(0,s.jsx)(n.zx,{color:"red",fullWidth:!u,onClick:function(){c()},size:"lg",text:d._('Confirm', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.ConfirmButotn', 'Confirm button label on the modal dialog to return to editing the birthdate')})})]})}),heading:u?(0,s.jsxs)(n.kC,{justifyContent:"between",children:[(0,s.jsx)(n.xu,{flex:"grow",marginStart:6,children:(0,s.jsx)(n.X6,{accessibilityLevel:1,align:"center",size:"500",children:_})}),(0,s.jsx)(n.hU,{accessibilityLabel:f,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:i,size:"xs"})]}):null,isOpen:!0,mobileAccessibilityCloseIconLabel:f,mobileIsSlideUp:!0,onDismiss:i,size:u?"sm":"lg",children:[u?null:(0,s.jsx)(n.xu,{marginBottom:4,paddingX:4,children:(0,s.jsx)(n.X6,{accessibilityLevel:"none",align:"center",size:"600",children:_})}),(0,s.jsx)(n.xu,{marginBottom:u?0:8,paddingX:4,children:(0,s.jsx)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,s.jsx)(n.xv,{align:"center",size:u?"300":"400",children:(0,r.Pe)(d)})})})]})}},571598:function(e,t,i){var n=i(297949),r=i(758339),o=i(144326),a=i(240760),l=i(677388),s=i(931397),c=i(635258),d=i(410150),u=i(383399),_=i(424583),f=i(770443);t.Z=function(){var e=(0,o.ZP)(),t=(0,l.aU)(),i=(0,d.HG)(),m=(0,u.Z)(),h=m.isAuth?m.id:"",p=(0,_.mN)()(h);(0,s.Z)({name:"UserSettingsResource"});var g=function(){t({redirectUrl:"/",source:"underage_user_deactivation_logout"})};return(0,f.jsx)(r.ZP,{accessibilityModalLabel:e._('User Account Deactivation Modal', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AccessibilityLabel', 'Accessibility label for the User Account Deactivation Modal'),closeOnOutsideClick:!1,footer:(0,f.jsx)(n.xu,{marginBottom:i?0:11,children:(0,f.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,f.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingX:5,width:i?"auto":"100%",children:(0,f.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:g,size:"lg",text:e._('Close', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmButotn', 'Confirm button label on the modal dialog to return to editing the birthdate')})})})}),heading:(0,f.jsx)(n.xu,{marginBottom:4,marginTop:i?0:6,paddingX:4,children:(0,f.jsx)(n.X6,{accessibilityLevel:"none",align:"center",size:i?"500":"600",children:e._('We\'ve deactivated your account', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.Heading', 'Heading for showing that the account has been deactivated')})}),isOpen:!0,mobileIsSlideUp:!0,onDismiss:g,size:i?"sm":"lg",children:(0,f.jsx)(n.xu,{marginBottom:i?0:8,paddingX:4,children:(0,f.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,f.jsx)(n.xu,{marginBottom:4,children:(0,f.jsx)(n.xv,{size:"300",children:(0,a.nk)(e._('Unfortunately the birthdate you provided means you\'re not old enough for a Pinterest account according to our {{ tosLink }}.', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmationMessage', 'Confirmation text for verifying that the inputted birthdate is valid, tosLink: Links to Pinterest terms of service page'),{tosLink:(0,f.jsx)(n.rU,{display:"inlineBlock",href:c.F20,target:"blank",children:e._('terms of service', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.TermsOfService', 'Terms of service text')},"termsOfServiceLink")})})}),(0,f.jsx)(n.xu,{children:(0,f.jsxs)(n.aV,{label:(0,f.jsx)(n.xv,{size:"300",weight:"bold",children:e._('What you can do now', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HeadingText', 'Heading text for for outlining possible steps')}),spacing:"condensed",type:"unordered",children:[(0,f.jsx)(n.aV.Item,{text:e._('You can file an appeal if you think your account was deactivated by mistake', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AppealText', 'Text describing the potential to appeal a birthdate deactivation')}),(0,f.jsx)(n.aV.Item,{text:(0,f.jsx)(n.xv,{children:(0,a.nk)(e._('What you can do now More information and instructions for an appeal have been sent to {{ email }}', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailText', 'Text describing an email being sent to the user about deactivation, email: user email'),{email:(0,f.jsx)(n.xv,{inline:!0,weight:"bold",children:null==p?void 0:p.email},"user-email-birthdate-verification-modal")})})}),(0,f.jsx)(n.aV.Item,{text:(0,f.jsx)(n.xv,{children:(0,a.nk)(e._('If you no longer have access to that email address, {{ helpLink }}', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HelpText', 'Help text for informing users without access to that email, helpLink: Link that leads to the Pinterest help page for inaccessible emails'),{helpLink:(0,f.jsx)(n.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/email-is-old-or-inaccessible",target:"blank",children:e._('we can help', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailHelpLinkText', 'Text for the link to get help for emails no longer accessible')},"emailHelpLink")})})})]})})]})})})}},797882:function(e,t,i){var n=i(297949),r=i(758339),o=i(144326),a=i(240760),l=i(410150),s=i(770443);t.Z=function(e){var t=e.userEmail,i=e.closeModal,c=(0,o.ZP)(),d=(0,l.HG)(),u=c._('We need more information', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.Header', 'Header text for the Birthdate Verification Modal'),_=d?c._('Close Birthdate Verification Modal', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.CloseAccessibilityLabel', 'Accessibility label for the Birthdate Verification Modal Close Icon'):"",f=function(){i()};return(0,s.jsx)(r.ZP,{accessibilityModalLabel:c._('Birthdate Verification Modal', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.AccessibilityLabel', 'Accessibility label for the Birthdate Verification Modal'),closeOnOutsideClick:!1,footer:(0,s.jsx)(n.xu,{marginBottom:d?0:11,children:(0,s.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,s.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingX:5,width:d?"auto":"100%",children:(0,s.jsx)(n.zx,{color:"red",fullWidth:!d,onClick:f,size:"lg",text:c._('Got it', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.GotItButotn', 'Got it button action on the birthdate verification modal')})})})}),heading:d?(0,s.jsxs)(n.kC,{justifyContent:"between",children:[(0,s.jsx)(n.xu,{flex:"grow",marginStart:6,children:(0,s.jsx)(n.X6,{accessibilityLevel:1,align:"center",size:"500",children:u})}),(0,s.jsx)(n.hU,{accessibilityLabel:_,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:f,size:"xs"})]}):(0,s.jsx)(n.xu,{marginBottom:4,marginTop:6,children:(0,s.jsx)(n.X6,{accessibilityLevel:"none",align:"center",size:"500",children:u})}),isOpen:!0,mobileAccessibilityCloseIconLabel:_,mobileIsSlideUp:!0,onDismiss:f,size:"sm",children:(0,s.jsx)(n.xu,{marginBottom:d?0:8,paddingX:4,children:(0,s.jsx)(n.xv,{align:"center",children:(0,a.nk)(c._('The change to your birthdate hasn\u2019t been saved yet.\xA0 We\u2019ve sent an email to {{ userEmail }} for more information.', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.ExplanationText', 'This text explain to the user that his new birthday wasnt set and he needs to check his email that contains additional info userEmail:The user email that is going to be displayed on the text'),{userEmail:(0,s.jsx)(n.xv,{inline:!0,weight:"bold",children:t},"user-email-birthdate-verification-modal")})})})})}},212515:function(e,t,i){i.d(t,{Q:function(){return u},Z:function(){return _}});var n=i(282480),r=i(488792),o=i(477058),a=i(972147),l=i(730212);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach(function(t){var n,r;n=t,r=i[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function u(e,t){var i=(0,o.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,c=(0,r.Z)(),u=(0,o.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(u,e.view_data):u,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(d(d({},e),{},{event_type:13,request_identifier:s}))}},[t])}function _(e){var t=e.children;return u(e.log),t||null}},858705:function(e,t,i){var n=i(282480);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,l=[],s=!0,c=!1;try{for(o=(i=i.call(e)).next;!(s=(n=o.call(i)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return r(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=t[0],o=t[1];return(0,n.useEffect)(function(){o(!0)},[]),i}},972147:function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}i.d(t,{Z:function(){return function e(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,i);return void 0!==l?l:void 0===i?t:Array.isArray(t)&&Array.isArray(i)?i.reduce(function(t,n,r){return t[r]=e(t[r],i[r],a),t},function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===r(t)&&i&&"object"===r(i)?Object.keys(i).reduce(function(t,n){return t[n]=e(t[n],i[n],a),t},function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){var n,o;n=t,o=i[t],(n=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==r(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},t)):i}}})},456082:function(e,t,i){i.d(t,{i:function(){return a},x:function(){return l}});var n=i(267005);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,i){var n;return(n=function(e,t){if("object"!==r(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==r(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function l(e){var t,i=e.apiErrorCode,r=e.onShowMessage,a=e.onPassCodeRequired,l=e.onPassCodeSkipConfirmation;i&&((o(t={},n.RR,r),o(t,n.mX,a),o(t,n.q6,l),t)[i]||r)()}},796042:function(e,t,i){i.d(t,{Z:function(){return u}});var n=i(282480),r=i(297949),o=i(144326),a=i(770443),l=new r.Ry(671),s=new r.H3([l]),c=function(){return(0,a.jsx)(r.xu,{color:"default",height:"100%",left:!0,opacity:.8,position:"absolute",top:!0,width:"100%",zIndex:s})},d=new r.H3([s]),u=function(){var e=(0,o.ZP)();return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(r.xu,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",zIndex:d,children:(0,a.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,a.jsx)(r.$j,{accessibilityLabel:e._('Loading Icon', 'Catalogs.Spinner', 'Loading state for catalogs pages'),show:!0})})})]})}},700262:function(e,t,i){i.d(t,{_:function(){return u}});var n=i(282480),r=i(297949),o=i(758339),a=i(144326),l=i(240760),s=i(796042),c=i(770443);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var u={view_type:703,view_parameter:4095};t.Z=function(e){var t,i=e.email,u=e.errorMessage,_=e.isLoading,f=e.onDismiss,m=e.onSendNewCode,h=e.onVerify,p=(0,a.ZP)(),g=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(""))||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,l=[],s=!0,c=!1;try{for(o=(i=i.call(e)).next;!(s=(n=o.call(i)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return d(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=g[0],y=g[1],v=function(){h(b)};return(0,c.jsxs)(o.ZP,{accessibilityModalLabel:p._('Email verification code', 'profile.Settings.OneTimePasscode.Verification.AccessibilityLabel', 'Accessiblility label for modal used to enter email verification code'),footer:(0,c.jsx)(r.xu,{padding:4,children:(0,c.jsx)(r.kC,{justifyContent:"end",children:(0,c.jsx)(r.zx,{accessibilityLabel:6!==b.length||_?p._('Send verification code disabled', 'profile.Settings.OneTimePasscode.Verification.EnterAccessibilityLabelDisabled', 'Button to enter verification code disabled'):p._('Send verification code', 'profile.Settings.OneTimePasscode.Verification.EnterAccessibilityLabel', 'Button to enter verification code'),color:"red",disabled:6!==b.length||_,onClick:v,text:p._('Enter', 'profile.Settings.OneTimePasscode.Verification.Enter', 'Button to enter verification code')})})}),heading:(0,c.jsx)(r.xu,{padding:4,children:(0,c.jsxs)(r.kC,{justifyContent:"between",children:[(0,c.jsxs)(r.X6,{accessibilityLevel:1,size:"500",children:[p._('Verify your email', 'profile.Settings.OneTimePasscode.Verification.Heading', 'Heading for modal used to enter verification code'),(0,c.jsx)(r.xu,{marginTop:2,children:(0,c.jsx)(r.xv,{color:"subtle",children:(0,l.nk)(p._('Enter your 6-digit email verification code sent to {{ email }}', 'profile.Settings.OneTimePasscode.Verification.Subheading', 'Subheading for modal used to enter verification code. email:User email where the OTP will be sent'),{email:i})})})]}),(0,c.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:f,size:"sm"})]})}),onDismiss:f,role:"alertdialog",size:660,type:"otp_verification",children:[_&&(0,c.jsx)(s.Z,{}),(0,c.jsxs)(r.xu,{marginTop:1,paddingX:10,children:[(0,c.jsx)("form",{onSubmit:function(e){e.preventDefault(),v()},children:(0,c.jsx)(r.Ki,{autoComplete:"off",dataTestId:"otp-input",errorMessage:u,id:"code",onChange:function(e){y(e.event.target.value)},size:"lg"})}),(0,c.jsx)(r.xu,{marginBottom:1,marginTop:4,children:(0,c.jsx)(r.xv,{children:(0,c.jsx)(r.rU,{accessibilityLabel:p._('Resend code', 'profile.Settings.OneTimePasscode.Verification.ResendAccessibilityLabel', 'Send verification code again'),display:"inline",href:"#",onClick:function(e){var t=e.event,i=e.dangerouslyDisableOnNavigation;t.preventDefault(),i(),m()},children:p._('Send new code', 'profile.Settings.OneTimePasscode.Verification.Resend', 'Send verification code again')})})})]})]})}},418410:function(e,t,i){i.r(t),i.d(t,{default:function(){return ep}});var n,r=i(282480),o=i(711284),a=i(868073),l=i(297949),s=i(252071),c=i(609326),d=i(887354),u=i(571598),_=i(797882),f=i(771385),m=i(573706),h=i(212515),p=i(858705),g=i(208121),b=i(476198),y=i(144326),v=i(240760),x=i(456082),P=i(398183),j=i(267005),S=i(297728),A=i(957486),k=i(931397),z=i(961754),w=i(398873),C=i(703333),O=i(864723),T=i(635258),M=i(791635),E=i(901450),I=i(383399),L=i(26456),B=i(625987),D=i(343931),U=i(700262),Z=i(732480),V=i(513461),R=i(989820),H=i(241716),N=i(402189),F=i(863833),X=i(770443);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,l=[],s=!0,c=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;s=!1}else for(;!(s=(n=o.call(i)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return K(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function G(e){var t=e.index,i=e.isSelected,n=e.label,o=e.onClick,a=e.url,s=e.dataTestId,c=e.anchorRef,d=e.badge,u=W((0,r.useState)(!1),2),_=u[0],f=u[1];return(0,X.jsx)(l.xu,{alignSelf:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:_?"rgba(0, 0, 0, 0.06)":void 0}},marginBottom:2,role:"listitem",rounding:2,children:(0,X.jsx)(l.Tg,{href:a,onBlur:function(){return f(!1)},onFocus:function(){return f(!0)},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onTap:o,children:(0,X.jsx)(l.xu,{ref:c,"data-group-id":"settings-menu-item","data-test-id":s,direction:"row",display:"flex",padding:2,children:(0,X.jsxs)(l.xu,{display:"inlineBlock",position:"relative",children:[(0,X.jsxs)(l.kC,{children:[(0,X.jsx)(l.xv,{color:"default",size:"300",weight:"bold",children:n}),d]}),i&&(0,X.jsx)(l.xu,{color:"selected",dangerouslySetInlineStyle:{__style:{borderRadius:5,bottom:-9}},height:3,left:!0,position:"absolute",right:!0})]})},"".concat(t,"-").concat(n))})})}function q(e){var t,i,n=e.items,o=e.activeItem,s=e.onClick,c=(0,a.TH)(),d=(0,a.k6)(),u=!c.pathname.startsWith(T.Gxc),_=W((0,r.useState)({buttonText:null,descriptionText:null,isOpen:!1}),2),f=_[0],m=_[1],h=function(){m({buttonText:null,descriptionText:null,isOpen:!1})};return(0,X.jsxs)(l.xu,{"data-test-id":"settings-menu",direction:"column",display:"flex",maxWidth:200,role:"list",children:[Object.entries(n).map(function(e,t){var i=W(e,2),n=i[0],r=i[1],a=r.badge,l=r.label,c=r.url,d=r.dataTestId,u=r.ref;return(0,X.jsx)(G,{anchorRef:u,badge:a,dataTestId:d,index:t,isSelected:o===n,label:l,onClick:function(e){return s({activeItem:n,event:e.event})},url:c},l)}),u&&(0,X.jsx)(l.mh,{zIndex:new l.Ry(H.fe-1),children:(0,X.jsx)(R.Qp,{anchor:null===(t=n.PrivacyAndData.ref)||void 0===t?void 0:t.current,experienceIds:[505283],flyoutSize:"md",idealDirection:"right",onClickComplete:function(){d.push(T.Gxc)},placementId:1000458,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"bold"})}),(0,X.jsx)(F.Z,{items:n,placementId:1000458}),(0,X.jsx)(R.a3,{eligibleIds:[506130],placementId:1000458,children:function(e){var t,i=e.complete,r=e.dismiss,o=e.experience.display_data,a=o.tooltips[0],s=o.tooltips[1];return(0,X.jsx)(l.Li,{anchor:null===(t=n.ProfileVisibility.ref)||void 0===t?void 0:t.current,idealDirection:"down",message:a.description_text,onDismiss:r,primaryAction:{onClick:function(){i(),setTimeout(function(){m({buttonText:s.complete_button_text,descriptionText:s.description_text,isOpen:!0})},500)},text:a.complete_button_text},zIndex:new l.H3([N.pS])})}}),f.isOpen&&(0,X.jsx)(l.Li,{anchor:null===(i=n.Permissions.ref)||void 0===i?void 0:i.current,idealDirection:"down",message:f.descriptionText||"",onDismiss:h,primaryAction:{onClick:h,text:f.buttonText||""},zIndex:new l.H3([N.pS])})]})}var $=i(758339),J=function(e){var t=e.email,i=e.onDismiss,n=(0,y.ZP)();return(0,X.jsx)($.ZP,{accessibilityModalLabel:n._('Email update confirmation', 'settings.PendingEmailChangeModal.AccessibilityLabel', 'Accessibility label for modal used to confirm email update'),footer:(0,X.jsx)(l.xu,{padding:4,children:(0,X.jsx)(l.kC,{justifyContent:"end",children:(0,X.jsx)(l.zx,{accessibilityLabel:n._('Close email update confirmation', 'settings.PendingEmailChangeModal.CloseAccessibilityLabel', 'Button to close email update confirmation modal'),color:"red",onClick:i,text:n._('Okay', 'settings.PendingEmailChangeModal.CloseText', 'Close button text for email update confirmation modal')})})}),heading:(0,X.jsx)(l.xu,{marginTop:4,paddingX:4,children:(0,X.jsx)(l.X6,{accessibilityLevel:1,size:"500",children:n._('You\'re almost done!', 'settings.PendingEmailChangeModal.Heading', 'Heading for modal dialog shown when user updates their email')})}),onDismiss:i,role:"alertdialog",size:660,type:"email_update_confirmation",children:(0,X.jsx)(l.xu,{marginTop:1,paddingX:10,children:(0,X.jsx)(l.xv,{children:(0,v.nk)(n._('To confirm this change, look for the link sent to {{ email }}.', 'settings.PendingEmailChangeModal.Text', 'Modal text showing email update confirmation information and new email. email:User email where the OTP will be sent'),{email:t})})})})},Y=i(327441);function Q(e){var t=e.description,i=e.title,n=e.error,r=(0,Y.d)(),o=r.alert,a=r.hideAlert;return(0,X.jsxs)(l.xu,{"data-test-id":"settings-header",children:[n,(null==o?void 0:o.message)&&(0,X.jsx)(l.xu,{marginBottom:4,children:(0,X.jsx)(l.he,{message:o.message,onDismiss:o.closable?a:void 0,primaryAction:null==o?void 0:o.primaryAction,type:(null==o?void 0:o.type)||"info"})}),(0,X.jsx)(l.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:(0,X.jsx)(l.sg,{span:12,children:(0,X.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,X.jsx)(l.xu,{tabIndex:0,children:(0,X.jsx)(l.X6,{accessibilityLevel:1,size:"500",children:i})}),(0,X.jsx)(l.xu,{marginTop:2}),(0,X.jsx)(l.xv,{overflow:"normal",size:"300",children:t})]})})})]})}var ee=i(213131),et=i(71401);function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var en=["commentSettings"],er=["video_autoplay_setting_on"];function eo(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function ea(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function el(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(i),!0).forEach(function(t){es(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ea(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function es(e,t,i){var n;return(n=function(e,t){if("object"!==ei(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==ei(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===ei(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ec(e,t,i,n,r,o,a){try{var l=e[o](a),s=l.value}catch(e){i(e);return}l.done?t(s):Promise.resolve(s).then(n,r)}function ed(e){return function(){var t=this,i=arguments;return new Promise(function(n,r){var o=e.apply(t,i);function a(e){ec(o,n,r,a,l,"next",e)}function l(e){ec(o,n,r,a,l,"throw",e)}a(void 0)})}}function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,l=[],s=!0,c=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;s=!1}else for(;!(s=(n=o.call(i)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e_(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e_(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e_(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var ef={newSaveState:null,evt:void 0,overrides:void 0,isOpen:!1,birthdate:null},em=function(){var e,t=void 0!==n?n:n=i(791816),r=eu((0,o.useMutation)(t),1)[0];return e=ed(regeneratorRuntime.mark(function e(t){var i,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.notifications_settings||{},n=[],Object.keys(i).forEach(function(e){Object.keys(i[e]).forEach(function(t){Object.keys(i[e][t]).forEach(function(r){var o=i[e][t][r],a=o.dirty,l=o.value;a&&n.push({type:e,section:t,option:r,value:l})})})}),o={updatedSettings:JSON.stringify(n)},e.next=6,new Promise(function(e,t){r({variables:el({},o),onCompleted:function(i,n){n&&t(n[0]),e(void 0)},onError:function(e){return t(e)}})});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}};function eh(e){var t,i,n,o=(0,A.Z)(e.settingsDataRef).data,k=(0,z.Z)({name:"UserResource",options:{user_id:null==o?void 0:o.id,field_set_key:"user_tax_forms",noCache:!1}}).data,D=(0,m.v)().logContextEvent,R=(0,S.F)(),H=(0,B.nf)().updateAggregatedCommentFeatures,N=R.checkExperiment,F=(0,y.ZP)(),W=(0,I.Z)(),K=W.isAuth?W.id:"",G=(0,ee.Z)({enableBizEmailValidator:!!(W.partner&&W.partner.is_linked_business),i18n:F,experimentsClient:R}),$=(0,p.Z)(),Y=(null==o?void 0:o.email)||"",ei=(null==k?void 0:k.has_tax_forms)||!1,ea=(0,Z.t)(),ec=(0,r.useRef)(),e_=(0,r.useRef)(),eh=(0,r.useRef)(),ep=(0,r.useRef)(),eg=(0,r.useMemo)(function(){return{EditProfile:{label:F._('Edit profile', 'userSettingsPage.editProfile.label', 'menu item for edit profile'),toastLabel:F._('Profile', 'toast label for profile', 'toast label for profile'),url:T.bic,dataTestId:"settings-menu-item-public-profile"},AccountSettings:{label:F._('Account management', 'userSettingsPage.accountManagement.label', 'menu item for account management'),toastLabel:F._('Account management', 'userSettingsPage.accountManagement.toastLabel', 'toast label for account management'),url:T.iDH,dataTestId:"settings-menu-item-account-settings",ref:eh,badge:ea.isFbAuthOnlyUser&&N("dweb_password_set_persistent_banner_v2").anyEnabled?(0,X.jsx)(l.xu,{marginStart:2,children:(0,X.jsx)(l.kC,{direction:"column",height:"100%",justifyContent:"center",children:(0,X.jsx)(M.Z,{height:8,width:8})})}):void 0},ProfileVisibility:{label:F._('Profile visibility', 'userSettingsPage.MenuList.MenuItem.ProfileVisibility', 'menu item for Profile visibility'),toastLabel:F._('Profile visibility', 'userSettingsPage.MenuList.MenuItem.ProfileVisibility.toastLabel', 'toast label for Profile visibility'),url:T.BDV,dataTestId:"settings-menu-item-profile-visibility",ref:e_},HomeFeedTuner:{label:F._('Tune your home feed', 'userSettingsPage.MenuList.MenuItem.HomeFeedTuner', 'menu item for home feed tuner'),toastLabel:"",url:T.F_W,dataTestId:"settings-menu-item-homefeed-tuner"},Claim:{label:F._('Claimed accounts', 'userSettingsPage.claimedAccounts.label', 'Menu item label on settings page for claimed accounts'),toastLabel:F._('Claim accounts', 'userSettingsPage.claimedAccounts.toastLabel', 'toast label for claim accounts settings'),url:T.ire,dataTestId:"settings-menu-item-claim"},BulkCreatePins:{label:F._('Bulk create Pins', 'Menu item label on profile page for bulk importing', 'Menu item label on profile page for bulk importing'),toastLabel:F._('Bulk create Pins', 'toast label for bulk importing', 'toast label for bulk importing'),url:T.y6A,dataTestId:"settings-menu-item-bulk-create-pins"},Permissions:{label:F._('Social permissions', 'userSettingsPage.socialPermissions.label', 'menu item for Social permissions'),toastLabel:F._('Social permissions', 'userSettingsPage.socialPermissions.toastLabel', 'toast label for Social permissions'),url:T.D$l,dataTestId:"settings-menu-item-permissions",ref:ep},Notifications:{label:F._('Notifications', 'menu item for notifications', 'menu item for notifications'),toastLabel:F._('Notifications', 'toast label for Notifications', 'toast label for Notifications'),url:T.F3K,dataTestId:"settings-menu-item-notifications"},PrivacyAndData:{label:F._('Privacy and data', 'menu item for privacy and data', 'menu item for privacy and data'),toastLabel:F._('Privacy and data', 'toast label for Privacy & data', 'toast label for Privacy & data'),url:T.Gxc,dataTestId:"settings-menu-item-privacy",ref:ec},Security:{label:F._('Security', 'userSettingsPage.securityAndLogins.labelV2', 'menu item for security'),toastLabel:"",url:T.AXR,dataTestId:"settings-menu-item-security",badge:ea.isFbAuthOnlyUser&&N("dweb_google_connect_persistent_banner_v2").anyEnabled?(0,X.jsx)(l.xu,{marginStart:2,children:(0,X.jsx)(l.kC,{direction:"column",height:"100%",justifyContent:"center",children:(0,X.jsx)(M.Z,{height:8,width:8})})}):void 0},BrandedContent:{label:F._('Branded Content', 'userSettingsPage.brandedContent.label', 'menu item for branded content opt in'),toastLabel:F._('Branded Content', 'userSettingsPage.brandedContent.toastLabel', 'toast label for branded content opt in'),url:T.O8y,dataTestId:"settings-menu-item-branded-content"},TaxDocuments:{label:F._('Tax documents', 'userSettingsPage.taxDocuments.label', 'menu item for tax documents page'),toastLabel:F._('Tax documents', 'userSettingsPage.taxDocuments.toastLabel', 'toast label for tax documents page'),url:T.jKk,dataTestId:"settings-menu-item-tax-document"}}},[N,ea.isFbAuthOnlyUser,F]),eb=(0,E.F9)().showToast,ey=(0,a.k6)(),ev=(0,r.useRef)(),ex=eu((0,r.useState)(null),2),eP=ex[0],ej=ex[1],eS=eu((0,r.useState)(!1),2),eA=eS[0],ek=eS[1],ez=eu((0,r.useState)(ef),2),ew=ez[0],eC=ez[1],eO=eu((0,r.useState)(!1),2),eT=eO[0],eM=eO[1],eE=eu((0,r.useState)(!1),2),eI=eE[0],eL=eE[1],eB=eu((0,r.useState)(null),2),eD=eB[0],eU=eB[1],eZ=(0,P.J)(),eV=eZ.isModalOpen,eR=eZ.setErrorMessage,eH=eZ.setModalPropsAndOpen,eN=eZ.closeModal,eF=em(),eX=(0,r.useRef)();eX.current=eV;var eW=eu((0,r.useState)({newSaveState:null,oneTimePasscodeVerificationModalShown:!1,isLoading:!1}),2),eK=eW[0],eG=eW[1],eq=eu((0,r.useState)(e.activeItem),2),e$=eq[0],eJ=eq[1],eY=(0,g.y9)().showEmailVerificationReminderModal,eQ=W.isAuth?W:{},e0=eQ.isPartner,e1=eQ.isAnyWebsiteVerified,e2=!!(null==o?void 0:o.video_upload_allowed),e8=W.isAuth;(0,r.useEffect)(function(){return function(){ev.current&&clearTimeout(ev.current)}},[ev]);var e4=(0,r.useCallback)(function(){window.location.reload()},[]),e3=(0,r.useCallback)(function(){D({event_type:101,view_parameter:4097,element:16036}),e4()},[D,e4]),e7=(0,r.useCallback)(function(e,t){var i;if(Object.keys(G).includes(e)){var n=G[e],r=(0,L.FU)(n,t);i=es({},"".concat(e,"Errors"),r)}return el(es({},e,t),i)},[G]),e6=(0,r.useCallback)(function(e){return eb(function(t){var i=t.hideToast,n="sent"===e?F._('Sent! Check your email.', 'userSettingsPage.sentNewOtp', 'Toast displayed after requesting a new One Time Passcode'):F._('Your email has been updated', 'userSettingsPage.emailUpdatedToast', 'Toast message for when email is updated');return(0,X.jsx)(l.xu,{"data-test-id":"save-settings-toast",children:(0,X.jsx)(b.ZP,{onHide:i,text:n})})})},[F,eb]),e5=(0,r.useCallback)((t=ed(regeneratorRuntime.mark(function e(t){var i,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.payload,n=t.passcode,r=t.passcodeSkipAcknowledged,!i){e.next=4;break}return e.next=4,H({userId:K,featureMap:i,passcode:n,userConfirmPasscode:r});case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[H,K]),e9=(0,r.useCallback)(function(e){var t=e.reason,i=e.forcePassCodeModal,n=e.handleSave,r=e.newSaveStateCopy;switch(t.api_error_code){case j.H9:eY();break;case j.RR:eR(t.message);break;case j.mX:eH({handlePasscodeSent:function(e){n(el(el({},r),{},{passcode:e}))},requiresUnidirectionalPasscode:!1}),ej(null);break;case j.q6:eH({handlePasscodeSent:function(e){n(el(el({},r),{},{passcode:i?e:void 0,user_confirm_skip_passcode:!i||void 0}))},requiresUnidirectionalPasscode:!i});break;case j.E:eC(ef),eU(t.message);break;case j.O:ew.isOpen&&eC(ef),eL(!0);break;case j.Jw:eC(ef),eM(!0);break;case j.Z5:ej({message:(0,v.nk)(F._('Make sure your birthdate matches the info you used during age verification. For additional help, contact our {{ supportTeamUrl }}', 'existingUser.birthdaycollection.error.wrongage', 'Error message shown when the user adds an age that doesnt adhere to the age provided by the age verification vendor. supportTeamUrl:Hyperlink to support team page'),{supportTeamUrl:(0,X.jsx)(l.xv,{color:"error",inline:!0,underline:!0,children:(0,X.jsx)(l.rU,{display:"inline",href:T.cPf,target:"blank",underline:"always",children:F._('support team', 'existingUser.birthdaycollection.error.wrongage.support-team_url', 'Support team hyperlink')},"supportTeamUrl")})})});break;case j.y$:if(eK.oneTimePasscodeVerificationModalShown){e6("sent");return}eX.current&&eN(),D(el(el({},U._),{},{event_type:13,aux_data:{recipient:r.email}})),eG(function(e){return el(el({},e),{},{oneTimePasscodeVerificationModalShown:!0,newSaveState:r})});break;case j.O$:case j.hi:case j.wf:D(el(el({},U._),{},{event_type:16285,aux_data:{recipient:r.email,status_code:t.httpStatus,api_error_code:t.api_error_code}})),eG(function(e){return el(el({},e),{},{errorMessage:t.message})});break;default:ej(t)}},[eY,eR,eH,ew.isOpen,F,e6,eK.oneTimePasscodeVerificationModalShown,eN,D]),te=(0,r.useCallback)((i=ed(regeneratorRuntime.mark(function e(t,i,n){var r,o,a,d,u,_,m,h,p,g,y,P,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(r=null,o=t.commentSettings,a=eo(t,en),!o){e.next=13;break}return e.prev=5,e.next=8,e5({payload:null==t?void 0:t.commentSettings,passcode:null==t?void 0:t.passcode,passcodeSkipAcknowledged:null!=t&&t.passcode?void 0:null==t?void 0:t.user_confirm_skip_passcode});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),r=e.t0;case 13:if(t&&void 0!==t.video_autoplay_setting_on&&(O.ZP.setItem(c._e,t.video_autoplay_setting_on?1:0),D({event_type:101,aux_data:{desktop_video_autoplay_setting_on:String(t.video_autoplay_setting_on||!1)}})),(d=t||{}).video_autoplay_setting_on,u=eo(d,er),Object.keys(a).length){e.next=18;break}return r&&e9({forcePassCodeModal:!1,reason:r,handleSave:te,newSaveStateCopy:u}),e.abrupt("return");case 18:if(!(t&&t.birthday&&t.birthday instanceof Date)){e.next=29;break}if(_=t.birthday,m=(0,f.IA)(_.toString()),h=W.country,p=(0,f.yo)({country:h}),!(!(0,f.Cd)(m,p)&&!t.birthdayConfirmed)){e.next=26;break}return eC({newSaveState:t,evt:i,overrides:n,isOpen:!0,birthdate:_.toString()}),e.abrupt("return");case 26:eD&&eU(null),u.birthdate=m,delete u.birthday;case 29:t&&t.notificationsSettingsUpdated&&(g={notifications_settings:t.notifications_settings},N("graphql_migration_notifications_settings").anyEnabled?eF(g):s.Z.create("NotificationSettingsResource",g).callUpdate()),y=x.i.some(function(e){return t&&e in t}),!t||!y||"user_confirm_skip_passcode"in t||(t.user_confirm_skip_passcode=!1),P=el(el({},u),t&&"user_confirm_skip_passcode"in t&&{user_confirm_skip_passcode:t.user_confirm_skip_passcode}),S=s.Z.create("UserSettingsResource",el(el({},P),{},{surface_tag:C.i.SETTINGS})),eK.oneTimePasscodeVerificationModalShown&&eG(function(e){return el(el({},e),{},{isLoading:!0})}),S.callUpdate({showError:!1}).then(function(e){return u&&(u.locale||u.country)?(0,w.Z)("settings").then(function(){return Promise.resolve(e)}):Promise.resolve(e)}).then(function(e){eX.current&&eN(!0);var t="";switch(e$){case"AccountSettings":t=F._('Account management settings saved!', 'userSettingsPage.accountManagementSettingsToast', 'Toast message for when account management settings are saved');break;case"Notifications":t=F._('Notifications updated!', 'userSettingsPage.notificationsToast', 'Toast message for when notifications are saved');break;default:t=(0,v.nk)(F._('{{section}} saved!', ' - ', ' -- '),{section:eg[e$].toastLabel}).join("")}if(eb(function(e){var i=e.hideToast;return(0,X.jsx)(l.xu,{"data-test-id":"save-settings-toast",children:(0,X.jsx)(b.ZP,{onHide:i,text:t})})}),!e.resource_response.error){var i=e.resource_response.data;i.email_changing_to&&i.email_changing_to!==Y?(ek(!0),D(el(el({},U._),{},{event_type:13,view_parameter:4097}))):$&&(n&&n.navigateTo?window.location.replace(n.navigateTo):ev.current=setTimeout(e4,1500)),eK.oneTimePasscodeVerificationModalShown&&(D(el(el({},U._),{},{event_type:16284,aux_data:{recipient:u.email}})),eG(function(e){return el(el({},e),{},{oneTimePasscodeVerificationModalShown:!1})}),e6("success"))}r&&e9({forcePassCodeModal:!1,reason:r,handleSave:te,newSaveStateCopy:u})}).catch(function(e){var t=r;e9({forcePassCodeModal:(null==t?void 0:t.api_error_code)===j.mX,reason:e,handleSave:te,newSaveStateCopy:u})}).finally(function(){eG(function(e){return el(el({},e),{},{isLoading:!1})})});case 36:case"end":return e.stop()}},e,null,[[5,10]])})),function(e,t,n){return i.apply(this,arguments)}),[e5,e9,e$,eD,eN,F,$,D,eg,eb,e6,Y,W,eF,N,eK,e4]),tt=(0,r.useMemo)(function(){return{getNewFieldSets:e7,handleSave:te,birthdateFieldErrorMessage:eD,emailUpdateWithOtp:eK,setEmailUpdateWithOtp:eG}},[e7,te,eD,eK]);return(0,X.jsx)(h.Z,{log:{view_parameter:e.viewParameter,view_type:e.viewType},children:(0,X.jsxs)(l.xu,{direction:"row",display:"flex",justifyContent:"start",marginTop:5,children:[(0,X.jsxs)(l.xu,{children:[eP?(0,X.jsx)(V.Z,{error:eP,onHide:function(){ej(null)}}):null,eA?(0,X.jsx)(J,{email:Y,onDismiss:e3}):null,eI?(0,X.jsx)(_.Z,{closeModal:function(){return eL(!1)},userEmail:Y}):null,ew.isOpen?(0,X.jsx)(d.Z,{birthdate:ew.birthdate,closeModal:function(){eC(ef)},onConfirm:function(){te(el(el({},ew.newSaveState),{},{birthdayConfirmed:!0}),ew.evt,ew.overrides)}}):null,eT?(0,X.jsx)(u.Z,{}):null]}),(0,X.jsx)(l.xu,{column:12,mdColumn:12,children:(0,X.jsxs)(l.xu,{"data-test-id":"accountSettingsContainer",direction:"column",display:"flex",marginBottom:5,marginTop:5,mdDirection:"row",paddingX:5,children:[(0,X.jsx)(l.xu,{column:12,mdColumn:3,children:(0,X.jsx)(q,{activeItem:e$,items:(n=e2||!!(e0&&e1),Object.keys(eg).filter(function(e){return(n||"BulkCreatePins"!==e)&&(e8||"BrandedContent"!==e)}).filter(function(e){return ei||"TaxDocuments"!==e}).reduce(function(e,t){return e[t]=eg[t],e},{})),onClick:function(e){var t=e.activeItem;e.event.preventDefault(),eJ(t),eg[t]&&ey.replace(eg[t].url)}})}),(0,X.jsxs)(l.xu,{column:12,marginTop:5,maxWidth:488,mdColumn:9,mdMarginTop:0,mdPadding:0,padding:2,children:[(0,X.jsx)(Q,{description:e.settingsHeaderDescription||"",error:e.settingsError||null,title:eg[e$].label}),(0,X.jsx)(et.j,{value:tt,children:e.children}),(0,X.jsx)(l.xu,{height:80})]})]})})]})})}function ep(e){var t=(0,k.Z)({name:"UserSettingsResource"});return(0,X.jsx)(r.Suspense,{fallback:(0,X.jsx)(D.Z,{}),children:(0,X.jsx)(eh,el(el({},e),{},{settingsDataRef:t}))})}},71401:function(e,t,i){i.d(t,{j:function(){return r},u:function(){return o}});var n=(0,i(498490).Z)("UserSettingsPageContext"),r=n.Provider,o=n.useHook},513461:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(297949),r=i(758339),o=i(144326),a=i(770443);function l(e){var t=e.error,i=e.onHide,l=(0,o.ZP)(),s=l._('Oops!', ' - ', ' -- ');return(0,a.jsx)(r.ZP,{accessibilityModalLabel:s,footer:(0,a.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,a.jsx)(n.zx,{color:"red",onClick:i,size:"lg",text:l._('Okay', ' - ', ' -- ')})}),heading:s,onDismiss:i,role:"alertdialog",size:"sm",children:(0,a.jsx)(n.xu,{paddingX:8,children:(0,a.jsx)(n.xv,{align:"center",children:t.message})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/18410-8abdea0eb88aac65.js.map