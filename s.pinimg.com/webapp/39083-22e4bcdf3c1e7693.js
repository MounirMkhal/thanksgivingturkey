"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39083],{139083:function(e,t,r){r.d(t,{c:function(){return ew},Z:function(){return eA}});var n=r(282480),o=r(545007),i=r(868073),a=r(297949),s=r(771385),l=r(393443),c=r(144326),u=r(297728),d=r(871227),p=r(770443);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=function(){return Promise.resolve()};function m(e){var t=e.errorMessage,r=e.value,o=e.useNewFormat,i=e.isInRevampPageExp,h=void 0!==i&&i,m=e.setValidState,b=e.setBirthday,g=void 0===b?function(){}:b,y=(0,c.ZP)(),v=(0,(0,u.F)().checkExperiment)("adv_growth_biz_signup_birthday_new_copy").anyEnabled,S=y._('To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won\'t share this information without your permission and it won\'t be visible on your profile.', 'businessAccountCreate.birthdate.label.tooltip.description', 'Tooltip explaining why we require birthdate'),w=y._('As the person creating the business account, please provide your birthdate. This info is used to provide a better, safer experience for the younger people in our community and will not be publicly displayed.', 'businessAccountCreate.birthdate.label.tooltip.newDescription', 'Revised tooltip explaining why we require birthdate'),A=_((0,n.useState)(null),2),x=A[0],C=A[1],P=_((0,n.useState)(null),2),E=P[0],k=P[1],O=function(e){var t=e.toString();e&&!(0,s.M5)(t)?C(y._('The birthdate you entered may have an error. Please try again.', 'settings.birthdate.errors.minMaxAge', 'Error message to be displayed when the user input a age <5 or >120')):x&&C(null),k(e),g((0,s.IA)(t))};return(0,p.jsxs)(a.xu,{"data-test-id":"business-birthdate",paddingY:h?4:1,position:"relative",zIndex:new a.Ry(2),children:[(0,p.jsxs)(a.xu,{alignItems:"center",display:"flex",marginBottom:h?4:0,children:[(0,p.jsx)(a.xu,{marginBottom:h?0:1,marginEnd:2,marginStart:2,children:(0,p.jsx)(a.__,{htmlFor:"birthdate",children:(0,p.jsx)(a.xv,{size:h?"300":"200",children:y._('Birthdate', 'businessAccountCreate.birthdate.label', 'Label for Birthdate field')})})}),(0,p.jsx)(a.u,{idealDirection:"right",text:v?w:S,zIndex:new a.Ry(1e4),children:(0,p.jsx)(a.JO,{accessibilityLabel:y._('Tooltip', 'businessAccountCreate.birthdate.label.tooltip.icon', 'accessibility tooltip for birthdate'),icon:"info-circle"})})]}),(0,p.jsx)(a.xu,{"data-test-id":"signup-birthdate-field",children:void 0!==o&&o&&!h?(0,p.jsx)(d.Z,{birthday:r,handleChangeBirthday:f,setBirthday:g,setValidState:void 0===m?function(){}:m}):(0,p.jsx)(l.Mt,{errorMessage:t||x||"",id:"birthdate",idealDirection:"down",maxDate:new Date,name:"birthdate",onChange:function(e){return O(e.value||new Date)},placeholder:y._('MM/DD/YYYY', 'businessAccountCreate.birthdate.placeholder', 'Placeholder for the birthdate field'),selectLists:["year","month"],value:E})})]})}var b=r(449112),g=r(899991),y=r(837441),v=r(323304),S=r(138670),w=r(242994),A=r(684107),x=r(573706),C=r(477058),P=r(914896),E=r(790014),k=r(705492),O=r(955937),D=r(28352),I=r(200976),j=r(240582),T=r(531711),z=r(395225),R=r(993640),L=r(617332),B=r(194093),N=r(400416),U=r(476198),M=r(240760),V=r(644182),F=r(267005),Z=r(988700),Y=r(371041),G=r(621604),q=r(730212),K=r(66401),W=r(635258),Q=r(1006),H=r(901450),$=r(868808),J=r(907511),X=r(411399),ee=r(383399),et=r(26456),er=r(415787);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ei(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function ea(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ei(i,n,o,a,s,"next",e)}function s(e){ei(i,n,o,a,s,"throw",e)}a(void 0)})}}function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach(function(t){ep(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ec(e,t){return(ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eu(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ep(e,t,r){return(t=e_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_(e){var t=function(e,t){if("object"!==en(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==en(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===en(t)?t:String(t)}var eh=W.R_9,ef=W.V$B,em=W.cvl,eb=(0,y.$)("create_business_account_singlestep."),eg=function(e){return eb("".concat(e,"FieldFocused"))},ey=[F.bd,F.Jt],ev=["6e9dfd","carousel_onboarding"],eS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}(i,e);var t,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ed(i);return e=t?Reflect.construct(r,arguments,ed(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,r,n,a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return ep(eu(e=o.call.apply(o,[this].concat(l))),"state",{clickedSubmit:!1,shouldShowConsentStep:!1,shouldShowUnderageConfirmationModal:!1,email:"",password:"",birthdayString:"",errors:{businessName:[],email:[],password:[],birthdayString:[]},underageDisabled:!1,exchangeCodeToTokenUrl:""}),ep(eu(e),"validators",{email:[(0,et.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'businessAccountCreate.email.error.required', 'Prompt user to input email when email field is empty')}),(0,et.GT)({message:e.props.i18n._('Hmm... that doesn\'t look like an email address.', 'businessAccountCreate.email.error.invalid', 'Prompt user to input a valid email')})],password:e.props.getPasswordValidationRules({}),businessName:[(0,et.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your business name.', 'businessAccountCreate.businessName.error.required', 'Prompt user to input business name when business name field is empty')})],birthdayString:[(0,et.aH)({message:e.props.i18n._('You missed a spot. Don\u2019t forget to add your birthdate.', 'businessAccountCreate.birthdate.error.required', 'Prompt user to input a valid birthdate')}),(0,et.ES)({date:new Date(new Date().getFullYear(),0,1),message:(0,s.Uy)(e.props.i18n)})]}),ep(eu(e),"setUnderageError",function(){var t=e.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'businessAccountCreate.age.error.underage', 'Error message for underage users');e.setState(function(e){return{errors:el(el({},e.errors),{},{birthdayString:[t]}),underageDisabled:!0}})}),ep(eu(e),"getLoginUrl",function(){var t=e.props.location.search;if(t&&"next"in(0,$.mB)(t))return(0,J.Z)("/business/login",{next:(0,$.mB)(t).next});var r=e.inAdCreditsCampaign()?(0,$.ru)("/business/create/",{utm_medium:"adcredits"}):"/business/create/";return(0,J.Z)("/business/login",{next:r})}),ep(eu(e),"handleFieldChange",function(t,r){var n;n=r.nativeEvent?r.nativeEvent.target.value:r.value?r.value:r,e.setState(ep({},t,n)),"email"===t&&e.debouncedCheckIfSsoUser(),e.state.clickedSubmit&&e.validateField(t,n)}),ep(eu(e),"checkIfSsoUser",ea(regeneratorRuntime.mark(function t(){var r,n,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props.verifySsoUser,i=e.state.email,t.next=4,o(null!=i?i:"");case 4:a=t.sent,e.setState({exchangeCodeToTokenUrl:null!==(r=a.exchangeCodeToTokenUrl)&&void 0!==r?r:"",isSsoEmail:a.isSso,existingUserSso:!!a.existingUser,existingUserIsSso:!!a.existingUserIsSso,ssoAuthorizationUri:null!==(n=a.authorizationUri)&&void 0!==n?n:""});case 6:case"end":return t.stop()}},t)}))),ep(eu(e),"debouncedCheckIfSsoUser",(0,O.Z)(ea(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,et.Ks)(e.validators.email,e.state.email);case 2:0===t.sent.length?e.checkIfSsoUser():e.state.isSsoEmail&&e.setState({isSsoEmail:!1});case 4:case"end":return t.stop()}},t)})),300)),ep(eu(e),"validateField",(0,O.Z)(function(t,r){var n=e.validators[t];(0,et.Ks)(n,r).then(function(r){e.setState(function(e){return{errors:el(el({},e.errors),{},ep({},t,r))}})})},y.w)),ep(eu(e),"hasValidationErrors",(t=ea(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,et.Ks)(e.validators[r],e.state[r]);case 2:if(!((n=t.sent).length>0)){t.next=8;break}return e.setState(function(e){return{errors:el(el({},e.errors),{},ep({},r,n))}}),t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)})),ep(eu(e),"validateForm",ea(regeneratorRuntime.mark(function t(){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.hasValidationErrors("birthdayString");case 2:return r=t.sent,t.next=5,e.hasValidationErrors("email");case 5:return n=t.sent,t.next=8,e.hasValidationErrors("password");case 8:return o=t.sent,t.abrupt("return",!(n||o||r));case 10:case"end":return t.stop()}},t)}))),ep(eu(e),"checkEmailValidation",(r=ea(regeneratorRuntime.mark(function t(r){var n,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(n=e.props).i18n,i=n.showToast,!((0,L.Z)(r)||(0,L.z)(r,"yahoo")||(0,L.z)(r,"hotmail"))){t.next=3;break}return t.abrupt("return",o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation'));case 3:return t.prev=3,t.next=6,(0,N.Z)({url:"/v3/email/validation/",data:{email:r}});case 6:if((a=(t.sent.resource_response||{}).data)&&a.is_valid){t.next=11;break}return t.abrupt("return",o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation'));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),t.t0 instanceof Error&&("message"in t.t0?i(function(e){var r=e.hideToast;return(0,p.jsx)(U.ZP,{duration:3e3,onHide:r,text:t.t0.message,type:"error"})}):"api_error_code"in t.t0&&(0,Q.My)("register.email.error.ERROR".concat((null===t.t0||void 0===t.t0?void 0:t.t0.api_error_code)||0)));case 16:return t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,null,[[3,13]])})),function(e){return r.apply(this,arguments)})),ep(eu(e),"handleFormSubmission",(n=ea(regeneratorRuntime.mark(function t(r){var n,o,i,a,s,l,c,u,d,p,_,h,f,m,g,y,v,x,C,O,D,I,j,T,z,R,L,U,M;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&r.preventDefault&&r.preventDefault(),eb("submit_clicked"),o=(n=e.state).email,i=n.password,a=n.birthdayString,l=(s=e.props).authenticateWithSso,c=s.i18n,u=s.unifiedSignup,d=s.location.search,p=s.requestContext,_=s.viewer,h=s.logContextEvent,f=s.pixelBlocked,m=s.register,g=s.recaptchaV3Token,y=s.setIsSumittingForm,v=s.setIsUnderageConfirmationModalVisible,x=s.history,y(!0),O=(C=e.state).isSsoEmail,D=C.exchangeCodeToTokenUrl,I=C.existingUserSso,j=C.existingUserIsSso,T=C.ssoAuthorizationUri,!O){t.next=16;break}if(I){t.next=12;break}return(0,Z.i)(o,x),t.abrupt("return");case 12:if(!j){t.next=16;break}return h({event_type:102,component:13097,element:14367}),l({callbacks:{success:function(t){var r=t.authCode,n=e.props,i=n.login,a=n.pageContext,s=n.recaptchaV3Token;o&&r&&i({creds:{sso_user_email:o,sso_auth_code:r},loggingOptions:{loggingData:{page:null==a?void 0:a.pageType},loginAttemptContextEvent:{event_type:7534,view_type:156,view_parameter:3129}},recaptchaV3Token:s||"default"}).then(function(){var e=(0,$.mB)(d)||{},t=e&&"next"in e?e.next:null;(0,b.Z)((0,J.Z)("/",{next:null!=t?t:""}))},function(t){e.props.refreshRecaptchaV3Token&&e.props.refreshRecaptchaV3Token(),(0,Q.My)("unauth.login.sso.loginError.business.create",{code:t.api_error_code,message:t.message}),e.setState(function(e){return{errors:el(el({},e.errors),{},{email:[c._('Sorry! Something went wrong on our end.', 'emailPasswordStep.errorMessage.sso.login', 'error message for SSO login')]})}}),y(!1)})},error:function(t){(0,Q.My)("unauth.login.sso.error.business.create",{code:t.api_error_code,message:t.message}),e.setState(function(e){return{errors:el(el({},e.errors),{},{email:[c._('Sorry! Something went wrong on our end.', 'emailPasswordStep.errorMessage.sso.login', 'error message for SSO login')]})}}),y(!1)}},exchangeCodeToTokenUrl:D,isLogin:!0,modalUrl:null!=T?T:""}),t.abrupt("return");case 16:return z=(0,$.mB)(d)||{},R=o.split("@")[0],t.next=20,e.validateForm();case 20:if(L=t.sent,e.setState({clickedSubmit:!0}),h({event_type:101,component:13097,element:10283,aux_data:{successful_frontend_validation:L,in_unified_modal:u}}),"1"!==P.U2(E.It)){t.next=27;break}return e.setUnderageError(),y(!1),t.abrupt("return");case 27:if(U=a?(0,k.Z)(a):void 0,!(!L||void 0===U)){t.next=31;break}return y(!1),t.abrupt("return");case 31:if(!(e.props.isConsentStepNeeded&&!e.state.shouldShowConsentStep)){t.next=36;break}return y(!1),e.props.setIsConsentStepVisible&&e.props.setIsConsentStepVisible(!0),e.setState({shouldShowConsentStep:!0}),t.abrupt("return");case 36:M=U,(0,N.Z)({url:"/v3/register/exists/",data:{email:o}}).then(function(){var t=ea(regeneratorRuntime.mark(function t(r){var n,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.resource_response.data){t.next=6;break}e.props.setIsConsentStepVisible&&e.props.setIsConsentStepVisible(!1),e.setState(function(e){return{errors:el(el({},e.errors),{},{email:[c._('Deja vu! That email\'s taken.', 'businessAccountCreate.email.error.taken', 'User entered an email that is already taken')]}),shouldShowConsentStep:!1}}),y(!1),t.next=19;break;case 6:return t.next=8,e.checkEmailValidation(o);case 8:if(!(n=t.sent)){t.next=14;break}return y(!1),e.setState(function(e){return{errors:el(el({},e.errors),{},{email:[n]}),shouldShowConsentStep:!1}}),e.props.setIsConsentStepVisible&&e.props.setIsConsentStepVisible(!1),t.abrupt("return");case 14:a="utm_source"in z&&"shopify"===z.utm_source,(0,S.Z)("client.partner.account.create_attempt",{source:{utmPartner:z.utm_partner,utmSource:z.utm_source,utmMedium:z.utm_medium},isAuth:!1,unifiedSignup:u,country:p.country}),s={},e.props.isConsentStepNeeded&&(s={kr_privacy_consent_opt_in:e.state.kr_privacy_consent_opt_in,marketing_notifs_opt_out:e.state.marketing_notifs_opt_out}),m(el({type:"email",birthday:M,business_name:R,email:o,password:i,has_ads_credits:e.inAdCreditsCampaign(),third_party_apps:a?[0]:null,utm_campaign:z.utm_campaign,recaptchaV3Token:g},s),{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:156,view_parameter:3129}}).then(function(){eb("signup_success"),(0,S.Z)("client.partner.account.create",{source:{utmPartner:z.utm_partner,utmSource:z.utm_source,utmMedium:z.utm_medium},isAuth:!1,unifiedSignup:u,country:p.country}),h({event_type:8631,view_type:7,view_parameter:3561}),ev.indexOf(z.utm_campaign)>=0&&(0,er.nP)("catalogs.carousel.merchant.create.success",{sampleRate:1,tags:{email:o}});var e=z&&"next"in z?z.next:null;_.third_party_marketing_tracking_enabled?(w.Z.reportFacebookConversion(A.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),w.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),w.Z.reportLinkedInConversion(A.Z.LINKEDIN_PARTNER_ID,A.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),w.Z.reportGoogleConversion(A.Z.GOOGLE_ADWORDS_ID,A.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,e?void 0:"/",f),e||x.push("/")):window.location.assign(e?void 0:"/"),e&&(0,b.Z)((0,J.Z)("/",{next:e}))},function(t){var r,n,o,i={errors:e.state.errors};e.props.refreshRecaptchaV3Token&&e.props.refreshRecaptchaV3Token();var a=null!==(r=(0,B.Z)(t,"api_error_code"))&&void 0!==r?r:0;[F.dj,F.tL].includes(a)?i.errors.birthdayString=[null!==(n=(0,B.Z)(t,"message"))&&void 0!==n?n:""]:a===F.tz?(P.t8(E.It,"1",(0,P.kZ)(E.It)),e.setState({shouldShowUnderageConfirmationModal:!0,shouldShowConsentStep:!1}),v(!0)):ey.includes(a)&&(i.errors.email=[null!==(o=(0,B.Z)(t,"message"))&&void 0!==o?o:""]),e.props.setIsConsentStepVisible&&e.props.setIsConsentStepVisible(!1),e.setState(el(el({},i),{},{shouldShowConsentStep:!1})),y(!1)});case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),function(){e.setState(function(e){return{errors:el(el({},e.errors),{},{email:[c._('Add a valid email', 'businessAccountCreate.email.error.invalid', 'Prompt user to input a valid email')]}),shouldShowConsentStep:!1}}),y(!1)});case 38:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)})),ep(eu(e),"handleConsentsSubmission",function(t){var r=t.kr_privacy_consent_opt_in,n=t.marketing_notifs_opt_out;e.setState({kr_privacy_consent_opt_in:r,marketing_notifs_opt_out:n},e.handleFormSubmission)}),ep(eu(e),"inAdCreditsCampaign",function(){var t=e.props.location;return(0,v.Z)(t)}),ep(eu(e),"setValidState",function(t){e.setState(function(e){return{errors:el(el({},e.errors),{},{birthdayString:[t]})}})}),ep(eu(e),"setBirthday",function(t){e.handleFieldChange("birthdayString",t)}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.logContextEvent,r=e.viewer,n=e.viewType,o=e.pixelBlocked;eb("loaded"),r.third_party_marketing_tracking_enabled&&(w.Z.insertGoogleAdWordsTag(A.Z.GOOGLE_ADWORDS_ID,o),w.Z.insertFacebookPixelTag(A.Z.FACEBOOK_ADVERTISER_ID),w.Z.insertPinterestTag(A.Z.SMB_PAID_PINTEREST_ID)),"1"===P.U2(E.It)&&this.setUnderageError(),n||t({event_type:13,view_type:156,view_parameter:3129}),t({event_type:120,component:13097,aux_data:{in_unified_modal:this.props.unifiedSignup}}),(0,er.nP)("partner.business_account_create.visit",{sampleRate:1,tags:{platform:"web"}})}},{key:"render",value:function(){var e=this,t=this.state,r=t.email,o=t.errors,i=t.password,s=t.birthdayString,l=t.shouldShowConsentStep,c=t.shouldShowUnderageConfirmationModal,u=t.isSsoEmail,d=t.existingUserSso,_=t.existingUserIsSso,h=t.underageDisabled,f=this.props,b=f.unifiedSignup,y=f.secondaryAccountFlow,v=f.isSubmittingForm,S=f.i18n,w=f.newBirthdayFormat,A=f.setIsUnderageConfirmationModalVisible,x=f.isInRevampPageExp,C=void 0!==x&&x,P=f.onRedirectToLogin,E=void 0===P?function(){}:P,k=this.inAdCreditsCampaign(),O=C?(0,p.jsxs)(a.xu,{display:"flex",paddingY:6,children:[(0,p.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n._('Already have a business account?', 'businessAccountCreate.loginLink.text', 'The text to let user login')}),(0,p.jsx)(a.xu,{marginStart:1,children:(0,p.jsx)(a.rU,{display:"inlineBlock",href:"#",onClick:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r(),E()},children:(0,p.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n._('Log in', 'businessAccountCreate.loginLink.CTA', 'The actual CTA to redirect user to login page')})},0)})]}):(0,p.jsx)(a.xu,{"data-test-id":"business-existing-account",paddingY:1,children:(0,p.jsx)(a.ZP,{fullWidth:!0,href:this.getLoginUrl(),onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},size:"md",target:"self",text:this.props.i18n._('Log into existing account', 'businessAccountCreate.logInto.button', 'Text for button where user can click to log into an exisiting account')})}),D=C?"subtle":void 0,z=(0,p.jsx)("span",{"data-test-id":"business-tos",children:(0,p.jsx)(a.xv,{color:D,inline:!0,size:"100",weight:"bold",children:(0,p.jsx)(a.rU,{display:"inlineBlock",href:ef,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:this.props.i18n._('Business Terms of Service', 'businessAccountCreate.termsOfService.link.text', 'Link to Terms of Service')},0)})},"business-tos"),R=(0,p.jsx)("span",{"data-test-id":"privacy",children:(0,p.jsx)(a.xv,{color:D,inline:!0,size:"100",weight:"bold",children:(0,p.jsx)(a.rU,{display:"inlineBlock",href:eh,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:this.props.i18n._('Privacy Policy', 'businessAccountCreate.privacyPolicy.link.text', 'Link to Pinterest Privacy Policy')},1)})},"privacy"),L=function(){var t=e.props,r=t.isFdbrTeenComplianceEnabled,n=t.i18n;return r?(0,M.nk)(n._('By continuing, you agree to Pinterest\'s {{ termsLink }} and acknowledge you\'ve read our {{ privacyLink }}. If you\'re a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{deleteYourAccount}}.', 'businessAccountCreate.termsOfService.text.floridaCompliance', 'Notice that proceeding indicates acceptance of term and policy (termsLink: link element for terms of use, privacyLink: link element for privacy policy, deleteYourAccount: delete your account link)'),{termsLink:z,privacyLink:R,deleteYourAccount:(0,p.jsx)("span",{"data-test-id":"deleteYourAccount",children:(0,p.jsx)(a.xv,{color:D,inline:!0,size:"100",weight:"bold",children:(0,p.jsx)(a.rU,{display:"inlineBlock",href:W.QA0,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:n._('delete your account', 'termOfService.link.deleteYourAccount', 'Link to delete your account')},"deleteYourAccountLink")})},"deleteYourAccount")}):(0,M.nk)(n._('By continuing, you agree to Pinterest\'s {{ termsLink }} and acknowledge you\'ve read our {{ privacyLink }}. {{ noticeAtCollection }}', 'businessAccountCreate.birthday.agreement.text', 'Notice that proceeding indicates acceptance of term and policy (termsLink: link element for terms of use, privacyLink: link element for privacy policy, noticeAtCollection: link element for notice at collection)'),{termsLink:z,privacyLink:R,noticeAtCollection:(0,p.jsx)("span",{"data-test-id":"noticeAtCollection",children:(0,p.jsx)(a.xv,{color:D,inline:!0,size:"100",weight:"bold",children:(0,p.jsx)(a.rU,{display:"inlineBlock",href:em,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:n._('Notice at collection', 'termOfService.link.noticeAtCollection', 'Link to notice at collection')},"noticeAtCollectionLink")})},"noticeAtCollection")})},B=u&&(!d||d&&_);return(0,p.jsxs)(n.Fragment,{children:[c&&(0,p.jsx)(a.mh,{children:(0,p.jsx)(a.xu,{alignItems:"center",bottom:!0,color:"transparent",display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,zIndex:new a.Ry(1e4),children:(0,p.jsx)(a.xu,{borderStyle:"shadow",color:"light",rounding:8,children:(0,p.jsx)(T.Z,{birthday:s,onEditBirthday:function(){e.setState({shouldShowUnderageConfirmationModal:!1}),A(!1)}})})})}),l?(0,p.jsx)(K.Z,{isBusiness:!0,isRegistering:v,onBackButtonClick:function(){e.setState({shouldShowConsentStep:!1}),e.props.setIsConsentStepVisible&&e.props.setIsConsentStepVisible(!1)},onSubmitHandler:this.handleConsentsSubmission,validationError:""}):(0,p.jsx)("form",{method:"POST",noValidate:!0,onSubmit:this.handleFormSubmission,children:(0,p.jsxs)(a.xu,{children:[(0,p.jsxs)(a.xu,{"data-test-id":"business-email",paddingY:C?4:1,position:"relative",zIndex:new a.Ry(2),children:[(0,p.jsx)(a.xu,{marginBottom:C?4:1,marginStart:2,children:(0,p.jsx)(a.__,{htmlFor:"email",children:(0,p.jsx)(a.xv,{size:C?"300":"200",children:S._('Email', 'businessAccountCreate.email.label', 'Label for email field')})})}),(0,p.jsx)(j.Z,{disabled:h,hasError:o.email.length>0,id:"email",name:"email",onChange:function(t){e.handleFieldChange("email",t)},onFocus:function(){return eg("email")},placeholder:this.props.i18n._('Email', 'businessAccountCreate.email.placeholder', 'Placeholder text for email field'),tooltip:o.email.length>0?o.email[0]:null,type:"email",useExperimentalTextfield:b,value:r})]}),B?null:(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(a.xu,{"data-test-id":"business-password",paddingY:C?4:1,position:"relative",zIndex:new a.Ry(2),children:[(0,p.jsx)(a.xu,{marginBottom:C?4:1,marginStart:2,children:(0,p.jsx)(a.__,{htmlFor:"password",children:(0,p.jsx)(a.xv,{size:C?"300":"200",children:S._('Password', 'businessAccountCreate.password.label', 'Label for password field')})})}),(0,p.jsx)(j.Z,{disabled:h,hasError:o.password.length>0,id:"password",name:"password",onChange:function(t){e.handleFieldChange("password",t)},onFocus:function(){return eg("password")},placeholder:b?this.props.i18n._('Create a password', 'businessAccountCreate.password.placeholder', 'Placeholder text for password field'):this.props.i18n._('Password', 'businessAccountCreate.password.placeholder', 'Placeholder text for password field'),tooltip:o.password.length>0?o.password[0]:null,type:"password",useExperimentalTextfield:b,value:i})]}),(0,p.jsx)(a.xu,{marginBottom:1,children:w?(0,p.jsx)(m,{errorMessage:o.birthdayString[0]||null,isInRevampPageExp:C,setBirthday:this.setBirthday,setValidState:this.setValidState,useNewFormat:w,value:s}):(0,p.jsx)(I.Z,{birthday:s,birthdayValidationError:o.birthdayString[0],disabled:h,onBirthdayChange:function(t){var r=t.value;e.setBirthday(r)},setBirthdayValidationError:function(t){return e.setState(function(e){return{errors:el(el({},e.errors),{},{birthdayString:[t]})}})}})})]}),(0,p.jsx)(a.xu,{"data-test-id":"business-create-account",paddingY:C?4:1,children:(0,p.jsx)(a.zx,{color:"red",disabled:v||h,fullWidth:!0,size:"md",text:B?this.props.i18n._('Continue with SSO', 'businessAccountCreate.createAccount.sso', 'Button text for continuing with SSO'):this.props.i18n._('Create account', 'businessAccountCreate.createAccount.business', 'Button text for creating a business account'),type:"submit"})}),!y&&O,(0,p.jsxs)(a.xu,{"data-test-id":"business-terms-of-service",paddingY:1,children:[C?(0,p.jsx)(a.xv,{align:"start",color:D,overflow:"normal",size:"100",children:L()}):(0,p.jsx)(a.xv,{align:k?"start":"center",overflow:"normal",size:"100",children:L()}),k&&(0,p.jsx)(a.xv,{align:"start",overflow:"normal",size:"100",children:g.Z})]})]})})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e_(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function ew(e){var t=(0,c.ZP)(),r=(0,i.TH)(),n=(0,i.k6)(),a=(0,q.B)(),s=(0,x.v)().logContextEvent,l=(0,D.B$)().register,d=(0,C.SU)().viewType,_=(0,z.Z)(),h=(0,o.I0)(),f=(0,u.F)().checkExperiment,m=f("ppm_p_gate").anyEnabled,b=f("adv_growth_biz_signup_birthday_format").anyEnabled,g=f("fdbr_teen_compliance").anyEnabled,y=f("kr_privacy_consent").anyEnabled,v=(0,R.lO)(),S=(0,G.D)(),w=S.recaptchaV3Token,A=S.refreshToken,P=(0,Y.Z)(),E=P.authenticateWithSso,k=P.verifySsoUser,O=(0,H.F9)().showToast,I=(0,X.Z)();return(0,p.jsx)(eS,el(el({},e),{},{authenticateWithSso:E,getPasswordValidationRules:I,history:n,i18n:t,isConsentStepNeeded:y,isFdbrTeenComplianceEnabled:g,location:r,logContextEvent:s,login:_,newBirthdayFormat:b,pageContext:v,pixelBlocked:m,recaptchaV3Token:w,refreshRecaptchaV3Token:A,register:l,requestContext:a,setIsUnderageConfirmationModalVisible:function(e){h({type:"SET_IS_UNDERAGE_CONFIRMATION_MODAL_VISIBLE",payload:{isUnderageConfirmationModalVisible:e}})},showToast:O,unifiedSignup:!!e.unifiedSignup,verifySsoUser:k,viewer:(0,ee.Z)(),viewType:d}))}function eA(e){var t,r=e.secondaryAccountFlow,o=e.setIsConsentStepVisible,i=e.isConsentStepVisible,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eo(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eo(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=s[0],c=s[1];return(0,p.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[l&&(0,p.jsx)(V.Z,{rounding:8}),(0,p.jsx)(a.xu,{color:i?"transparent":"default",width:i?"100%":268,children:(0,p.jsx)(ew,{isSubmittingForm:l,secondaryAccountFlow:r,setIsConsentStepVisible:o,setIsSumittingForm:c,unifiedSignup:!0})})]})}},684107:function(e,t){t.Z={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},242994:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var i=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"reportGoogleConversion",value:function(e,r,n,o){if(!o){if(void 0===window.gtag_report_conversion){t.queuedGoogleConversions.push({id:e,label:r,url:n});return}window.gtag_report_conversion(e,r,n)}}},{key:"reportFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,event:r,data:n});return}n?window.fbq("track",r,n):window.fbq("track",r)}},{key:"reportCustomFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:r,data:n});return}n?window.fbq("trackCustom",r,n):window.fbq("trackCustom",r)}},{key:"reportPinterestConversion",value:function(e,r,n){if(void 0===window.pintrk){t.queuedPinterestConversions.push({id:e,event:r,data:n});return}n?window.pintrk("track",r,n):window.pintrk("track",r)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(r,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,r){var n=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(r,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(n,"?")),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,r){var n=document.createElement("script");r||(n.setAttribute("async",""),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),n.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,r){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==r&&window.location.assign(r)}}),!1};for(var n=t.queuedGoogleConversions,o=0;o<n.length;o+=1){var i=n[o];i.id===e&&t.reportGoogleConversion(i.id,i.label,i.url,r)}}),document.body.insertBefore(n,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){var r,n,o,i,a,s,l;r=window,n=document,o="script",i="//connect.facebook.net/en_US/fbevents.js",r.fbq||(a=r.fbq=function(){var e;"function"==typeof a.callMethod?(e=a).callMethod.apply(e,arguments):a.queue.push(arguments)},r._fbq||(r._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(s=n.createElement(o)).async=!0,s.src=i,(l=n.getElementsByTagName(o)[0]).parentNode.insertBefore(s,l)),window.fbq("init",e),window.fbq("track","PageView");for(var c=t.queuedFacebookConversions,u=0;u<c.length;u+=1){var d=c[u];d.id===e&&(d.isCustomEvent?t.reportCustomFacebookConversion(e,d.event,d.data):t.reportFacebookConversion(e,d.event,d.data))}}},{key:"insertPinterestTag",value:function(e){(function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var r=document.createElement("script");r.async=!0,r.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}})("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");for(var r=t.queuedPinterestConversions,n=0;n<r.length;n+=1){var o=r[n];o.id===e&&t.reportPinterestConversion(e,o.event,o.data)}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();n(i,"queuedGoogleConversions",[]),n(i,"queuedFacebookConversions",[]),n(i,"queuedPinterestConversions",[]),t.Z=i},899991:function(e,t){t.Z="*Spend $30 in your first 7 days to receive a $20 refund on your bill. Thereâ€™s a 1 offer limit per account. New accounts only. You must be a legal resident of the 50 United States or DC, and at least 18 years old to be eligible for this offer."},837441:function(e,t,r){r.d(t,{$:function(){return i},w:function(){return o}});var n=r(415787),o=300,i=function(e){return function(t){return(0,n.nP)(e+t,{sampleRate:1})}}},323304:function(e,t,r){var n=r(868808);t.Z=function(e){return!!(e&&e.search)&&"adcredits"===(0,n.mB)(e.search).utm_medium}},138670:function(e,t,r){var n=r(415787);t.Z=function(e,t){var r,o=!!(t&&t.isAuth),i=!!(t&&t.unifiedSignup),a=t&&t.country;t&&(r=t).source&&r.source.utmPartner&&"partneracquisition"===r.source.utmPartner?(0,n.nP)(e,{sampleRate:1,tags:{app_type:"web",is_paid:!0,paid_source:t.source.utmSource,is_auth:o,unified_signup:i}}):(0,n.nP)(e,{sampleRate:1,tags:{app_type:"web",is_auth:o,unified_signup:i,country:a}})}},871227:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(282480),o=r(145478),i=r(503530),a=r(297949),s=r(771385),l=r(144326),c=r(730212),u=r(410150),d=r(26456),p=r(734325),_=r(523557),h=r(770443);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e,t,r,n){var a=(0,o.Z)(e,"yyyy-MM-dd",new Date);if(!(0,i.Z)(a)){r((0,s.Tv)(t,!0,!0,!0)),n("date error");return}if(!(0,s.Cd)(e,p.kx)){var l=(0,s.Uy)(t);r(l),n(l);return}var c=(0,d.a3)(e,[(0,d.C9)({date:new Date(new Date().getFullYear(),0,1),message:t._('Invalid date', 'signup.emailpasswordstep.birthday.validator_message', 'Error message shown when user input a birthday date later than allowed')})]);r(c),n(c)};function w(e){var t=e.disabled,r=e.handleChangeBirthday,i=e.setValidState,d=e.birthdayErrorMessage,p=e.birthday,f=e.onChange,m=e.setBirthday,v=e.hideFieldLabel,w=(0,l.ZP)(),A=(0,u.HG)(),x=p?(0,o.Z)(p,"yyyy-MM-dd",new Date):void 0,C=y((0,n.useState)({day:x?x.getDate():void 0,month:x?x.getMonth()+1:void 0,year:x?x.getFullYear():void 0}),2),P=C[0],E=C[1],k=y((0,n.useState)(!1),2),O=k[0],D=k[1],I=y((0,n.useState)(!1),2),j=I[0],T=I[1],z=y((0,n.useState)(!1),2),R=z[0],L=z[1],B=y((0,n.useState)(""),2),N=B[0],U=B[1],M=(0,c.B)().locale,V=(0,n.useCallback)(function(e){var t=e.day,n=e.month,o=e.year;if(void 0!==o&&(o<s.nN||o>s.cO)?L(!0):L(!1),void 0!==n&&(n>s.Xf||n<s.Oh)?T(!0):T(!1),void 0!==t&&(t<s.p9||t>s.G)?D(!0):D(!1),O||j||R){var a=(0,s.Tv)(w,O,j,R);m(""),r(p),U(a),i("error birthday fields")}else void 0!==n&&void 0!==o&&void 0!==t?(m(o.toString()+"-"+n.toString().padStart(2,"0")+"-"+t.toString().padStart(2,"0")),r(p),S(p,w,U,i)):(m(""),r(p),U(""))},[O,j,R,w,i,m,r,p]);(0,n.useEffect)(function(){V(P)},[P,V]);var F=function(e,t){E(b(b({},P),{},g({},e.target.name,t))),null==f||f()},Z=(0,h.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,h.jsx)(a.Ki,{disabled:t,id:"birthday-day",label:v?"":w._('Day', 'signup.birthdate.day', 'Signup birthdate textfield day label'),name:"day",onBlur:function(){return V(P)},onChange:function(e){F(e.event,e.value)},placeholder:w._('DD', 'signup.birthdate.placeholder.day', 'Signup birthdate textfield day placeholder'),value:P.day})}),Y=(0,h.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,h.jsx)(a.Ki,{disabled:t,id:"birthday-month",label:v?"":w._('Month', 'signup.birthdate.month', 'Signup birthdate textfield month label'),name:"month",onBlur:function(){return V(P)},onChange:function(e){F(e.event,e.value)},placeholder:w._('MM', 'signup.birthdate.placeholder.month', 'Signup birthdate textfield month placeholder'),value:P.month})}),G=(0,h.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,h.jsx)(a.Ki,{disabled:t,id:"birthday-year",label:v?"":w._('Year', 'signup.birthdate.year', 'Signup birthdate textfield year label'),name:"year",onBlur:function(){return V(P)},onChange:function(e){F(e.event,e.value)},placeholder:w._('YYYY', 'signup.birthdate.placeholder.year', 'Signup birthdate textfield year placeholder'),value:P.year})}),q=(0,_.Z)(M),K="YYMMDD"===q?G:"MMDDYY"===q?Y:Z,W="YYMMDD"===q?Y:"MMDDYY"===q?Z:Y,Q="YYMMDD"===q?Z:G;return(0,h.jsx)(a.xu,{display:"flex",marginEnd:A?-1:3,marginStart:A?2:3,paddingY:2,children:(0,h.jsx)(a.pg,{errorMessage:d||N,id:"birthday-input-fields",legend:w._('birthday input fields', 'birthday legend', 'Label to birthday legend'),legendDisplay:"hidden",children:(0,h.jsxs)(a.kC,{gap:4,children:[K,W,Q]})})})}},523557:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){var t=new Intl.DateTimeFormat(e).formatToParts(new Date).map(function(e){switch(e.type){case"day":return"DD";case"month":return"MM";case"year":return"YY";default:return""}}).join("");return t.startsWith("Y")?"YYMMDD":t.startsWith("M")?"MMDDYY":"DDMMYY"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/39083-22e4bcdf3c1e7693.js.map