"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4178],{504178:function(n,t,a){a.d(t,{Z:function(){return P}});var e=a(282480),r=a(498490),i=a(248750),o=a(845729),s=a(353168),p=a(69118),c=a(294726),u=a(348595),m=a(192307),d=a(920301),l=a(914495),b=a(142921),y=a(537567),f=a(399022),v=a(147921),g=a(671481);function T(n){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function A(n){return function(n){if(Array.isArray(n))return h(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||I(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(n,t){if(n){if("string"==typeof n)return h(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);if("Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a)return Array.from(n);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(n,t)}}function h(n,t){(null==t||t>n.length)&&(t=n.length);for(var a=0,e=Array(t);a<t;a++)e[a]=n[a];return e}function S(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),a.push.apply(a,e)}return a}function w(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach(function(t){N(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function N(n,t,a){var e;return(e=function(n,t){if("object"!==T(n)||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var e=a.call(n,t||"default");if("object"!==T(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(t,"string"),(t="symbol"===T(e)?e:String(e))in n)?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var C=(0,o.XV)("PwtStopwatch"),O=function(n,t){if(g.Z){if("start"===t.type&&!n.isTiming){var a=t.name,e=t.startTime,r=t.navigationType;return(0,i.A9)("TIMING.".concat(a)),{isTiming:!0,name:a,isSampled:t.isSampled,startTime:"number"==typeof e?e:g.Z.now(),metricId:{type:"stopwatch",name:a,navigationType:r},pwtStaticContext:t.pwtStaticContext,annotations:n.annotations,binaryAnnotations:n.binaryAnnotations,spans:n.spans,traceId:n.traceId,spanNameUpdates:n.spanNameUpdates}}if(!n.isTiming){if(t.bypassIsTimingCheck)C("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var o=t.name||n.name;return C("ignoring action - stopwatch is not actively timing",t),(0,i.A9)("WARN.".concat(o,".noTiming.").concat(t.type)),n}}if("annotate"===t.type){var b=g.Z.now();return C("adding annotation {".concat(t.label,": ").concat(b,"}")),w(w({},n),{},{annotations:n.annotations.concat([{label:t.label,timestamp:b}])})}if("binaryAnnotate"===t.type)return C("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),w(w({},n),{},{binaryAnnotations:w(w({},n.binaryAnnotations),N({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var f=t.binaryAnnotationValueAndType,T=f.value,I=f.type;if(!n.binaryAnnotations[t.name])return w(w({},n),{},{binaryAnnotations:w(w({},n.binaryAnnotations),N({},t.name,{value:T,type:I}))});var h=n.binaryAnnotations[t.name].value||0;return C("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(h),"\n          operand: ").concat(String(T),"\n        }")),w(w({},n),{},{binaryAnnotations:w(w({},n.binaryAnnotations),N({},t.name,{value:T?t.operation(h,T):h,type:I}))})}if("addSubspan"===t.type){C("adding subspan {".concat(t.name,"}")),-1!==n.spans.findIndex(function(n){return n.name===t.name})&&C("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var S=t.id||(0,v.Z)();-1!==n.spans.findIndex(function(n){return n.id===S})&&C("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(S,"}"));var O=0;return t.startTime?O=t.startTime:n.startTime?O=n.startTime:C("WARNING: adding subspan {".concat(t.name,"} without start time")),w(w({},n),{},{spans:[].concat(A(n.spans),[{name:t.name,id:S,startTime:O,endTime:t.endTime||1/0,annotationMap:w({},t.annotations),binaryAnnotationMap:w({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){C("starting subspan {".concat(t.name,"}")),-1!==n.spans.findIndex(function(n){return n.name===t.name})&&C("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var k,_=t.id||(0,v.Z)();-1!==n.spans.findIndex(function(n){return n.id===_})&&C("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(_,"}"));var Z=t.parentName?null===(k=n.spans.find(function(n){return n.name===t.parentName}))||void 0===k?void 0:k.id:null;return w(w({},n),{},{spans:[].concat(A(n.spans),[{name:t.name,id:_,parentId:t.parentId||Z,startTime:g.Z.now(),endTime:1/0,annotationMap:w({},t.annotations),binaryAnnotationMap:w({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){C("stopping subspan {".concat(t.name,"}")),!t.id&&n.spans.filter(function(n){return n.name===t.name}).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var P=t.id?n.spans.findIndex(function(n){return n.id===t.id}):n.spans.findIndex(function(n){return n.name===t.name});return P>-1?(n.spans[P].endTime=g.Z.now(),t.annotations&&(n.spans[P].annotationMap=w(w({},n.spans[P].annotationMap),t.annotations)),t.binaryAnnotations&&(n.spans[P].binaryAnnotationMap=w(w({},n.spans[P].binaryAnnotationMap),t.binaryAnnotations))):(0,i.H)("invalid_subspan_stop_name",{name:t.name}),n}if("subspanUpdateName"===t.type){n.spans.filter(function(n){return n.name===t.currentName}).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var R=n.spans.findIndex(function(n){return n.name===t.currentName});return R>-1?t.updateWhenStopwatchCompletes?n.spanNameUpdates=[].concat(A(n.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(C("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),n.spans[R].name=t.newName):(0,i.H)("no_subspan_found_to_rename",{name:t.currentName}),n}if("stop"===t.type&&n.isTiming){var j=n.startTime,M=n.metricId,U=n.pwtStaticContext,x=n.annotations,E=n.binaryAnnotations,W=n.isSampled,B=n.spans,D=n.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),W){var H=t.stopTime||g.Z.now(),L=A(B.map(function(t){t.endTime===1/0&&(t.endTime=H);var a=n.spanNameUpdates.findIndex(function(n){return t.name===n.currentName});return a>-1&&(C("renaming subspan {".concat(t.name,"} to {").concat(n.spanNameUpdates[a].newName,"}")),t.name=n.spanNameUpdates[a].newName,n.spanNameUpdates=n.spanNameUpdates.filter(function(n){return n.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===B.length){var G=(0,v.Z)();L.push.apply(L,[{name:"network_resources",id:G,startTime:j,endTime:H,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(A((t.customStopwatchBuffer||[]).map(function(n){return(0,l.Z)((0,m.p)(n,[]),G)}).filter(Boolean))))}var V="initial_app_load"===M.navigationType&&(0,u.Z)(),K={type:"COMPLETE",traceId:D,startTime:j,endTime:H,spans:L,annotationMap:w(w(w({},(0,y.Z)(x)),(0,p.jh)("browser_",V?(0,p.D3)(V):{})),(0,p.jh)("mark_",(0,s.gQ)())),binaryAnnotationMap:(0,c.ng)({metricId:M,pwtStaticContext:U,binaryAnnotations:E,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE"})};(0,d.Z)({metricId:M,pwtStaticContext:U,result:K})}return{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,v.Z)(),spanNameUpdates:[]}}if("error"===t.type){var Q=t.error,X=t.stopwatchPerformanceObserver;return Q&&(0,i.H)(Q),X&&X.disconnect(),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,v.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&n.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var $=t.reason||"",q=n.startTime,z=n.metricId,F=n.pwtStaticContext,J=n.binaryAnnotations,Y=n.traceId,nn={type:"ABORT",traceId:Y,startTime:q,endTime:g.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,c.ng)({metricId:z,pwtStaticContext:F,binaryAnnotations:J,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT"}),reason:$};return(0,d.Z)({metricId:z,pwtStaticContext:F,result:nn}),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:Y,spanNameUpdates:[]}}}return n},k=function(n){var t,a=n.name,r=n.sampleRate,i=n.navigationType,o=n.manualAndResourceSpans,s=void 0!==o&&o,p=(0,b.Z)(),c=(0,e.useRef)([]),u=(0,e.useRef)(null),m=function(n){if(Array.isArray(n))return n}(t=(0,e.useReducer)(O,{isTiming:!1,name:a,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,v.Z)(),spanNameUpdates:[]}))||function(n,t){var a=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=a){var e,r,i,o,s=[],p=!0,c=!1;try{for(i=(a=a.call(n)).next;!(p=(e=i.call(a)).done)&&(s.push(e.value),2!==s.length);p=!0);}catch(n){c=!0,r=n}finally{try{if(!p&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(t,2)||I(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=m[0],l=m[1];return p?{isTiming:d.isTiming,start:function(n){return window.PerformanceObserver&&(c.current=[],u.current=(0,f.Z)({entryTypes:["resource"]},function(n){c.current=c.current.concat(n.getEntries()),c.current.length>1e3&&(c.current=c.current.slice(-1e3))})),l({type:"start",startTime:n,name:a,navigationType:i,pwtStaticContext:p,isSampled:!r||Math.random()<r})},stop:function(n){return l({type:"stop",stopTime:n,stopwatchPerformanceObserver:u.current,customStopwatchBuffer:c.current,manualAndResourceSpans:s})},error:function(n){function t(t){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(n){l({type:"error",stopwatchPerformanceObserver:u.current,error:n})}),abort:function(n){return l({type:"abort",stopTime:null===g.Z||void 0===g.Z?void 0:g.Z.now(),stopwatchPerformanceObserver:u.current,customStopwatchBuffer:c.current,reason:n})},annotate:function(n,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l({type:"annotate",label:n,parentId:t,bypassIsTimingCheck:a})},binaryAnnotate:function(n,t,a,e){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return l({type:"binaryAnnotate",name:n,value:t,annotationType:a,parentId:e,bypassIsTimingCheck:r})},binaryAnnotateOperation:function(n){var t=n.name,a=n.binaryAnnotationValueAndType,e=n.operation,r=n.parentId,i=n.bypassIsTimingCheck;return l({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:a,operation:e,parentId:r,bypassIsTimingCheck:void 0!==i&&i})},addSubspan:function(n){var t=n.name,a=n.startTime,e=n.endTime,r=n.annotations,i=n.binaryAnnotations,o=n.parentId,s=n.id,p=n.bypassIsTimingCheck;return l({type:"addSubspan",name:t,startTime:a,endTime:e,annotations:void 0===r?{}:r,binaryAnnotations:void 0===i?{}:i,parentId:void 0===o?null:o,id:void 0===s?null:s,bypassIsTimingCheck:void 0!==p&&p})},subspanStart:function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.parentId,i=n.parentName,o=n.id,s=n.bypassIsTimingCheck;return l({type:"subspanStart",name:t,annotations:void 0===a?{}:a,binaryAnnotations:void 0===e?{}:e,parentId:void 0===r?null:r,parentName:void 0===i?null:i,id:void 0===o?null:o,bypassIsTimingCheck:void 0!==s&&s})},subspanStop:function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.id,i=n.parentId,o=n.bypassIsTimingCheck;return l({type:"subspanStop",name:t,annotations:a,binaryAnnotations:e,id:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},subspanUpdateName:function(n){var t=n.currentName,a=n.newName,e=n.bypassIsTimingCheck,r=n.updateWhenStopwatchCompletes;return l({type:"subspanUpdateName",currentName:t,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:void 0===r||r})},getSpans:function(n,t){return d.spans.filter(function(a){return a[n]===t})},getTraceId:function(){return d.traceId}}:null},_=a(431771),Z=a(770443),P=function(n){var t=n.name,a=n.sampleRate,o=n.abortOnUnloadOrClientNavigation,s=void 0===o||o,p=n.navigationType,c=n.manualAndResourceSpans,u=void 0!==c&&c,m=(0,r.Z)("Stopwatch_".concat(t)),d=m.Provider;return{Provider:function(n){var r=n.children,o=k({name:t,sampleRate:a,navigationType:p,manualAndResourceSpans:u}),c=(0,_.Z)(),m=c?c.time:0,l=(0,e.useRef)(!1),b=null==o?void 0:o.isTiming,y=(0,e.useCallback)(function(n){l.current?(l.current=!1,null==o||o.abort(n)):(0,i.A9)("WARN.".concat(t,".noTiming.abort"))},[o]),f=(0,e.useCallback)(function(n,t){null==o||o.annotate(n,t)},[o]),v=(0,e.useCallback)(function(n,t,a,e){null==o||o.binaryAnnotate(n,t,a,e)},[o]),g=(0,e.useCallback)(function(n){var t=n.name,a=n.binaryAnnotationValueAndType,e=n.operation,r=n.parentId,i=n.bypassIsTimingCheck;null==o||o.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:a,operation:e,parentId:r,bypassIsTimingCheck:i})},[o]),T=(0,e.useCallback)(function(n){var t=n.name,a=n.startTime,e=n.endTime,r=n.annotations,i=n.binaryAnnotations,s=n.parentId,p=n.id,c=n.bypassIsTimingCheck;null==o||o.addSubspan({name:t,startTime:a,endTime:e,annotations:r,binaryAnnotations:i,parentId:s,id:p,bypassIsTimingCheck:c})},[o]),A=(0,e.useCallback)(function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.parentId,i=n.parentName,s=n.id,p=n.bypassIsTimingCheck;null==o||o.subspanStart({name:t,annotations:a,binaryAnnotations:e,parentId:r,parentName:i,id:s,bypassIsTimingCheck:p})},[o]),I=(0,e.useCallback)(function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.id,i=n.parentId,s=n.bypassIsTimingCheck;null==o||o.subspanStop({name:t,annotations:a,binaryAnnotations:e,id:r,parentId:i,bypassIsTimingCheck:s})},[o]),h=(0,e.useCallback)(function(n){var t=n.currentName,a=n.newName,e=n.bypassIsTimingCheck,r=n.updateWhenStopwatchCompletes;null==o||o.subspanUpdateName({currentName:t,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:r})},[o]),S=(0,e.useCallback)(function(n,t){return o?o.getSpans(n,t):[]},[o]),w=(0,e.useCallback)(function(){return o?o.getTraceId():""},[o]),N=(0,e.useCallback)(function(n){l.current?(l.current=!1,null==o||o.error(n)):(0,i.A9)("WARN.".concat(t,".noTiming.error"))},[o]),C=(0,e.useCallback)(function(n){l.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),l.current=!0,null==o||o.start(n)},[o]),O=(0,e.useCallback)(function(n){l.current?(l.current=!1,null==o||o.stop(n)):(0,i.A9)("WARN.".concat(t,".noTiming.stop"))},[o]);(0,e.useEffect)(function(){return function(){s&&y("unloadOrClientNavigation")}},[m]);var P=(0,e.useMemo)(function(){return{isTiming:b,abort:y,addAnnotation:f,addBinaryAnnotation:v,binaryAnnotationOperation:g,addSubspan:T,subspanStart:A,subspanStop:I,getSpans:S,getTraceId:w,updateSubspanName:h,stop:O,error:N,start:C}},[b,y,f,v,g,T,A,I,S,w,h,O,N,C]);return(0,Z.jsx)(d,{value:P,children:r})},useHook:m.useMaybeHook}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/4178-aa83c1b4db2a516a.js.map