"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[52796],{703451:function(e,t,r){r.d(t,{Y7:function(){return s}});var n=r(144358),o=r(983542);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){var n;return(n=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){return"0".concat(e).substr(-2)},c=function(){var e=(0,n.Z)(),t=l(e.getMonth()+1),r=l(e.getDate());return"".concat(e.getFullYear(),"-").concat(t,"-").concat(r)},s=function(e,t,r){var n,i=e&&e.trim()||"",l=i?" | "+i.split(/[\s,\.]+/).slice(0,3).join(" ").substr(0,o.ac):"",s=(a(n={},o.Hl.CONSIDERATION,t._('Consideration', 'consideration.text.quick.promote', '[m10n]')),a(n,o.Hl.WEB_CONVERSION,t._('Conversion', 'conversion.text.quick.promote', '[m10n]')),a(n,o.Hl.CATALOG_SALES,t._('Catalog Sales', 'catalogSales.text.quick.promote', '[m10n] Descriptive text for catalog sales ad type')),n)[r];return"".concat(c()," | ").concat(s).concat(l)}},700378:function(e,t,r){r.d(t,{C5:function(){return a},NY:function(){return i}});var n=r(703451);r(954243);var o=r(983542),i=function(e){return e&&(e.includes(o.WF)||e.includes(o.i_)||e.includes(o.NG)||e.includes(o.Xm)||e.includes(o.qg)||e.includes(o.e_)||e.includes(o._N)||e.includes(o.QM)||e.includes(o.yG)||e.includes(o.dt))},a=function(e,t){var r=e.advertiserId,i=e.country,a=e.pin,l=e.quickPromote,c=l.data,s=l.dataReady,u=e.locale,d=e.adType,f=c||{},p=f.advertiser_id,m=10,h=o.NA,g=d||o.Hl.CONSIDERATION,_=!f.has_valid_billing_profile&&!!o.DI[i],y=f.has_valid_billing_profile&&!!o.ni[i];_&&(m=o.DI[i].budget,h=o.DI[i].duration),y&&(m=o.ni[i].budget,h=o.ni[i].duration);var v=(0,o.jY)(i)[0],b=m*o.gf,P=null==a?void 0:a.description;return{budget:m,budget_in_micro_currency:b,currency_code:v,data_ready:s,destination_url:a?a.link:"",ad_type:g,duration:h,locale:u,name:(0,n.Y7)(P,t,g),advertiser_id:r||p}}},235291:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=new(function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"instance",get:function(){return this.__storeInstance__},set:function(e){return this.__storeInstance__=e,e}},{key:"set",value:function(e){return this.instance=e,e}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(o.key),o)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}());t.Z=n},353487:function(e,t){var r=function(e){return null===e||null===e.offsetParent||"none"===getComputedStyle(e).display||"hidden"===getComputedStyle(e).visibility},n=function(){var e=window.document,t=e.createElement("div");t.innerHTML="&nbsp;",t.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner"),t.setAttribute("style","height: 10px !important; font-size: 20px; color: transparent; position: absolute; bottom: 0; left: -10000px;"),e.body.appendChild(t);var r=e.createElement("div");r.setAttribute("data-grid-item","");var n=e.createElement("div");n.setAttribute("data-test-pin-id","");var o=e.createElement("div");o.setAttribute("data-test-id","one-tap-desktop-detect");var i=e.createElement("a");return i.setAttribute("href","http://pinterest.com"),i.setAttribute("rel","nofollow"),o.appendChild(i),n.appendChild(o),r.appendChild(n),e.body.appendChild(r),{genericNode:t,pinterestNode:r}};t.Z=function(e){if("undefined"!=typeof Cypress){e(!1);return}var t=n(),o=t.genericNode,i=t.pinterestNode,a=0,l=!1,c=setInterval(function(){a+=1;var t=r(o),n=r(i);((l=t||n)||4===a)&&(clearInterval(c),o&&o.parentNode&&o.parentNode.removeChild(o),i&&i.parentNode&&i.parentNode.removeChild(i),e(l))},51)}},720508:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(162079),o=r(573706),i=r(297728),a=r(730212);function l(){var e=(0,a.B)(),t=(0,o.v)().logContextEvent,r=(0,i.F)();return function(o){return new n.ZP({config:o,logContextEvent:t,requestContext:e,experimentsClient:r})}}},50581:function(e,t){t.Z=function(e,t){var r=t.getUTCDate()-e,n=new Date(t);return n.setUTCDate(r),n}},313394:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){var t=new Date(e);return t.setUTCMilliseconds(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCHours(0),t}},686162:function(e,t){t.Z="M3 12a9 9 0 1118 0 9 9 0 01-18 0zm9 12a12 12 0 100-24 12 12 0 000 24zm1.54-17.9c0-.82-.66-1.48-1.48-1.48H12c-.85 0-1.54.7-1.54 1.55a3.74 3.74 0 00-3.08 3.61c0 2.04 1.73 3.7 3.85 3.7h1.54c.42 0 .77.33.77.74 0 .4-.35.73-.77.73h-3.9a1.48 1.48 0 000 2.96h1.6c0 .81.65 1.47 1.47 1.47H12c.85 0 1.54-.7 1.54-1.55a3.74 3.74 0 003.08-3.61c0-2.04-1.73-3.7-3.85-3.7h-1.54a.76.76 0 01-.77-.74c0-.4.35-.73.77-.73h3.9a1.48 1.48 0 100-2.96z"},734382:function(e,t){t.Z={getFormattedNumberText:function(e,t,r){var n;return r(t,e,{shortform:!0,shortform_maximum_fraction_digits:(n=e)<1e6?0:n<1e7?2:1})}}},25043:function(e,t,r){r.d(t,{MF:function(){return i},PB:function(){return a},Ul:function(){return l},XD:function(){return n}});var n={AUD:"A$",BRL:"R$",CAD:"$",CZK:"Kč",DKK:"kr",EUR:"€",GBP:"\xa3",HUF:"Ft",MXN:"$",NOK:"kr",NZD:"NZ$",RON:"lei",SEK:"kr",USD:"$",JPY:"\xa5",CHF:"₣"},o=function(e){return 1.1.toLocaleString(e).substring(1,2)},i=function(e,t){return","===o(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},a=function(e,t){return","===o(t)&&e?e.replace(",","."):e};function l(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new Intl.NumberFormat(t,{style:"currency",currency:r}).resolvedOptions(),i=o.minimumFractionDigits,a=o.maximumFractionDigits,l=void 0===i?2:i,c=void 0===a?2:a;return e.toLocaleString(t,{maximumFractionDigits:n&&c>0?3:c,minimumFractionDigits:n&&l>0?3:l})}},319505:function(e,t,r){function n(e,t){var r=e*Math.pow(10,t),n=Math.round((r-parseInt(r,10))*10)/10;return -.5===n&&(n=-.6),r=Math.round(parseInt(r,10)+n)/Math.pow(10,t)}function o(e){var t=n(parseFloat(e),2);return t?t.toFixed(2):e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=100,o=1e4;if(r){var i=new Intl.NumberFormat(void 0,{style:"currency",currency:r}).resolvedOptions().maximumFractionDigits;"number"==typeof i&&(o=1e6/(n=Math.pow(10,i)))}return t&&(n=1e3,o=1e3),Math.round(e*n)*o}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Number.isNaN(e))return 0;var r=1e6;return t&&(r=1e6),e/r}function l(e){return e?o(a(e).toString()):""}r.d(t,{$X:function(){return a},Hy:function(){return l},c3:function(){return f},cq:function(){return o},q$:function(){return n},qq:function(){return d},y:function(){return i}});var c={fractionalCentFormatData:{},formatData:{}};function s(e){return e&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?"fractionalCentFormatData":"formatData",n=c[r][e];if(!n){var o=2,i=2,a=-9999.99;t&&(o=3,i=3,a=-9999.999);var l=new Intl.NumberFormat(e,{minimumFractionDigits:o,maximumFractionDigits:i}),u=l.formatToParts(a),d=u.find(function(e){return"minusSign"===e.type}),f=u.find(function(e){return"group"===e.type}),p=u.find(function(e){return"decimal"===e.type}),m=f?f.value:"",h=s(m),g="[^0-9"+h+s(p?p.value:"")+s(d?d.value:"")+"]";n={format:l,decimal:p?p.value:null,group:m,groupRegex:RegExp(h||"","g"),cleaner:RegExp(g,"g")},c[r][e]=n}return n}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof e)return e;if("string"!=typeof e)return NaN;var n=u(t,r),o=e.replace(n.cleaner,"");return n.decimal&&(o=o.replace(n.decimal,"!_!")),n.group&&(o=o.replace(n.groupRegex,"")),parseFloat(o=o.replace("!_!","."))}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(t,r).format.format(e)}},566344:function(e,t,r){r.d(t,{AO:function(){return m},Ag:function(){return i},C0:function(){return c},L1:function(){return f},Vi:function(){return a},YD:function(){return d},kS:function(){return o},oo:function(){return l},p3:function(){return p},vC:function(){return s},vI:function(){return u}});var n=r(697254),o="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",a="www.pinterest.com",l="https://help.pinterest.com",c="".concat((0,n.Z)({site:"www"})),s=(0,n.Z)({site:"developers"}),u="".concat((0,n.Z)({site:"sterling"})),d="".concat((0,n.Z)({site:"analytics"})),f="".concat((0,n.Z)({site:"trends"})),p="".concat((0,n.Z)({site:"www",path:"/business/catalogs/?advertiserId="})),m="".concat((0,n.Z)({site:"business"}))},509642:function(e,t,r){r.d(t,{E:function(){return f}});var n,o=r(548466),i=r(431705),a=r(635258),l=r(54473),c=r(937304);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){var n;return(n=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(u(n={},"Google Tag Manager","Google Tag Manager"),u(n,"Shopify","Shopify"),u(n,"WooCommerce","WooCommerce"),u(n,"WordPress","WordPress"),u(n,"Squarespace","Squarespace"),u(n,"Weebly","Weebly"),u(n,"Tealium","Tealium"),u(n,"Magento","Magento"),u(n,"Ecwid","Ecwid"),u(n,"Bigcommerce","BigCommerce"),n),f=function(e){var t=(0,o.Z)();if(e){var r=(0,c.Z)({platform:d[e]});if("Shopify"===e)return a.x$l;if(["Google Tag Manager","WordPress"].includes(e))return null!=t&&t.advertiser?"".concat(a.X9u,"/?").concat(r):(0,l.Z)("?".concat((0,c.Z)({redirect:e})),"https:",a.KUo)}return null!=t&&t.advertiser?a.X9u:(0,l.Z)("?".concat((0,c.Z)({redirect:i.qp.PINTEREST_TAG})),"https:",a.KUo)}},697154:function(e,t,r){r(282480);var n=r(297949),o=r(144326),i=r(25280),a=r(770443);t.Z=function(e){var t=e.handleEmptyPinPreviewTouch,r=e.fullWidth,l=void 0!==r&&r,c=(0,o.ZP)();return(0,a.jsx)(n.xu,{color:"default",direction:"column",display:"flex",height:"100%",maxHeight:i.rT,padding:4,rounding:2,width:l?"100%":i.oL,children:(0,a.jsx)(n.iP,{fullWidth:!1,onTap:t,rounding:2,children:(0,a.jsxs)(n.st,{children:[(0,a.jsx)(n.xu,{color:"secondary",height:i.Cz,rounding:2,width:l?"100%":i.HU,children:(0,a.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,a.jsx)(n.xv,{color:"default",weight:"bold",children:c._('Select a Pin', '[m10n] quickPromote.QuickPromoteEmptyPinPreview', '[m10n] select a pin text in pin preview on quick promote')})})}),(0,a.jsx)(n.xu,{color:"secondary",height:i.O7,marginStart:2,marginTop:4,rounding:2,width:i.QX}),(0,a.jsx)(n.xu,{color:"secondary",height:i.O7,marginStart:2,marginTop:2,rounding:2,width:i.Yh})]})})})}},25280:function(e,t,r){r.d(t,{A0:function(){return a},Cz:function(){return c},Ef:function(){return i},HU:function(){return s},O7:function(){return f},QX:function(){return u},Uy:function(){return y},Xc:function(){return h},Yh:function(){return d},d2:function(){return o},iO:function(){return p},kO:function(){return m},oL:function(){return n},rT:function(){return l},rk:function(){return g},u7:function(){return _}});var n=260,o=292,i=494,a=6,l=434,c=342,s=228,u=185,d=86,f=16,p=420,m=410,h={MOBILE:"MOBILE",DESKTOP_EMPTY:"DESKTOP_EMPTY",DESKTOP:"DESKTOP"},g=function(e){return[{path:"M5.33334 0.666656C4.22877 0.666656 3.33334 1.56209 3.33334 2.66666V13.3333C3.33334 14.4379 4.22877 15.3333 5.33334 15.3333H7.66667H10C11.1046 15.3333 12 14.4379 12 13.3333V2.66666C12 1.56209 11.1046 0.666656 10 0.666656H5.33334ZM10.6667 2.66666H4.66667V13.3333H10.6667V2.66666Z",label:e._('Mobile Preview', '[m10n] Label for selecting the mobile pin preview', '[m10n] Label for selecting the mobile pin preview')},{path:"M2.66666 1.33334C1.56209 1.33334 0.666664 2.22877 0.666664 3.33334V9.33334C0.666664 10.4379 1.5621 11.3333 2.66667 11.3333H7.33333V12.6667H5.33333V14H10.6667V12.6667H8.66666V11.3333H13.3333C14.4379 11.3333 15.3333 10.4379 15.3333 9.33334V3.33334C15.3333 2.22877 14.4379 1.33334 13.3333 1.33334H2.66666ZM3 2.66668C2.44771 2.66668 2 3.11439 2 3.66668V9.00001C2 9.55229 2.44771 10 3 10H13C13.5523 10 14 9.55229 14 9.00001V3.66668C14 3.11439 13.5523 2.66668 13 2.66668H3Z",label:e._('Desktop Preview', '[m10n] Label for selecting the desktop pin preview', '[m10n] Label for selecting the desktop pin preview')}]},_=function(e,t){var r=e&&Object.values(e).length>0,n=h.DESKTOP_EMPTY;return[void 0,null].includes(t)?r&&(n=h.DESKTOP):r&&1===t?n=h.DESKTOP:0===t&&(n=h.MOBILE),n},y=function(e,t){if(!e)return!1;var r=e.images&&e.images["236x"]||e.images&&e.images["474x"]||e.images&&e.images["736x"]||e.images&&e.images.orig||void 0;if(r&&void 0!==r.width&&void 0!==r.height){if(t===h.MOBILE);else if(t===h.DESKTOP)return r.height>310;return r.height/r.width>i/n}return!1}},739236:function(e,t,r){r.d(t,{H:function(){return h}});var n=r(282480),o=r(545007),i=r(631016),a=r(617125),l=r(770443);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function h(e){var t,r=(p(t=function(t){(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)})(i,t);var r,n,o=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=f(i);return e=r?Reflect.construct(t,arguments,f(this).constructor):t.apply(this,arguments),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.reloadTargetingOptions;e.targetingOptions||t()}},{key:"render",value:function(){return(0,l.jsx)(e,u({},this.props))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent),"displayName","withQuickPromoteTargeting(".concat(e.displayName||e.name||"Component",")")),t);return function(e){var t=(0,o.v9)(function(e){return e.quickPromote.targetingOptions||void 0}),n=(0,o.v9)(a.Wt),c=(0,o.I0)();return(0,l.jsx)(r,u(u({},e),{},{quickPromoteSelectAutoTargeting:function(e){c((0,i.iw)(e))},quickPromoteSetAges:function(e){c((0,i.zg)(e))},quickPromoteSetAutoTargeting:function(){c((0,i.rr)([])),c((0,i.zg)([])),c((0,i.xx)([]))},quickPromoteSetGenders:function(e){c((0,i.rr)(e))},quickPromoteSetInterests:function(e){c((0,i.xx)(e))},reduxStateInterests:n,reloadTargetingOptions:function(){return c((0,i.rV)())},targetingOptions:t}))}}},206515:function(e,t,r){var n=r(734382),o=r(207630);t.Z=function(e,t,r,i,a){var l=e||{},c=l.estimate,s=l.lowerBound,u=l.upperBound;if(c<1e4){var d=n.Z.getFormattedNumberText(1e4,r,i);return(0,o.Z)("< {{ formattedLowerBoundText }}",{formattedLowerBoundText:d})}if("reach"===t&&s===u){var f=n.Z.getFormattedNumberText(u,r,i);return(0,o.Z)("{{ formattedUpperBoundText }}+",{formattedUpperBoundText:f})}var p=n.Z.getFormattedNumberText(s,r,i),m=n.Z.getFormattedNumberText(u,r,i);return a||p===m?p:(0,o.Z)("{{ lowerBoundText }}-{{ upperBoundText }}",{lowerBoundText:p,upperBoundText:m})}},487634:function(e,t,r){r.d(t,{Bd:function(){return l},It:function(){return u},MD:function(){return i},Ur:function(){return d},Vb:function(){return c},aM:function(){return f},b2:function(){return o},re:function(){return a},yo:function(){return s}});var n=r(50581),o=[2,3,4,34],i=function(e){return{merchant:[{column:"SPEND_IN_DOLLAR",sortText:{descending:e._('Top spend campaigns', '[m10n] ReportingOverview.viewPerformanceBy.topSpend', 'dropdown option for view performance by dropdown')},isDefault:!0},{column:"TOTAL_IMPRESSION",isDefault:!0,sortText:{descending:e._('Top impressions', '[m10n] ReportingOverview.viewPerformanceBy.topImpressions', 'dropdown option for view performance by dropdown')}},{column:"TOTAL_CHECKOUT",isDefault:!0,sortText:{descending:e._('Top Checkouts', '[m10n] ReportingOverview.viewPerformanceBy.topCheckouts', 'dropdown option for view performance by dropdown')}},{column:"CHECKOUT_ROAS",isDefault:!0,sortText:{descending:e._('Top ROAS', '[m10n] ReportingOverview.viewPerformanceBy.topROAS', 'dropdown option for view performance by dropdown')}},{column:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR",isDefault:!0,sortText:{descending:e._('Top order value', '[m10n] ReportingOverview.viewPerformanceBy.topRevenue', 'dropdown option for view performance by dropdown')}},{column:"CLICKTHROUGH_1",isDefault:!1},{column:"ECPC_IN_DOLLAR",isDefault:!1},{column:"CTR",isDefault:!1},{column:"REPIN_1",isDefault:!1}],general:[{column:"SPEND_IN_DOLLAR",isDefault:!0,sortText:{descending:e._('Top spend campaigns', '[m10n] ReportingOverview.viewPerformanceBy.topSpend', 'dropdown option for view performance by dropdown')}},{column:"TOTAL_IMPRESSION",isDefault:!0,sortText:{descending:e._('Top impressions', '[m10n] ReportingOverview.viewPerformanceBy.topImpressions', 'dropdown option for view performance by dropdown')}},{column:"CLICKTHROUGH_1",isDefault:!0,sortText:{descending:e._('Top clicks', '[m10n] ReportingOverview.viewPerformanceBy.topClicks', 'dropdown option for view performance by dropdown')}},{column:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR",isDefault:!1},{column:"CPM_IN_DOLLAR",isDefault:!0,sortText:{ascending:e._('Lowest CPM', '[m10n] ReportingOverview.viewPerformanceBy.lowestCPM', 'dropdown option for view performance by dropdown')}},{column:"ECPC_IN_DOLLAR",isDefault:!0,sortText:{ascending:e._('Lowest CPC', '[m10n] ReportingOverview.viewPerformanceBy.lowestCPC', 'dropdown option for view performance by dropdown')}},{column:"TOTAL_CHECKOUT",isDefault:!1},{column:"CHECKOUT_ROAS",isDefault:!1},{column:"CTR",isDefault:!1},{column:"REPIN_1",isDefault:!1}]}},a={ALL:"all",PENDING:"pending",ACTIVE:"active",REJECTED:"rejected",PAUSED:"paused",COMPLETED:"completed"},l=function(e){return{startDate:(0,n.Z)(e,new Date).toISOString().substring(0,10),endDate:(0,n.Z)(1,new Date).toISOString().substring(0,10)}};function c(e){return{SPEND_IN_DOLLAR:{label:e._('Spend', '[m10n] metric name', '[m10n] metric name'),metricColumn:"SPEND_IN_DOLLAR",type:"metric",numberStyle:"currency",requiresConversionTag:!1,tooltipText:e._('Total ad spend in the selected time period', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_IMPRESSION:{label:e._('Total impressions', '[m10n] metric name', '[m10n] metric name'),metricColumn:"TOTAL_IMPRESSION",type:"metric",numberStyle:"integer",maxFractionDigits:2,requiresConversionTag:!1,tooltipText:e._('The number of times your ads were seen, including earned impressions', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_CLICKTHROUGH:{label:e._('Pin clicks', '[m10n,MetricsUnification] metric name', '[m10n,MetricsUnification] metric name'),metricColumn:"TOTAL_CLICKTHROUGH",type:"metric",numberStyle:"integer",requiresConversionTag:!1,tooltipText:e._('The total number of clicks on your Pin to content on or off of Pinterest', '[m10n,MetricsUnification] tooltip text that describe what the current metric is', '[m10n,MetricsUnification] tooltip text that describe what the current metric is')},TOTAL_REPIN:{label:e._('Saves', '[m10n] metric name', '[m10n] metric name'),metricColumn:"TOTAL_REPIN",type:"metric",numberStyle:"integer",requiresConversionTag:!1,tooltipText:e._('Total number of times your ads were saved', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},CPM_IN_DOLLAR:{label:e._('CPM', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"CPM_IN_DOLLAR",numberStyle:"currency",requiresConversionTag:!1,tooltipText:e._('Spend divided by total impressions times one thousand', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},ECTR:{label:e._('ECTR', '[m10n,MetricsUnification] metric name', '[m10n,MetricsUnification] metric name'),type:"metric",metricColumn:"ECTR",numberStyle:"precise_percent",requiresConversionTag:!1,tooltipText:e._('Total pin clicks divided by total impressions', '[m10n,MetricsUnification] tooltip text that describe what the current metric is', '[m10n,MetricsUnification] tooltip text that describe what the current metric is')},TOTAL_VIDEO_P95_COMBINED:{label:e._('Video watched at 95%', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_VIDEO_P95_COMBINED",numberStyle:"integer",requiresConversionTag:!1,tooltipText:e._('The number of times a video reaches 95% of its length. Includes skipping ahead to this point.', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_CHECKOUT:{label:e._('Conversions (Checkout)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_CHECKOUT",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of checkout conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_CHECKOUT_VALUE_IN_DOLLAR:{label:e._('Conversion value', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_CHECKOUT_VALUE_IN_DOLLAR",numberStyle:"currency",requiresConversionTag:!1,tooltipText:e._('Total value driven by checkout conversions', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_PAGE_VISIT:{label:e._('Conversions (Page visits)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_PAGE_VISIT",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of page visit conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_SIGNUP:{label:e._('Conversions (Signup)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_SIGNUP",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of signup conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_LEAD:{label:e._('Conversions (Lead)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_LEAD",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of lead conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_ADD_TO_CART:{label:e._('Conversions (Add to cart)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_ADD_TO_CART",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of add to cart conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_SEARCH:{label:e._('Conversions (Website search)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_SEARCH",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of website search conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_WATCH_VIDEO:{label:e._('Conversions (Watch video)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_WATCH_VIDEO",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of watch video conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_APP_INSTALL:{label:e._('Conversions (App install)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_APP_INSTALL",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of app install conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')},TOTAL_VIEW_CATEGORY:{label:e._('Conversions (Category view)', '[m10n] metric name', '[m10n] metric name'),type:"metric",metricColumn:"TOTAL_VIEW_CATEGORY",numberStyle:"integer",requiresConversionTag:!0,tooltipText:e._('Total number of category view conversions, including earned', '[m10n] tooltip text that describe what the current metric is', '[m10n] tooltip text that describe what the current metric is')}}}var s={7:"DAY",14:"WEEK",30:"WEEK",60:"MONTH"},u={LAST_7_DAYS:7,LAST_14_DAYS:14,LAST_30_DAYS:30,LAST_90_DAYS:90},d=10,f=5},480929:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{FW:function(){return d},Lw:function(){return a},Pg:function(){return p},RA:function(){return u},TC:function(){return f},Ty:function(){return l},dv:function(){return h},e8:function(){return m},eX:function(){return i},p0:function(){return s},wP:function(){return c}});var i={advertiser:"advertiser",campaign:"campaign",adGroup:"adgroup",pinPromotion:"pinPromotion",campaignNegativeKeyword:"campaignNegativeKeyword",campaignSearchQuery:"campaignSearchQuery",adGroupPositiveKeyword:"adGroupPositiveKeyword",adGroupNegativeKeyword:"adGroupNegativeKeyword",adGroupSearchQuery:"adGroupSearchQuery",productGroup:"productGroup",productItem:"productItem"},a=Object.freeze({campaign:i.campaign,adGroup:i.adGroup,pinPromotion:"pinpromotion",productGroup:i.productGroup,productItem:i.productItem}),l=[a.adGroup,a.productGroup],c=Object.freeze({ADVERTISER:"ADVERTISER",CAMPAIGN:"CAMPAIGN",AD_GROUP:"AD_GROUP",PIN_PROMOTION:"PIN_PROMOTION",PRODUCT_GROUP:"PRODUCT_GROUP",PRODUCT_ITEM:"PRODUCT_ITEM"});function s(e){return e===a.pinPromotion?i.pinPromotion:e}function u(e){switch(e){case i.advertiser:return c.ADVERTISER;case i.campaign:return c.CAMPAIGN;case i.productGroup:return c.PRODUCT_GROUP;case i.productItem:return c.PRODUCT_ITEM;case i.adGroup:return c.AD_GROUP;case i.pinPromotion:return c.PIN_PROMOTION;default:return null}}function d(e){var t;return o(t={},c.ADVERTISER,{label:e._('Account', '[m10n] Label for the Account entity level', '[m10n] Label for the Account entity level'),value:c.ADVERTISER}),o(t,c.CAMPAIGN,{label:e._('Campaign', '[m10n] Label for the campaign entity level', '[m10n] Label for the campaign entity level'),value:c.CAMPAIGN}),o(t,c.AD_GROUP,{label:e._('Ad group', '[m10n] Label for the ad group entity level', '[m10n] Label for the ad group entity level'),value:c.AD_GROUP}),o(t,c.PRODUCT_GROUP,{label:e._('Product group', '[m10n] Label for the product group entity level', '[m10n] Label for the product group entity level'),value:c.PRODUCT_GROUP}),o(t,c.PRODUCT_ITEM,{label:e._('Product item', '[m10n] Label for the product group entity level', '[m10n] Label for the product group entity level'),value:c.PRODUCT_ITEM}),o(t,c.PIN_PROMOTION,{label:e._('Ad', '[m10n] Label for the ad entity level', '[m10n] Label for the ad entity level'),value:c.PIN_PROMOTION}),t}function f(e){switch(e){case c.ADVERTISER:return i.advertiser;case c.CAMPAIGN:return i.campaign;case c.PRODUCT_GROUP:return i.productGroup;case c.PRODUCT_ITEM:return i.productItem;case c.AD_GROUP:return i.adGroup;case c.PIN_PROMOTION:return i.pinPromotion;default:return""}}function p(e){var t;return(o(t={},i.campaign,"CAMPAIGN_ID"),o(t,i.adGroup,"AD_GROUP_ID"),o(t,i.pinPromotion,"PIN_PROMOTION_ID"),o(t,i.campaignNegativeKeyword,"id"),o(t,i.campaignSearchQuery,"id"),o(t,i.adGroupPositiveKeyword,"KEYWORD_ID"),o(t,i.adGroupNegativeKeyword,"id"),o(t,i.adGroupSearchQuery,"id"),o(t,i.productGroup,"PRODUCT_GROUP_ID"),o(t,i.productItem,"PRODUCT_ITEM_ID"),t)[e]}var m=[i.campaign,i.adGroup,i.pinPromotion,i.productGroup,i.productItem];function h(e){var t;return(o(t={},i.advertiser,"ADVERTISER"),o(t,i.campaign,"CAMPAIGN"),o(t,i.productGroup,"PRODUCT_GROUP"),o(t,i.productItem,"PRODUCT_ITEM"),o(t,i.adGroup,"AD_GROUP"),o(t,i.pinPromotion,"PIN_PROMOTION"),t)[e]}},136770:function(e,t,r){r.d(t,{$7:function(){return _},Ay:function(){return l},B1:function(){return v},CD:function(){return s},Dk:function(){return f},Fc:function(){return z},Kp:function(){return D},NG:function(){return j},QM:function(){return I},T0:function(){return d},TE:function(){return g},WF:function(){return x},Wm:function(){return b},Xm:function(){return O},_N:function(){return k},d7:function(){return a},dt:function(){return C},e_:function(){return A},i_:function(){return S},kY:function(){return h},nV:function(){return o},pC:function(){return c},ph:function(){return m},qg:function(){return w},sg:function(){return p},tZ:function(){return i},tw:function(){return E},uC:function(){return u},uc:function(){return P},xl:function(){return y},yG:function(){return T}});var n=r(481630),o="https://business.pinterest.com/en/pinterest-advertising-services-agreement",i="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",a="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",l="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",c="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",s="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",u="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",d="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",f="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",p="https://business.pinterest.com/pinterest-advertising-services-agreement/",m=[1,3],h=[7],g=[34],_=[35],y=[19],v=[36],b=[37],P=[38],x=8,S=9,j=11,O=15,w=16,A=17,k=18,I=19,T=20,C=22,E=23;function z(e,t){var r=S;return m.includes(e)&&!t?r=x:h.includes(e)?r=j:g.includes(e)?r=O:_.includes(e)?r=w:y.includes(e)?r=A:v.includes(e)?r=k:P.includes(e)?r=I:b.includes(e)?r=T:n.f4.includes(e)&&(r=C),r}function D(e){var t=f;return m.includes(e)?t=o:h.includes(e)?t=i:g.includes(e)?t=a:_.includes(e)?t=l:y.includes(e)?t=d:v.includes(e)?t=c:b.includes(e)?t=s:P.includes(e)&&(t=u),t}},901211:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(297949),o=r(488792),i=r(669119),a=r(770443);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){var t,r=(0,o.Z)(),l=(0,i.K)(),c=e.id,u=e.name,d=e.value;return(0,a.jsx)(n.xu,{"data-component":"dropdown","data-name":u,"data-test-id":c,"data-value":d,children:(0,a.jsx)(n.EI,{disabled:e.disabled,errorMessage:e.errorMessage,helperText:e.helperText,id:e.id,label:e.label,labelDisplay:e.labelDisplay,name:e.name,onChange:function(t){var n=e.componentType,o=e.elementType,i=e.onChange,a=e.view,c=e.viewParameter,u=e.id,d=e.name;null==i||i(t);var f={value:t&&t.value||null};u&&(f=s(s({},f),{},{element_id:u})),d&&(f=s(s({},f),{},{element_name:d})),r({event_type:3828,view_type:a||(null==l?void 0:l.view),view_parameter:c||(null==l?void 0:l.viewParameter),component:n||null,element:o||10212,aux_data:s({},f)})},placeholder:e.placeholder,size:"lg",value:e.value,children:(null!==(t=e.options)&&void 0!==t?t:[]).map(function(e,t){var r=e.disabled,o=e.label,i=e.value;return(0,a.jsx)(n.EI.Option,{disabled:r,label:o,value:i},t)})})})}},767470:function(e,t,r){var n=r(770443);t.Z=function(){return(0,n.jsx)("div",{className:"sterlingSpinner","data-test-id":"spinner",children:(0,n.jsxs)("svg",{height:"16px",viewBox:"0 0 16 16",width:"16px",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"8",cy:"8",fill:"none",r:"7",stroke:"#EFEFEF",strokeWidth:"2"}),(0,n.jsx)("circle",{className:"sterlingSpinnerCirclePath",cx:"8",cy:"8",fill:"none",r:"7",stroke:"#8E8E8E",strokeLinecap:"round",strokeWidth:"2"})]})})}},137528:function(e,t,r){r.d(t,{Gu:function(){return s},yt:function(){return u}});var n=r(235291),o=r(895739),i=r(635258),a=r(54473),l=r(480929),c={getAdvertiserId:function(e){var t=null;if(e&&(t=e.advertiserId||null),!t&&n.Z&&n.Z.instance){var r=n.Z.instance.getState();r.advertiser&&(t=r.advertiser.id)}return t},getSterlingURL:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]},getSterlingURLByEntityType:function(e){}};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o.Z[e])throw Error("unknown url key: ".concat(e));var r=o.Z[e](t),n=c.getAdvertiserId(t),l=!!t.absolutify;return"string"==typeof n&&(r="/advertiser/".concat(n).concat(r)),l&&(r=(0,a.Z)(r,void 0,i.KUo)),r}function u(e){var t;return e===l.eX.campaign?t=s("campaigns"):e===l.eX.adGroup?t=s("adgroups"):e===l.eX.pinPromotion?t=s("ads"):e===l.eX.productGroup?t=s("productgroups"):e===l.eX.productItem?t=s("productitems"):e===l.eX.campaignNegativeKeyword?t=s("campaignNegativeKeywords"):e===l.eX.campaignSearchQuery?t=s("campaignSearchQueries"):e===l.eX.adGroupNegativeKeyword?t=s("adGroupNegativeKeywords"):e===l.eX.adGroupPositiveKeyword?t=s("adGroupPositiveKeywords"):e===l.eX.adGroupSearchQuery&&(t=s("adGroupSearchQueries")),t}c.getSterlingURL=s,c.getSterlingURLByEntityType=u,t.ZP=c},686062:function(e,t,r){r.d(t,{Z:function(){return ov}});var n=r(282480),o=r(868073),i=r(297949),a=r(481630),l=r(720508),c=r(449112),s=r(282160),u=r(476198),d=r(144326),f=r(240760),p=r(901450),m=r(383399),h=r(136770),g=r(901211),_=r(770443);function y(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,l,"next",e)}function l(e){y(i,n,o,a,l,"throw",e)}a(void 0)})}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x=function(e,t){e="UK"===e?"GB":e;var r=t.find(function(t){return t.value===e});return r?r.value:"other"},S=function(e,t){e.sort(function(e,t){return e.label.localeCompare(t.label)}),e.push({label:t._('Other', '[m10n] quickPromoteCreateAdvertiserForm.countryList.other', 'Label for advertiser to set billing currency to value not in dropdown'),value:"other"})},j=function(e){var t,r,o=(0,d.ZP)(),y=b((0,n.useState)([]),2),P=y[0],j=y[1],O=b((0,n.useState)("US"),2),w=O[0],A=O[1],k=b((0,n.useState)(!1),2),I=k[0],T=k[1],C=b((0,n.useState)(!1),2),E=C[0],z=C[1],D=(0,p.F9)().showToast,M=(0,m.Z)(),R=(0,l.Z)(),B=e.onSubmit,q=function(){D(function(e){var t=e.hideToast;return(0,_.jsx)(u.ZP,{onHide:t,text:o._('Something went wrong. Please try again.', '[m10n] quickPromoteCreateAdvertiserForm.genericErrorMessage', 'Error message when request to create advertiser fails'),type:"error"})})},L=function(e,t){"US"!==e&&A(x(e,t)),j(t)},N=(t=v(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R().get("/ads/v4/advertisers/countries/");case 3:Array.isArray(r=e.sent)&&(S(n=r.map(function(e){var t=e.code,r=e.name,n=e.currency;return{value:t,label:"".concat(r," (").concat(n,")")}}),o),L(t,n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),q();case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return t.apply(this,arguments)}),F=(r=v(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),!("other"!==w)){e.next=15;break}return e.prev=2,t={country:w,tos_id:(0,h.Fc)(a.tN[w])},e.next=6,R().postJSON("/ads/v4/advertisers/",t);case 6:B&&B(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),q(),z(!1);case 13:e.next=16;break;case 15:(0,c.Z)("https://help.pinterest.com/en/business/article/promoted-pins-overview?qa=6",!1);case 16:case"end":return e.stop()}},e,null,[[2,9]])})),function(){return r.apply(this,arguments)});(0,n.useEffect)(function(){N(M.country||"")},[]);var U="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement";"other"!==w&&(U=(0,h.Kp)(a.tN[w]));var Z="other"===w?o._('Learn more', '[m10n] quickPromoteCreateAdvertiserForm.helpCenterLink', 'Button to take advertiser to help center'):o._('Next', '[m10n] quickPromoteCreateAdvertiserForm.nextButton', '[m10n] Button text'),G="other"===w?"learnMore":"submit";return(0,_.jsxs)(i.xu,{marginBottom:8,paddingX:8,children:[(0,_.jsx)(i.xu,{marginBottom:4,children:(0,_.jsx)(i.xv,{children:o._('We\'ll use your location to determine the currency you\'re billed in and any taxes that may apply. It\u2019s one of a few things you won\u2019t be able to edit in the future.', '[m10n] quickPromoteCreateAdvertiserForm.subheader', 'Subheader of Quick Promote create advertiser modal')})}),(0,_.jsx)(i.xu,{marginBottom:4,children:(0,_.jsx)(g.Z,{id:"advertiserCountryPicker",onChange:function(e){A(e.value)},options:P,placeholder:o._('Select currency', '[m10n] quickPromoteCreateAdvertiserForm.selectCountryPlaceholder', 'Placeholder for dropdown where advertiser selects their country currency'),value:w})}),"other"===w&&(0,_.jsx)(i.xu,{marginBottom:4,children:(0,_.jsx)(i.xv,{children:o._('Unfortunately Pinterest Ads aren\'t available in other countries just yet, so you won\'t be able to create ads. We\'re working on making them available in more places soon.', '[m10n] quickPromoteCreateAdvertiserForm.otherCountrySelectionError', 'Message to notify advertisers that ads manager is not available in other countries')})}),"other"!==w&&(0,_.jsxs)(i.xu,{direction:"column",display:"flex",marginBottom:4,children:[(0,_.jsx)(i.xv,{inline:!0,children:(0,f.nk)(o._('On May 25, 2018, we updated our {{ advertisingAgreement }} to address some new privacy laws in Europe.', '[m10n] quickPromoteCreateAdvertiserForm.tosText', 'Message about updated terms of service'),{advertisingAgreement:(0,_.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:U,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:o._('Advertising Agreement', '[m10n] quickPromoteCreateAdvertiserForm.advertiserAgreementLink', 'Link\xA0for\xA0advertiser agreement from advertiser creation modal')})},"advertisingAgreementLink")})}),(0,_.jsx)(i.xu,{marginTop:8,children:(0,_.jsx)(i.XZ,{checked:I,id:"tosAcceptanceCheckbox",label:o._('I accept Pinterest\u2019s Advertising Agreement', '[m10n] quickPromoteCreateAdvertiserForm.advertiserAgreementCheckbox', 'Label for a checkbox that indicates the advertiser accepts Pinterest Terms of Service.'),name:"tosAcceptanceCheckbox",onChange:function(e){T(e.checked)}})})]}),(0,_.jsx)(i.xu,{display:"flex",justifyContent:"end",marginTop:4,children:(0,_.jsx)(s.zx,{color:"red",dataTestId:G,disabled:!P||P.length<1||E||!I&&"other"!==w,logEventProps:{},name:"advertiserCreateButton",onClick:function(){F()},text:Z})})]})},O=r(353487),w=r(729263),A=r(800492),k=r(212515),I=r(989820),T=r(758339),C=r(297728),E=r(730212),z=r(626964),D=r(868808),M=r(566344),R=r(976534),B=r(697254),q=r(410150),L=r(545007),N=r(252071),F=r(700378),U=r(400416),Z=r(969119),G=r(453503),H=r(573706),Q=r(602185),W=r(136061),K=r(851861),V=r(338623),X=r(166408),Y=r(498490),$=(0,Y.Z)("quickPromoteModalManagerContext"),J=$.Provider,ee=$.useHook,et=r(716288);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==er(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==er(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===er(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ea(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var el={start:{top:300},end:{top:-400}},ec={property:"top",duration:9e3,timingFunction:"easeOut",delay:100};function es(e){var t=e.onStart,r=(0,d.ZP)(),o=ei((0,n.useState)(!1),2),a=o[0],l=o[1],c=ei((0,n.useState)(!1),2),s=c[0],u=c[1],f=ei((0,n.useState)(el.start),2),p=f[0],m=f[1];return(0,n.useEffect)(function(){s&&(l(!0),t&&t()),a&&m(el.end)},[a,s,t]),(0,_.jsxs)(i.xu,{bottom:!0,"data-test-id":"qp-fac-second-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,_.jsx)(i.xu,{color:"default",minWidth:250,position:"relative",width:250,children:(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:eo(eo({},p),{},{transition:(0,et.Z)(ec)})},height:"100%",position:"relative",width:"100%",children:(0,_.jsx)(i.Ee,{alt:r._('Example ad feed', '[m10]quickPromote.AdCreateTourScreen.image', 'Alt text for an image showing example feed of pins and ads'),naturalHeight:1660,naturalWidth:606,onLoad:function(){return u(!0)},src:"https://i.pinimg.com/originals/9a/80/f9/9a80f99c86450351a7c8c53c5c46d29a.png"})})}),(0,_.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",paddingX:10,children:(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.X6,{size:"500",children:r._('When someone searches or browses Pins related to your product or content, your ad will show up', '[m10]quickPromote.AdCreateTourScreen.headingText', 'A heading text for describing how ads are surfaced')})})})]})}function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eu(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eu(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eh={start:{top:474},end:{top:100}},eg={property:"bottom",duration:3e3,timingFunction:"easeInOut",delay:200};function e_(e){var t=e.onStart,r=(0,d.ZP)(),o=ep((0,n.useState)(!1),2),a=o[0],l=o[1],c=ep((0,n.useState)(!1),2),s=c[0],u=c[1],f=ep((0,n.useState)(eh.start),2),p=f[0],m=f[1];return(0,n.useEffect)(function(){s&&(l(!0),t&&t()),a&&m(eh.end)},[a,s,t]),(0,_.jsxs)(i.xu,{bottom:!0,"data-test-id":"qp-fac-first-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#efcfd5"}},minWidth:250,position:"relative",width:250,children:(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:ef(ef({},p),{},{transition:(0,et.Z)(eg)})},height:"100%",paddingX:8,position:"relative",width:"100%",children:(0,_.jsx)(i.Ee,{alt:r._('Example promoted Pin', '[m10]quickPromote.eduModalOne.Image', 'Alt text for an image showing example promoted Pin'),naturalHeight:375,naturalWidth:264,onLoad:function(){return u(!0)},src:"https://i.pinimg.com/originals/f4/95/00/f495006bb9c23b8d3d48113ad35b82d3.png"})})}),(0,_.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",paddingX:10,children:(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.X6,{size:"500",children:r._('To reach more people, promote any Pin to create an ad', '[m10]quickPromote.eduModalOne.headingText', 'A heading text for describing promoting a pin')})})})]})}var ey=r(703451),ev=r(787487),eb=r(983542),eP=r(631016),ex=r(617125);function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eS(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eS(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ew(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function eA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eI=function(e){var t=e.adType,a=e.advertiserId,l=e.error,c=e.i18n,s=e.oCPMEligibleTags,u=e.quickPromoteChangeAdType,d=e.quickPromoteChangeName,f=e.pin,p=function(e,t){u(e,t),f&&d((0,ey.Y7)(null==f?void 0:f.description,c,e))},m=eA((0,n.useState)({}),2),h=m[0],g=m[1],y=eA((0,n.useState)(!1),2),v=y[0],b=y[1],P=eA((0,n.useState)(),2),x=P[0],S=P[1],j=eA((0,n.useState)(),2),O=j[0],w=j[1],A=(0,n.useRef)(null);(0,n.useEffect)(function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=7;break}return e.next=3,r.e(21125).then(r.bind(r,521125));case 3:t=e.sent.default,n={},Object.keys(s).forEach(function(e){s[e].forEach(function(e){if(e.advertiserId===a){var r=t.getConversionTypeLabel(e.conversionEvent,c);n[e.conversionEvent]=eO(eO({},e),{},{label:r})}}),g(n)});case 7:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ew(i,n,o,a,l,"next",e)}function l(e){ew(i,n,o,a,l,"throw",e)}a(void 0)})})()},[a,c,s]),(0,n.useEffect)(function(){t===eb.Hl.WEB_CONVERSION&&A.current&&!v&&(A.current.focus(),b(!0))},[t,A,O,v]);var k=(0,n.useRef)(null),T="?is_auto_creative=true"===(0,o.k6)().location.search;return(0,_.jsxs)(i.xu,{color:"default",marginBottom:4,padding:5,rounding:3,width:"100%",children:[(0,_.jsx)(i.xu,{marginBottom:3,children:(0,_.jsx)(i.xv,{children:c._('What is the goal of your ad?', '[m10n] QuickPromoteAdType.title.text', 'Ask the users what is the goal of their ad')})}),(0,_.jsxs)(i.FX,{direction:"column",id:"quick-promote-ad-type-options",legend:c._('What is the goal of your ad?', '[m10n] QuickPromoteAdType.title.text', 'Ask the users what is the goal of their ad'),legendDisplay:"hidden",children:[(0,_.jsx)(i.FX.RadioButton,{checked:t===eb.Hl.CONSIDERATION,disabled:!T&&!f,helperText:c._('Drive people to click on your ad', '[m10n] QuickPromoteAdType.Consideration.subtext', 'Consideration ad type'),id:"quickPromoteAdType.radioButton.CONSIDERATION",label:c._('Consideration', '[m10n] QuickPromoteAdType.Consideration.text', 'Consideration ad type'),name:"adType",onChange:function(){w(""),p(eb.Hl.CONSIDERATION)},value:eb.Hl.CONSIDERATION}),(0,ev.Z)(s)?null:(0,_.jsxs)(i.xu,{ref:k,children:[(0,_.jsx)(i.FX.RadioButton,{checked:t===eb.Hl.WEB_CONVERSION,disabled:!f,helperText:c._('Drive people to take actions like checkout, sign up and add to cart on your website', '[m10n] QuickPromoteAdType.Conversion.subtext', 'Conversion ad type'),id:"quickPromoteAdType.radioButton.WEB_CONVERSION",label:c._('Conversion', '[m10n] QuickPromoteAdType.Conversion.text', 'Conversion ad type'),name:"adType",onChange:function(){b(!1),p(eb.Hl.WEB_CONVERSION)},value:eb.Hl.WEB_CONVERSION}),t===eb.Hl.WEB_CONVERSION&&(0,_.jsx)(i.xu,{marginStart:4,marginTop:1,children:(0,_.jsx)(i.BC,{ref:A,accessibilityClearButtonLabel:c._('Clear conversion tags list', '[m10n] QuickPromoteAdType.Conversion.comboBox.accessibilityButton.clear', '[m10n] Accessibility button clear '),errorMessage:l,id:"quickPromoteAdType.comboBox",inputValue:O,label:"",labelDisplay:"hidden",noResultText:c._('No results', '[m10n] QuickPromoteAdType.Conversion.comboBox.noResults', '[m10n] No results found in the Combo Box'),onBlur:function(e){var t=e.value;x&&x.label!==t&&(p(eb.Hl.WEB_CONVERSION),S())},onClear:function(){S(),w(""),p(eb.Hl.WEB_CONVERSION)},onFocus:function(){A.current&&A.current.click()},onSelect:function(e){var t=e.item,r=t.value;p(eb.Hl.WEB_CONVERSION,h[r]),S(t),w(t.label)},options:Object.keys(h).map(function(e){return{label:h[e].label,value:e}}),placeholder:c._('Select one', '[m10n] QuickPromoteAdType.Conversion.comboBox.selectOne', '[m10n] Select one in conversion event in the Combo Box'),selectedOption:x,size:"lg"})})]})]}),(0,_.jsx)(i.mh,{children:(0,_.jsx)(I.Qp,{anchor:k.current,experienceIds:[503907],flyoutSize:"sm",fontSize:"100",idealDirection:"left",placementId:1000256,showCaret:!0,textOverflow:"normal"})})]})};function eT(e){var t=(0,L.I0)(),r=(0,L.v9)(function(e){return e.quickPromote}),o=(0,d.ZP)(),i=(0,ex.Sv)(r);(0,n.useEffect)(function(){i&&t((0,eP.uz)(i.id))},[i,t]);var a=(0,ev.Z)(r.sharedOCPMEligibleTags),l=r.sharedOCPMEligibleTags;return a?null:(0,_.jsx)(eI,eO(eO({},e),{},{adType:r.adType,advertiserId:r.advertiserId,error:r.errors?r.errors.adType:null,i18n:o,oCPMEligibleTags:l,pin:r.pin,quickPromoteChangeAdType:function(e,r){t((0,eP.N8)(e,o,r))},quickPromoteChangeName:function(e){t((0,eP.aj)(e))},togglePickAPinSheet:function(){return t((0,eP.Xx)(!0))}}))}var eC=r(750077),eE=r(207630);function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eD=function(e){var t=e.onTouch,r=e.option,n=r.value,o=r.label;return(0,_.jsx)(i.iP,{onTap:function(){return t(n)},children:(0,_.jsx)(i.xu,{padding:2,children:(0,_.jsx)(i.xv,{lineClamp:1,children:o})})})},eM=function(e){var t=e.options,r=e.onChange,n=e.OptionComponent||eD;return(0,_.jsx)(i.xu,{maxHeight:300,children:t.map(function(e){return(0,_.jsx)(n,{onTouch:r,option:e},e.value)})})};function eR(e){var t,r=(0,d.ZP)(),o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ez(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ez(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],c=(0,n.useRef)(),s=function(t,r){l(!r),e.onChange(t)},u=e.fieldId,f=e.value,p=e.options,m=e.renderOptionComponent,h=e.flyoutDirection,g=e.titleWidth,y=p.find(function(e){return e.value===f})||{};return(0,_.jsxs)(i.xu,{"data-test-id":"quickPromoteFlyoutDropdown-".concat(u),children:[(0,_.jsx)(i.iP,{onTap:function(){l(!a)},children:(0,_.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,_.jsx)(i.xu,{marginEnd:2,width:g||void 0,children:(0,_.jsx)(i.xv,{weight:"bold",children:y.label})}),(0,_.jsx)(i.xu,{ref:c,children:(0,_.jsx)(i.JO,{accessibilityLabel:r._('Icon to open dropdown flyout', '[m10n] - Accessibility label for icon', '[m10n] - Accessibility label for icon'),color:"subtle",icon:"arrow-down",size:12})})]})}),a&&(0,_.jsx)(i.mh,{zIndex:new i.Ry(3),children:(0,_.jsx)(i.J2,{anchor:c.current,idealDirection:h,onDismiss:function(){l(!a)},children:(0,_.jsx)(eM,{onChange:function(e){return s(e,a)},OptionComponent:m,options:p})})})]})}var eB=r(858851),eq=r(767470),eL=r(179735);function eN(e){return(eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(t){eW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eZ(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function eG(e,t){return(eG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eH(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eQ(e){return(eQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eW(e,t,r){return(t=eK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=function(e,t){if("object"!==eN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eN(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eN(t)?t:String(t)}var eV=(0,eL.Z)(function(){return r.e(29353).then(r.bind(r,782164))},void 0,"QuickPromoteSetupBillingEntrypoint"),eX=function(e){var t=e.advertiser,r=e.billingProfileData,o=e.inDropdown,a=e.color,l=(0,d.ZP)(),c=r||{},s=c.billingType,u=c.cardNumber,f=c.paymentMethodBrand;switch(s){case 2:return(0,_.jsx)(i.xv,{color:a,children:l._('Invoice Billing', '[m10n]quickPromotePage.advertiserDropdown.invoiceBilling.text', '[m10n] invoice billing text of advertiser selector on quick promote page')});case 3:return(0,_.jsx)(i.xv,{color:a,children:l._('Internal Billing', '[m10n]quickPromotePage.advertiserDropdown.internalBilling.text', '[m10n] internal billing text of advertiser selector on quick promote page')});case 1:if(o&&!u)return null;return o&&u?(0,_.jsx)(i.xv,{color:a,children:(0,eE.Z)(l._('Card ending in {{ creditCardLast4Digits }}', '[m10n] - Last four digits of a credit card', '[m10n] - Last four digits of a credit card'),{creditCardLast4Digits:u.slice(-4)})}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(eB.Z,{brand:f}),u&&(0,_.jsx)(i.xu,{paddingX:2,children:(0,_.jsx)(i.xv,{children:"•••• •••• •••• ".concat(u.slice(-4))})}),(0,_.jsx)(Q.Z,{name:"SafeSuspense_QuickPromoteAdvertiserDropdownWithBilling_QuickPromoteSetupBillingEntrypoint",children:(0,_.jsx)(eC.Z,{children:(0,_.jsx)(eV,{advertiser:t,onlyShowButton:!0})})})]});default:return o?(0,_.jsx)(i.xv,{color:a,children:l._('No billing info', '[m10n] - no billing information', '[m10n] - no billing information')}):(0,_.jsx)(Q.Z,{name:"SafeSuspense_QuickPromoteAdvertiserDropdownWithBilling_QuickPromoteSetupBillingEntrypoint",children:(0,_.jsx)(eC.Z,{children:(0,_.jsx)(eV,{advertiser:t})})})}},eY=function(e){var t=e.option,r=e.onTouch,n=(0,d.ZP)(),o=t.billingProfileData,a=t.value,l=t.label,c=t.selected?"default":"subtle";return(0,_.jsx)(i.iP,{onTap:function(){return r(a)},children:(0,_.jsxs)(i.xu,{padding:2,children:[(0,_.jsx)(i.xu,{width:200,children:(0,_.jsx)(i.xv,{color:c,weight:"bold",children:l})}),(0,_.jsx)(i.xv,{color:c,children:(0,eE.Z)(n._('Account: {{ advertiserId }}', '[m10n] - label for advertiser Id', '[m10n] - label for advertiser Id'),{advertiserId:a})}),(0,_.jsx)(eX,{billingProfileData:o,color:c,inDropdown:!0})]})})},e$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eG(e,t)}(a,e);var t,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eQ(a);return e=t?Reflect.construct(r,arguments,eQ(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===eN(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eH(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),eW(eH(t=o.call(this,e)),"loadBillingProfiles",function(){var e,r=t.props,n=r.advertisers,o=r.onRefreshBillingInfo,i=n.map(function(e){return(0,U.Z)({url:"/ads/v4/advertisers/".concat(e.id,"/billing_profile/")})});t.setState({loadingData:!0},(e=regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(i);case 2:r=e.sent.reduce(function(e,t){var r,n,o,i,a=null===(r=t.resource_response.data)||void 0===r?void 0:r.advertiser_id;if(!t.resource_response)return e;var l={billingType:null===(n=t.resource_response.data)||void 0===n?void 0:n.billing_type,cardNumber:null===(o=t.resource_response.data)||void 0===o?void 0:o.card_number,paymentMethodBrand:null===(i=t.resource_response.data)||void 0===i?void 0:i.payment_method_brand};return a?eU(eU({},e),{},eW({},a,l)):e},{}),o(),t.setState({advertiserIdsToBillingProfiles:r,loadingData:!1});case 6:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eZ(i,n,o,a,l,"next",e)}function l(e){eZ(i,n,o,a,l,"throw",e)}a(void 0)})}))}),t.state={loadingData:!1,advertiserIdsToBillingProfiles:void 0},t}return r=[{key:"componentDidMount",value:function(){this.props.advertisers&&this.loadBillingProfiles()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.advertisers,r=e.shouldRefreshBillingInfo,n=this.state,o=n.advertiserIdsToBillingProfiles,i=n.loadingData;(t&&!o||r)&&!i&&this.loadBillingProfiles()}},{key:"render",value:function(){var e=this.state.advertiserIdsToBillingProfiles,t=this.props,r=t.advertiser,o=t.advertisers,a=t.isMediumSizeWindow,l=t.onChange;if(e){var c=e[r.id],s=o.filter(function(e){return!e.reseller_user_id}).map(function(t){return{value:t.id,label:t.name,selected:t.id===r.id,billingProfileData:e[t.id]}});return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(eR,{fieldId:"advertiserSelectList",flyoutDirection:"down",onChange:l,options:s,renderOptionComponent:eY,titleWidth:a?void 0:200,value:r.id}),(0,_.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginBottom:6,marginTop:2,children:(0,_.jsx)(eX,{advertiser:r,billingProfileData:c,color:"default",inDropdown:!1})})]})}return(0,_.jsx)(eq.Z,{})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eK(n.key),n)}}(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eJ(e){return(eJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eJ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eJ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eJ(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e3=function(e){var t=(0,H.v)().logContextEvent,r=e.advertiser,o=e.advertisers,i=e.quickPromoteChangeAdvertiser,a=e.isMediumSizeWindow,l=e.quickPromoteBillingInfoRefreshed,c=e.shouldRefreshBillingInfo,s=(0,E.B)();return((0,n.useEffect)(function(){t({event_type:13,view_type:388,view_parameter:3365,component:13500})},[t]),r&&o)?(0,_.jsx)(e$,{advertiser:r,advertisers:o,isMediumSizeWindow:a,onChange:function(e){t({event_type:101,view_type:388,view_parameter:3365,component:13500,element:11627}),i(e)},onRefreshBillingInfo:l,requestContext:s,shouldRefreshBillingInfo:c}):null};function e2(e){var t=(0,L.v9)(ex.FK),r=(0,L.v9)(ex.nX),n=(0,L.v9)(ex.QC),o=(0,L.I0)();return(0,_.jsx)(e3,e1(e1({},e),{},{advertiser:r,advertisers:t,quickPromoteBillingInfoRefreshed:function(){o((0,eP.vy)())},quickPromoteChangeAdvertiser:function(e){o((0,eP.E7)(e))},shouldRefreshBillingInfo:n}))}function e6(e){return(e6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==e6(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e6(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e6(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e5(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}var e9=function(e){var t,r,n=e.isFormValid,o=e.adTemplatePinCreate,i=e.isAutoCreative,a=e.setPin,l=(0,d.ZP)(),c=ee().handleSubmitClick,u=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:a(e.sent),c();case 5:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){e5(i,n,o,a,l,"next",e)}function l(e){e5(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)}),f=i?u:c;return(0,_.jsx)(s.zx,{color:"red",disabled:!n,fullWidth:!0,logEventProps:{view:i?593:388,viewParameter:3365,componentType:13499,elementType:10148},name:"quickPromoteCreateAdButton",onClick:function(){f()},text:l._('Promote', '[m10n] - Promote ad', '[m10n] - Promote ad')})};function e7(e){var t=(0,d.ZP)(),r=(0,L.v9)(function(e){return e}),n="?is_auto_creative=true"===(0,o.k6)().location.search,i=(0,L.I0)(),a=(0,ex.Bu)(r,t)&&(!!n||!!(0,ex.q_)(r));return(0,_.jsx)(e9,e4(e4({},e),{},{isAutoCreative:n,isFormValid:a,setPin:function(e){return i((0,eP.ON)(e))}}))}function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(t){ta(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tn(e,t){return(tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function to(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ta(e,t,r){return(t=tl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tl(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==te(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}var tc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tn(e,t)}(a,e);var t,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ti(a);return e=t?Reflect.construct(r,arguments,ti(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return to(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ta(to(e=o.call.apply(o,[this].concat(r))),"state",{isOpen:!1}),ta(to(e),"onClickButton",function(t){t.event.preventDefault(),e.handleFlyoutStatusChange()}),ta(to(e),"handleFlyoutStatusChange",function(t){e.setState(function(e){var r=e.isOpen;return{isOpen:t||!r}})}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.children,o=t.idealDirection,a=t.text,l=t.isHoverTooltip,c=t.isUseIconTooltip,s=t.isCustomizedHoverTooltip,u=void 0!==s&&s,d=this.state.isOpen,f=(0,_.jsx)(i.JO,{accessibilityLabel:"Help",color:"subtle",icon:"info-circle"}),p=u?(0,_.jsx)(i.xu,{onMouseEnter:function(){return e.handleFlyoutStatusChange(!0)},onMouseLeave:function(){return e.handleFlyoutStatusChange(!1)},children:f}):(0,_.jsx)(n.Fragment,{children:f}),m=(0,_.jsx)("span",{ref:function(t){e.anchor=t},role:"button",tabIndex:"0",children:void 0!==c&&c?(0,_.jsx)(n.Fragment,{children:p}):(0,_.jsx)(i.hU,{accessibilityLabel:this.props.i18n._('Help Text', '[m10n] Help Text', '[m10n] Help Text'),bgColor:"lightGray",icon:"question-mark",iconColor:"gray",onClick:this.onClickButton,size:"xs"})});return(0,_.jsx)(i.xu,{display:"inlineBlock",marginStart:2,children:void 0!==l&&l&&a?(0,_.jsx)(i.u,{inline:!0,text:a,children:m}):(0,_.jsxs)(n.Fragment,{children:[m,d&&(0,_.jsx)(i.J2,{anchor:this.anchor,color:"darkGray",idealDirection:o,onDismiss:function(){return e.setState({isOpen:!1})},children:(0,_.jsx)(i.xu,{padding:3,children:(0,_.jsx)(i.xv,{color:"inverse",size:u?"100":void 0,weight:u?void 0:"bold",children:a||r})})})]})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tl(n.key),n)}}(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function ts(e){var t=(0,d.ZP)();return(0,_.jsx)(tc,tr(tr({},e),{},{i18n:t}))}var tu=function(e){var t=e.fieldId,r=e.label,n=e.tooltip,o=e.tooltipIdealDirection,a=e.titleFontSize,l=e.titleIsBold,c=e.isHoverTooltip,s=e.isUseIconTooltip;return(0,_.jsx)(i.__,{htmlFor:t,children:(0,_.jsxs)(i.kC,{alignItems:"center",direction:"row",height:24,justifyContent:"start",children:[(0,_.jsx)(i.xv,{inline:!0,size:void 0===a?"200":a,weight:void 0!==l&&l?"bold":"normal",children:r}),n&&(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},children:(0,_.jsx)(ts,{idealDirection:void 0===o?"right":o,isHoverTooltip:void 0!==c&&c,isUseIconTooltip:void 0!==s&&s,text:n})})]})})};function td(e){var t=e.disabled,r=e.value,n=e.fieldId,o=e.label,a=e.placeholder,l=e.tooltip,c=e.tooltipIdealDirection,s=e.validateOnLoad,u=e.marginBottom,d=e.paddingY,f=void 0===d?2:d,p=e.titleFontSize,m=e.titleIsBold,h=e.handleDisplayErrorOutside,g=e.textFieldWidth,y=e.isHoverTooltip,v=e.isUseIconTooltip,b=e.errorMessage,P=e.loading,x=e.prefixTextFieldNode,S=!t||void 0!==s&&s&&b;h&&h(S?b:void 0);var j=(0,_.jsx)(i.nv,{disabled:t,errorMessage:b,id:n,onBlur:function(t){var r=t.value;return e.onBlur&&e.onBlur(r)},onChange:function(t){var r=t.value;e.onChange(r)},onFocus:function(t){var r=t.value;return e.onFocus&&e.onFocus(r)},placeholder:a,size:"lg",value:r});return(0,_.jsxs)(i.xu,{marginBottom:void 0===u?3:u,tabIndex:0,children:[o&&(0,_.jsx)(tu,{fieldId:n,isHoverTooltip:void 0!==y&&y,isUseIconTooltip:void 0!==v&&v,label:o,titleFontSize:void 0===p?"300":p,titleIsBold:void 0!==m&&m,tooltip:l,tooltipIdealDirection:c}),P?(0,_.jsx)(i.xu,{"data-test-id":"QuickPromoteTextFieldSpinner",paddingY:f,width:g,children:(0,_.jsx)(eq.Z,{})}):(0,_.jsxs)(i.xu,{direction:x?"row":void 0,display:x?"flex":void 0,paddingY:f,width:g,children:[x,x?(0,_.jsx)(i.xu,{children:j}):j]})]})}var tf=r(415787);function tp(){var e=(0,d.ZP)(),t=(0,L.I0)(),r=(0,H.v)().logContextEvent,n=(0,L.v9)(function(e){return(0,ex.nX)(e)}),i=(0,L.v9)(function(e){return(0,ex.Ex)(e)}),a=(0,L.v9)(function(e){return(0,ex.mu)(e)}),l=(0,L.v9)(function(e){return(0,ex.q_)(e)}),c=!n,s="";n&&(s=n.currency_code||n.currency?"(".concat(n.currency_code||n.currency,")"):"");var u="?is_auto_creative=true"===(0,o.k6)().location.search;return(0,_.jsx)(td,{disabled:!u&&!l,errorMessage:a,fieldId:"quickPromoteBudget",isHoverTooltip:!0,isUseIconTooltip:!0,label:(0,eE.Z)(e._('{{ budgetText }} budget {{ currencyCode }}', '[m10n] Short description of the budget input field with country appropriate currency. i.e., "Daily budget (USD)"', '[m10n] Short description of the budget input field with country appropriate currency. i.e., "Daily budget (USD)"'),{budgetText:e._('Daily', '[m10n] daily budget', '[m10n] daily budget'),currencyCode:s}),loading:c,onBlur:function(){r({event_type:4501,component:205,element:1324,aux_data:{page:"GestaltQuickPromote"}})},onChange:function(r){t((0,eP.mf)(r,e,null==n?void 0:n.country))},onFocus:function(){return(0,tf.nP)("QuickPromote.form.focus.budget",{sampleRate:1})},placeholder:e._('10', '[m10n]', '[m10n]'),tooltip:e._('The most you want to spend each day.', '[m10n] campaign daily budget description', '[m10n] campaign daily budget description'),tooltipIdealDirection:"up",value:i?"".concat(i):""})}function tm(e){return(tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?th(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tm(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tm(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):th(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ty=function(e){var t,r=e.error,i=e.quickPromoteChangeDestinationUrl,a=e.pin,l=(0,H.v)().logContextEvent,c=(0,d.ZP)(),s=(0,o.k6)(),u=null==a?void 0:a.link,f=null==a?void 0:a.id,p=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(u||""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return t_(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=p[0],h=p[1],g="?is_auto_creative=true"===s.location.search;return(0,n.useEffect)(function(){f&&h(u||"")},[f,u]),(0,_.jsx)(td,{disabled:!g&&!a,errorMessage:r,fieldId:"quickPromoteDestinationUrl",isHoverTooltip:!0,isUseIconTooltip:!0,label:c._('Destination URL', '[m10n]', '[m10n]'),onBlur:function(e){i(e),l({event_type:4501,component:205,element:1323,aux_data:{page:"GestaltQuickPromote"}})},onChange:function(e){h(e)},onFocus:function(){return(0,tf.nP)("QuickPromote.form.focus.destination_url",{sampleRate:1})},placeholder:c._('Where your Pin links to', '[m10n]', '[m10n]'),tooltip:c._('When someone clicks, they\u2019ll go to this URL (you can add tracking parameters).', '[m10n]', '[m10n]'),tooltipIdealDirection:"down",value:m})};function tv(e){var t=(0,d.ZP)(),r=(0,L.v9)(ex.B1),n=(0,L.v9)(ex.q_),o=(0,L.I0)();return(0,_.jsx)(ty,tg(tg({},e),{},{error:r,i18n:t,pin:n,quickPromoteChangeDestinationUrl:function(e){return o((0,eP.aI)(e,t))}}))}function tb(e){return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tx(){var e=(0,d.ZP)(),t=(0,L.I0)(),r=(0,n.useCallback)(function(r){t((0,eP.vt)(r,e))},[t,e]),i=(0,L.v9)(function(e){return ex.pw(e)}),a=(0,L.v9)(function(e){return ex.g9(e)}),l=(0,L.v9)(function(e){return ex.$O(e)}),c=(0,L.v9)(function(e){return ex.q_(e)}),s="?is_auto_creative=true"===(0,o.k6)().location.search,u={label:e._('Duration (days)', '[m10n]quickPromote.duration.title', 'label for ad duration field'),tooltip:e._('The length of time you want to run your ad for.', '[m10n] - tooltip for ad duration field', '[m10n] - tooltip for ad duration field'),disabled:!s&&!c||i,errorMessage:l,isHoverTooltip:!0,isUseIconTooltip:!0},p=i?"10":a||"";return(0,n.useEffect)(function(){r("10")},[i,r]),(0,_.jsx)(td,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tb(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tb(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({fieldId:"quickPromoteDuration",id:"duration",name:"duration",onChange:r,onFocus:function(){return(0,tf.nP)("QuickPromote.form.focus.duration",{sampleRate:1})},placeholder:(0,f.nk)(e._('{{placeholderValue}}', '[m10n]', '[m10n]'),{placeholderValue:"10"}).join(""),value:p},u))}var tS=r(642032),tj=r(590338),tO=r(206515),tw=r(700506),tA=r(755884);function tk(e){return(tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(t){tR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tC(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function tE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tz(e,t){return(tz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tD(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tM(e){return(tM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tR(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=function(e,t){if("object"!==tk(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tk(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tk(t)?t:String(t)}var tq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tz(e,t)}(a,e);var t,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tM(a);return e=t?Reflect.construct(r,arguments,tM(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===tk(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tD(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];return tR(tD(e=o.call.apply(o,[this].concat(r))),"generateAudienceSize",function(){var t=e.props,r=t.isQuickEdit,n=t.reachEstimateData,o=t.locale,i=n.data&&n.data.reachEstimate;return i?(0,tO.Z)(i,"reach",o||"",e.props.prettyNumberFormat,r):"-"}),tR(tD(e),"renderPlaceholder",function(t){return(0,_.jsx)(i.kC,{alignItems:"center",height:45,justifyContent:"start",children:e.props.isQuickPromoteRedesign&&t?(0,_.jsx)(eq.Z,{}):(0,_.jsx)(i.X6,{accessibilityLevel:"none",size:"400",children:"-"})})}),tR(tD(e),"renderAudienceSizeHeader",function(){var t=e.props,r=t.isQuickEdit,n=t.isQuickPromoteRedesign,o=t.location,a=t.targetingLocationOptions,l=r||n,c=n?e.props.i18n._('Potential monthly audience size', '[m10n] The header title for text describing monthly estimated audience size.', '[m10n] The header title for text describing monthly estimated audience size.'):e.props.i18n._('Potential audience size', '[m10n] The header text for text describing monthly estimated audience size.', '[m10n] The header text for text describing monthly estimated audience size.'),s=(0,tw.es)((0,D.mB)(o.search).countries,a),u=e.props.i18n._(' in these countries: ', 'quickpromote.statsSummary.country.plural.title', 'for partners who are promoting against country(s) that is not their locale'),d=e.props.i18n._(' in this country: ', 'quickpromote.statsSummary.country.singular.title', 'for partners who are promoting against country(s) that is not their locale'),f="";s&&(1===s.length?f=d.concat(s.join(", ")):s.length>1&&(f=u.concat(s.join(", "))));var p=e.props.i18n._('"Potential monthly audience size" estimates the number of accounts you may be able to reach per month with your campaign. It is based on historical advertising data and the targeting criteria you select. It does not guarantee results or take into account factors such as bid, budget, schedule, seasonality or product experiments.', '[m10n] quickpromote.mediaPlanning.audienceSizing', '[m10n] Help text that will be used for audience sizing estimates.');return a&&(0,_.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:-1,children:[(0,_.jsx)(i.xv,{color:l?"default":"subtle",inline:!0,size:"200",children:c.concat(f)}),(0,_.jsx)(i.xu,{display:"inlineBlock",marginStart:1,marginTop:1,children:(0,_.jsx)(ts,{idealDirection:"up",isCustomizedHoverTooltip:r,isHoverTooltip:n,isUseIconTooltip:l,text:p})})]})}),tR(tD(e),"renderAudienceSize",function(t){var r=e.props,o=r.isQuickEdit,a=r.isQuickPromoteRedesign;if(!r.locale)return e.renderPlaceholder();var l=a?(0,_.jsx)(n.Fragment,{children:t?(0,_.jsx)(i.X6,{accessibilityLevel:"none",size:"600",children:e.generateAudienceSize()}):e.renderPlaceholder(!0)}):(0,_.jsx)(i.X6,{accessibilityLevel:"none",size:"500",children:e.generateAudienceSize()}),c=(0,_.jsxs)(i.xv,{inline:!0,size:"200",weight:"bold",children:[e.generateAudienceSize()," ",e.props.i18n._('monthly active users', '[m10n] The footer text for text describing monthly estimated audience size.', '[m10n] The footer text for text describing monthly estimated audience size.')]}),s=(0,_.jsx)(i.xv,{color:"subtle",size:"100",weight:o?"bold":"normal",children:e.props.i18n._('Monthly active users', '[m10n] The footer text for text describing monthly estimated audience size.', '[m10n] The footer text for text describing monthly estimated audience size.')});return(0,_.jsxs)(i.kC,{direction:"column",justifyContent:"start",children:[e.renderAudienceSizeHeader(),(0,_.jsx)(i.xu,{marginBottom:o?1:2,marginTop:1,children:o?c:l}),!o&&!a&&s]})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.reachEstimateData,r=e.isQuickEdit,o=e.isQuickPromoteRedesign,a=!!(t.dataReady&&t.data);return a||o?r?(0,_.jsx)(i.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:this.renderAudienceSize()}):o?(0,_.jsx)(i.kC,{alignItems:"start",direction:"column",justifyContent:"between",children:(0,_.jsx)(i.xu,{marginTop:4,children:this.renderAudienceSize(a)})}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(i.iz,{}),(0,_.jsx)(i.xu,{alignItems:"start",direction:"row",display:"flex",marginTop:6,children:(0,_.jsx)(i.sg,{span:6,children:this.renderAudienceSize()})})]}):(0,_.jsx)(i.xu,{"data-test-id":"no-audience-estmation-data",height:100})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tB(n.key),n)}}(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function tL(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)({dataReady:!1}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tE(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],a=r[1],l=(0,d.ZP)(),c=(0,tj.Z)(),s=(0,C.F)().checkExperiment,u=e.targeting,f=e.locale,p=e.advertiserId,m=e.targetingLocationOptions,h=u||{},g=h.ages,y=h.genders,v=h.interests,b=(0,o.TH)(),P=(0,L.v9)(function(e){return e.quickPromote.isAutoTargeting});return(0,n.useEffect)(function(){if(p&&m){var e,t;(e=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,tw.es)((0,D.mB)(b.search).countries,m),r=f&&f.length>1?[f.slice(-2).toUpperCase()]:["US"],e.next=4,(0,U.Z)({url:"/ads/v4/advertisers/".concat(p,"/audience/sizing/"),method:"POST",data:{devices:tA.jz,ages:null!=g?g:[""],genders:null!=y?y:tS.m,interests_v2:v&&v.map(function(e){return e.topic_id})||[],timeframe:"MONTHLY",locations:t&&t.length>0?t:r,is_expanded_targeting:null==P||P}});case 4:a({data:function(e){function t(e){return e?{estimate:e.estimate,upperBound:e.upper_bound,lowerBound:e.lower_bound}:null}return{frequencyEstimate:t(e.frequency_estimate),reachEstimate:t(e.reach_estimate),unindexedAudienceIds:e.unindexed_audience_ids}}(e.sent.resource_response.data||{}),dataReady:!0});case 7:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){tC(i,n,o,a,l,"next",e)}function l(e){tC(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})()}},[p,g,y,v,P,f,m,b]),(0,_.jsx)(tq,tT(tT({},e),{},{checkExperiment:s,i18n:l,location:b,prettyNumberFormat:c,reachEstimateData:i}))}function tN(e){return(tN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tN(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tN(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tZ=function(e){var t=e.ages,r=e.advertiser,n=e.dailyBudget,o=e.duration,i=e.genders,a=e.interests,l=e.locale,c=e.isOngoing,s=e.isQuickPromoteRedesign,u=e.targetingLocationOptions,d=(0,E.B)().locale;return(0,_.jsx)(tL,{advertiserId:r&&r.id,budget:n,currencyCode:r&&r.currency,duration:o,isOngoing:c,isQuickPromoteRedesign:s,locale:l||d,targeting:{ages:t,genders:i,interests:a},targetingLocationOptions:u})};function tG(e){var t,r=(0,L.v9)(ex.nX),n=(0,L.v9)(ex.g9),o=(0,L.v9)(ex.Ex),i=(0,L.v9)(ex.pw),a=(0,L.v9)(ex.Kd),l=(0,L.v9)(ex.Wt),c=(0,L.v9)(ex.iw),s=(0,L.v9)(ex.n3),u=null===(t=(0,L.v9)(ex.uz))||void 0===t?void 0:t.LOCATION;return(0,_.jsx)(tZ,tU(tU({},e),{},{advertiser:r,ages:c,dailyBudget:o,duration:n,genders:s,interests:l,isOngoing:i,locale:a,targetingLocationOptions:u}))}var tH=(0,n.memo)(function(e){var t=e.checkboxDisabled,r=e.checkboxState,n=e.handleCheckboxChecked,o=e.labelName,a=e.title,l=e.tooltipText,c=e.tooltipAccessibilityLabel,s=e.tooltipDirection;return(0,_.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[n&&(0,_.jsx)(i.XZ,{checked:r,disabled:t,id:o,onChange:n,size:"sm"}),(0,_.jsx)(i.xu,{marginStart:2,children:(0,_.jsx)(i.__,{htmlFor:o,children:(0,_.jsx)(i.xv,{size:"200",children:a})})}),l&&c&&(0,_.jsx)(i.xu,{marginStart:2,zIndex:new i.Ry(1),children:(0,_.jsx)(i.u,{idealDirection:s,text:l,children:(0,_.jsx)("span",{role:"button",tabIndex:"0",children:(0,_.jsx)(i.JO,{accessibilityLabel:c,color:"subtle",icon:"info-circle"})})})})]})});function tQ(e){return(tQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tW(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tQ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tQ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tQ(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tV=function(e){var t=e.isOngoing,r=e.quickPromoteChangeIsOngoing,n=e.duration,o=(0,d.ZP)();return(0,_.jsx)(i.xu,{marginBottom:5,children:(0,_.jsx)(tH,{checkboxState:t,handleCheckboxChecked:function(){return r(!t,n)},labelName:"continuous-ad",title:o._('Run continuously', '[m10n] - label for checkbox to run ad continuously', '[m10n] - label for checkbox to run ad continuously')})})};function tX(e){var t=(0,d.ZP)(),r=(0,L.v9)(ex.pw),n=(0,L.v9)(ex.g9),o=(0,L.I0)();return(0,_.jsx)(tV,tK(tK({},e),{},{duration:n,isOngoing:r,quickPromoteChangeIsOngoing:function(e,r){return o((0,eP.xM)(e,r,t))}}))}var tY=r(686162),t$=function(e){var t=e.qpBannerText;return(0,_.jsxs)(i.xu,{alignItems:"center",color:"successWeak",display:"flex",height:64,justifyContent:"start",marginTop:4,rounding:3,width:"100%",children:[(0,_.jsx)(i.xu,{alignSelf:"start",margin:3,children:(0,_.jsx)(i.JO,{accessibilityLabel:"dollar",color:"success",dangerouslySetSvgPath:{__path:tY.Z},size:16})}),(0,_.jsx)(i.xu,{padding:2,children:(0,_.jsx)(i.xv,{size:"200",children:t})})]})},tJ=r(559656),t0=r(192373),t1=r(979848),t3=r(679482),t2=r(715824);function t6(e){return(t6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t4(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t5(e,t,r){var n;return(n=function(e,t){if("object"!==t6(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t6(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===t6(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var t9=function(e){var t,r=0===e?"Left":"Right";return t5(t={},"borderTop".concat(r,"Radius"),"6px"),t5(t,"borderBottom".concat(r,"Radius"),"6px"),t},t7=function(e){var t,r=e.index,o=e.isSelected,a=e.item,l=e.onButtonClick,c=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return t4(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t4(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=c[0],u=c[1],d=a.path,f=a.label,p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(t){t5(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({border:"0",boxSizing:"border-box",boxShadow:s?"0px 0px 0px 4px rgb(0 132 255 / 50%)":"",backgroundColor:o?"white":"#efefef",height:40,marginRight:0===r?"4px":"0",outline:"0",transition:"background-color 400ms linear",width:47},t9(r));return(0,_.jsx)("button",{"aria-selected":o,onBlur:function(){return u(!1)},onClick:function(e){return l({event:e,activeIndex:r})},onFocus:function(){return u(!0)},role:"tab",style:p,type:"button",children:(0,_.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,_.jsxs)("svg",{"aria-label":f,fill:"none",height:16,role:"img",viewBox:"0 0 16 16",width:16,children:[(0,_.jsx)("g",{clipPath:"url(#clip".concat(r,")"),children:(0,_.jsx)("path",{clipRule:"evenodd",d:d,fill:o?"#333333":"#767676",fillRule:"evenodd"})}),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",{id:"clip".concat(r),children:(0,_.jsx)("rect",{fill:"white",height:"16",width:"16"})})})]})})})};function re(e){var t=e.items,r=e.onChange,n=e.selectedItemIndex,o=void 0===n?0:n,a=function(e){var t=e.event,n=e.activeIndex;t.stopPropagation(),r(n)};return(0,_.jsx)(i.xu,{alignItems:"center",borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ddd"}},direction:"row",display:"flex",justifyContent:"center",role:"tablist",rounding:2,children:t.map(function(e,t){var r=t===o;return(0,_.jsx)(t7,{index:t,isSelected:r,item:e,onButtonClick:a},t)})})}var rt=r(697154),rr=r(25280);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(r),!0).forEach(function(t){rs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ra(e,t){return(ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rl(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rc(e){return(rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rs(e,t,r){return(t=ru(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ru(e){var t=function(e,t){if("object"!==rn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rn(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rn(t)?t:String(t)}function rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rf=function(){var e=(0,d.ZP)();return(0,_.jsx)(i.$j,{accessibilityLabel:e._('Loading Pick Pin Sheet...', '[m10n] quickPromote.pickPinSheet.a11y.loading', '[m10n] a11y label for the Loading spinner on Quick Promote pick Pin Sheet'),show:!0})},rp=(0,eL.Z)(function(){return Promise.all([r.e(11256),r.e(73955)]).then(r.bind(r,467731))},void 0,"QuickPromoteMobilePreview"),rm=(0,eL.Z)(function(){return r.e(11256).then(r.bind(r,718226))},void 0,"PromotedPinPreview"),rh=function(e){return{borderColor:({error:tJ.x_d,initial:"#ddd"})[e?"error":"initial"]}},rg=function(e){var t,r=e.onTap,o=(0,d.ZP)(),a=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rd(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rd(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],c=a[1];return(0,_.jsx)(i.xu,{display:"inlineBlock",children:(0,_.jsx)(i.iP,{onBlur:function(){return c(!1)},onFocus:function(){return c(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onTap:r,children:(0,_.jsx)(i.xv,{color:"error",inline:!0,size:"100",underline:l,weight:"bold",children:o._('select a different Pin.', '[m10n]quickPromote.pin.errorCTA', 'CTA message to ask the user to select a different Pin')})})})},r_=function(e){var t=e.onTap,r=e.errorMessage,n=(0, d.ZP)()._('Please', 'quickPromote.quickPromotePinPreview.please', 'The word "please" to be concatenated with the server error message');return(0,_.jsxs)(i.xu,{marginEnd:2,marginStart:2,marginTop:2,children:[(0,_.jsx)(i.xv,{color:"error",inline:!0,size:"100",children:"".concat(r," ").concat(n," ")}),(0,_.jsx)(rg,{onTap:t})]})},ry=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ra(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=rc(o);return e=t?Reflect.construct(r,arguments,rc(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===rn(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return rl(e)}(this,e)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),rs(rl(t=n.call(this,e)),"updateModeState",function(){t.setState({selectedModeIndex:1})}),rs(rl(t),"handlePinSelectionButtonClick",function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],r=t.props,n=r.advertiserId,o=r.logContextEvent,i=r.togglePickPinSheet,a=r.isAutoCreative;n&&(o({event_type:e?101:13,view_type:a?593:388,view_parameter:3365,component:13497,element:11629}),i(!0))}),rs(rl(t),"handlePinImageClick",function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],r=t.props,n=r.advertiserId,o=r.logContextEvent,i=r.togglePickPinSheet;n&&(o({event_type:e?101:13,view_type:388,view_parameter:3365,component:13497,element:11404}),i(!0))}),rs(rl(t),"handlePreviewModeChange",function(e){t.props.logContextEvent({event_type:101,view_type:388,view_parameter:3365,component:13497,element:11628}),t.setState({selectedModeIndex:e})}),rs(rl(t),"renderPinPreviewCore",function(){var e=t.props,r=e.reduxStatePin,n=e.serverErrorMessage,o=t.state.selectedModeIndex,a=(0,rr.u7)(r,o),l=(0,rr.Uy)(r,a),c=r&&(r.images&&r.images["236x"]||r.images&&r.images["474x"]||r.images&&r.images["736x"]||r.images&&r.images.orig)||void 0,s=rh(!!n),u=c&&void 0!==c.height&&c.height>rr.kO?Math.floor(.75*rr.oL):void 0,d=rr.kO;switch(a){case rr.Xc.DESKTOP:return(0,_.jsx)(Q.Z,{name:"SafeSuspense_QuickPromotePinPreview_PromotedPinPreview",children:(0,_.jsx)(eC.Z,{children:(0,_.jsx)(i.iP,{onTap:function(){return t.handlePinImageClick()},children:(0,_.jsx)(i.xu,{borderStyle:"lg",color:"default",dangerouslySetInlineStyle:{__style:s},"data-test-id":"promoted-pin-web-preview",rounding:2,width:rr.oL,children:(0,_.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:"4px"}},display:"flex",height:rr.iO,justifyContent:"center",children:(0,_.jsx)(rm,{fallback:(0,_.jsx)(rf,{}),height:l?d:void 0,pin:r,width:l?u:void 0})})})})})});case rr.Xc.MOBILE:return(0,_.jsx)(Q.Z,{name:"SafeSuspense_QuickPromotePinPreview_QuickPromoteMobilePreview",children:(0,_.jsx)(eC.Z,{children:(0,_.jsx)(i.xu,{"data-test-id":"promoted-pin-mobile-preview",children:(0,_.jsx)(i.iP,{onTap:function(){return t.handlePinImageClick()},children:(0,_.jsx)(i.kC,{alignItems:"center",height:rr.Ef,justifyContent:"center",children:(0,_.jsx)(rp,{fallback:(0,_.jsx)(rf,{}),handleEmptyPinPreviewTouch:t.handlePinSelectionButtonClick,height:rr.Ef,pin:r,width:rr.oL})})})})})});default:return(0,_.jsx)(rt.Z,{handleEmptyPinPreviewTouch:t.handlePinSelectionButtonClick})}}),rs(rl(t),"renderErrorMessage",function(){var e=t.props.serverErrorMessage;return e?(0,_.jsx)(r_,{errorMessage:e,onTap:function(){return t.handlePinSelectionButtonClick()}}):null}),rs(rl(t),"renderPinPreviewFooter",function(){var e=t.props,r=e.productGroup,n=rh(!!e.serverErrorMessage);return(0,_.jsxs)(i.xu,{display:"flex",justifyContent:r?"end":"between",marginTop:r?0:4,children:[!r&&(0,_.jsx)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:(0,_.jsx)(re,{items:(0,rr.rk)(t.props.i18n),onChange:t.handlePreviewModeChange,selectedItemIndex:t.state.selectedModeIndex})}),(0,_.jsx)(i.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:n},marginStart:12,rounding:"circle",children:(0,_.jsx)(i.u,{inline:!0,text:t.props.i18n._('Select a Pin', '[m10n] tooltiop for select pin button on pin preview of quick promote', '[m10n] tooltiop for select pin button on pin preview of quick promote'),children:(0,_.jsx)(i.hU,{accessibilityLabel:t.props.i18n._('Select a Pin', '[m10n] accessibility label for select pin button on pin preview of quick promote', '[m10n] accessibility label for select pin button on pin preview of quick promote'),bgColor:"white",dataTestId:"edit-select-pin-button",icon:"edit",iconColor:"darkGray",onClick:function(){return t.handlePinSelectionButtonClick()},size:"md"})})})]})}),rs(rl(t),"getDisplayText",function(){var e=(X.ZP.getItem("title")||"").trim(),t=(X.ZP.getItem("details")||"").trim();return(0,t2.ZP)(e||t,60)}),rs(rl(t),"renderAutoCreativeTemplatePreview",function(){var e={productPinImgUrl:X.ZP.getItem("productPinImgUrl"),productPinImgColorTheme:X.ZP.getItem("productPinImgColorTheme"),logoUrl:X.ZP.getItem("logoUrl"),businessVertical:X.ZP.getItem("businessVertical"),businessGoals:X.ZP.getItem("businessGoals"),productPinImgBbox:X.ZP.getItem("productPinImgBbox")},r=t.getDisplayText(),n=t.props.viewer,o=n.isAuth?n.fullName:"",a=n.isAuth?n.imageSmallUrl:"";return(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(t0.Z,ri(ri({ref:t.props.setRef},e),{},{pinRepWidth:rr.oL,viewType:593})),n.fullName&&(0,_.jsx)(t1.xT,{name:n.fullName}),r.length>0&&(0,_.jsx)(i.xu,{maxWidth:t3.yF,padding:n?1:void 0,paddingX:n?void 0:1,paddingY:n?void 0:4,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:r})}),n&&(0,_.jsx)(t1.cX,{avatarUrl:a,businessName:o})]})}),t.state={selectedModeIndex:1},t}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAutoCreative;(0,e.logContextEvent)(t?{event_type:13,view_type:593,view_parameter:3365,component:13497}:{event_type:13,view_type:388,view_parameter:3365,component:13497})}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.advertiserId,n=t.advertiser,o=t.isFromSterling,i=t.hasPinIdQueryString,a=t.reduxStatePin,l=t.productGroup,c=t.resetFormData,s=t.showGDPRModal,u=t.quickPromoteSetDataInitialFormData,d=t.requestContext,f=t.isAutoCreative,p=t.inQPDeprecationBannerModalExp;(a!==e.reduxStatePin||l!==e.productGroup)&&(this.updateModeState(),(a&&e.reduxStatePin&&e.reduxStatePin.id||l&&e.productGroup)&&c());var m=r!==e.advertiserId&&r&&[null,void 0].includes(e.advertiserId),h=n&&n.accepted_terms||[];n&&o&&!(0,F.NY)(h)?s():!m||i||this.props.isAutoCreative||p||this.handlePinSelectionButtonClick(!1),f&&(n!==e.advertiser||d!==e.requestContext)&&u(n,d)}},{key:"render",value:function(){var e=this.props.productGroup;return(0,_.jsx)(i.xu,{children:e?(0,_.jsx)(i.xu,{children:(0,_.jsxs)(i.xu,{color:"default",direction:"column",display:"flex",justifyContent:"between",marginBottom:1,padding:4,rounding:2,width:rr.oL,children:[this.renderErrorMessage(),this.renderPinPreviewFooter()]})}):(0,_.jsxs)(i.xu,{color:"default",direction:"column",display:"flex",justifyContent:"between",marginBottom:1,padding:4,rounding:2,width:rr.d2,children:[this.props.isAutoCreative?this.renderAutoCreativeTemplatePreview():this.renderPinPreviewCore(),this.renderErrorMessage(),this.renderPinPreviewFooter()]})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ru(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);function rv(e){var t=(0,H.v)().logContextEvent,r=(0,d.ZP)(),n=(0,o.k6)(),i=(0,m.Z)(),a=(0,E.B)(),l="?is_auto_creative=true"===n.location.search,c={link:X.ZP.getItem("link")},s=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.advertiserId}),u=(0,L.v9)(ex.nX),f=(0,L.v9)(ex.q_),p=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.productGroup}),h=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.productGroupImage}),g=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.hasValidBillingProfile}),y=(0,L.v9)(function(e){return(0,ex.JQ)(e,"pin")}),v=(0,L.I0)();return(0,_.jsx)(ry,ri(ri({},e),{},{advertiser:u,advertiserId:s,i18n:r,isAutoCreative:l,logContextEvent:t,productGroup:p,productGroupImage:h,quickPromoteSetDataInitialFormData:function(e,t){v((0,eP.PC)((0,F.C5)({advertiserId:e&&e.id,country:t.country,pin:c,quickPromote:{data:{advertiser_id:e&&e.id,has_valid_billing_profile:g},dataReady:!0},locale:t.locale},r)))},reduxStatePin:f,requestContext:a,resetFormData:function(){v((0,eP.uN)()),v((0,eP.iw)(!0))},serverErrorMessage:y,showGDPRModal:function(){v((0,eP.Wd)())},togglePickPinSheet:function(){v((0,eP.Xx)(!0))},viewer:i}))}function rb(e){return function(e){if(Array.isArray(e))return rP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rP(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rP(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rx={CHECKED:"CHECKED",INDETERMINATE:"INDETERMINATE",UNCHECKED:"UNCHECKED"},rS=function(e){var t=e.id;return(e.flattenedInterests||[]).filter(function(e){return e.parent_topic_id===t})},rj=function(e){var t=[];return!function e(r){var n=r.children;n&&0!==Object.values(n).length&&(r.children&&Object.values(r.children)||[]).forEach(function(r){t.push(r.topic_id),e(r)})}(e),t},rO=function(e){for(var t=e.interestId,r=rb(Object.values(e.interestsTree));r.length>0;){var n=r.pop();if(n.topic_id===t)return n;n.children&&r.push.apply(r,rb(Object.values(n.children)))}},rw=function(e){var t=e.topicId,r=e.checkedInterests,n=e.indeterminateInterests.has(t),o=r.has(t);return{isIndetermindate:n,isChecked:o,isUnchecked:!n&&!o}},rA=function(e){var t=e.option,r=e.checked,n=e.isParent,o=e.checkedInterests,i=e.indeterminateInterests,a=e.flattenedInterests,l=rw({topicId:t.topic_id,checkedInterests:o,indeterminateInterests:i}),c=l.isIndetermindate,s=l.isChecked,u=l.isUnchecked,d=rx.UNCHECKED;if(void 0!==n&&n){var f=rS({id:t.topic_id,flattenedInterests:a});if(f&&f.length){var p=0,m=0;f.forEach(function(e){var t=rw({topicId:e.topic_id,checkedInterests:o,indeterminateInterests:i}),r=t.isChecked,n=t.isIndetermindate;r?p+=1:n&&(m+=1)});var h=p===f.length,g=0===p&&0===m;h?d=rx.CHECKED:h||g?g&&(d=rx.UNCHECKED):d=rx.INDETERMINATE}return d}return u&&r?d=rx.CHECKED:s&&!r?d=rx.UNCHECKED:c&&(d=rx.CHECKED),d},rk=function(e){var t=e.savedInterests;return e.flattenedInterests.filter(function(e){return t.has(e.topic_id)})},rI=function(e){var t=e.option,r=e.checked,n=e.isParent,o=e.checkedInterests,i=e.indeterminateInterests,a=e.saveInterests,l=e.flattenedInterests,c=t.topic_id,s=rj(t),u=rS({id:c,flattenedInterests:l});switch(rA({option:t,checked:r,isParent:void 0!==n&&n,checkedInterests:o,indeterminateInterests:i,flattenedInterests:l})){case rx.CHECKED:o.add(c),i.delete(c),a.add(c),s.forEach(function(e){o.add(e),i.delete(e),a.delete(e)});break;case rx.INDETERMINATE:i.add(c),o.delete(c),a.delete(c),u.forEach(function(e){o.has(e.topic_id)&&a.add(e.topic_id)});break;default:o.delete(c),i.delete(c),a.delete(c),s.forEach(function(e){o.delete(e),i.delete(e),a.delete(e)})}return{checkedInterests:o,indeterminateInterests:i,saveInterests:a}},rT=r(739236);function rC(e){return(rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(t){rL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rR(e,t){return(rR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rB(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(e){return(rq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rL(e,t,r){return(t=rN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rN(e){var t=function(e,t){if("object"!==rC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rC(t)?t:String(t)}var rF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rR(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=rq(o);return e=t?Reflect.construct(r,arguments,rq(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===rC(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return rB(e)}(this,e)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),rL(rB(t=n.call(this,e)),"checkedInterests",new Set),rL(rB(t),"indeterminateInterests",new Set),rL(rB(t),"saveInterests",new Set),rL(rB(t),"handleMappingSearchResultToTreeNode",function(){var e=t.props.reduxStateInterests;e.forEach(function(r,n){t.handleInterestItemSelected({option:r,checked:!0,shouldSaveToRedux:!1,shouldForceRender:n===e.length-1})})}),rL(rB(t),"handleParentNode",function(e,r){if(e){var n=e.parent_topic_id;if(n&&"-1"!==n){var o=rO({interestId:e.parent_topic_id,interestsTree:t.interestsTree||{}});if(o){var i=rI({option:o,checked:r,isParent:!0,checkedInterests:t.checkedInterests,indeterminateInterests:t.indeterminateInterests,saveInterests:t.saveInterests,flattenedInterests:t.flattenedInterests}),a=i.checkedInterests,l=i.indeterminateInterests,c=i.saveInterests;t.checkedInterests=a,t.indeterminateInterests=l,t.saveInterests=c,t.handleParentNode(o,r)}}}}),rL(rB(t),"handleInterestItemSelected",function(e){var r=t.props,n=r.quickPromoteSetInterests,o=r.logContextEvent,i=e.option,a=e.checked,l=e.shouldForceRender,c=e.shouldSaveToRedux,s=rI({option:i,checked:a,isParent:!1,checkedInterests:t.checkedInterests,indeterminateInterests:t.indeterminateInterests,saveInterests:t.saveInterests,flattenedInterests:t.flattenedInterests}),u=s.checkedInterests,d=s.indeterminateInterests,f=s.saveInterests;if(t.checkedInterests=u,t.indeterminateInterests=d,t.saveInterests=f,t.handleParentNode(i,a),void 0===l||l){t.forceUpdate();var p=rk({savedInterests:t.saveInterests,flattenedInterests:t.flattenedInterests});(void 0===c||c)&&(o({event_type:101,view_type:388,view_parameter:3365,component:13503,element:11635}),n(p))}}),rL(rB(t),"handleExpandButtonClick",function(e){t.setState(function(t){var r=new Set(t.expandedInterest);return r.has(e)?r.delete(e):r.add(e),{expandedInterest:r}})}),rL(rB(t),"renderOption",function(e){var r=t.state.expandedInterest,n=e.optionKey,o=e.optionValue,a=e.index,l=e.isTopLevel;if(!n||!o)return null;var c={__style:{backgroundColor:a%2==0?"white":"#f9f9f9"}},s=1===o.level,u=o.topic_id,d=u&&r.has(u),f=t.checkedInterests.has(u),p=t.indeterminateInterests.has(u),m=function(){return(0,_.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:s?c:{},direction:"row",display:"flex",height:30,paddingY:1,children:[(0,_.jsx)(i.XZ,{checked:f,id:"quickPromoteInterestTargetingChildNode_".concat(u),indeterminate:p,name:"quickPromoteInterestTargetingChildNode_".concat(u),onChange:function(e){var r=e.checked;return t.handleInterestItemSelected({option:o,checked:r})},size:"sm"}),(0,_.jsx)(i.xu,{marginStart:2,children:(0,_.jsx)(i.__,{htmlFor:"quickPromoteInterestTargetingChildNode_".concat(u),children:(0,_.jsx)(i.xv,{color:"default",children:n})})})]},"interest_targeting_child_node_".concat(u))};return o.children&&Object.keys(o.children).length>0?(0,_.jsxs)(i.xu,{dangerouslySetInlineStyle:s?c:{},direction:"column",display:"flex",marginStart:-12,paddingY:void 0!==l&&l?1:void 0,children:[(0,_.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,_.jsx)(i.xu,{marginEnd:2,marginStart:2,children:(0,_.jsx)(i.hU,{accessibilityLabel:t.props.i18n._('Button that expands an interest into sub interests', '[m10n] Accessibility label for button that expands an interest into sub interests.', '[m10n] Accessibility label for button that expands an interest into sub interests.'),icon:d?"arrow-down":"arrow-forward",iconColor:"gray",onClick:function(){return t.handleExpandButtonClick(u)},size:"sm"})}),m()]}),d&&(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #eee",paddingLeft:"40px",marginTop:"5px"}},direction:"column",display:"flex",marginStart:6,children:o.children&&Object.entries(o.children).map(function(e,r){var n=rD(e,2),o=n[0],i=n[1];return t.renderOption({optionKey:o,optionValue:i,index:r})})})]},"interest_targeting_parent_node_".concat(u)):m()}),t.state={expandedInterest:new Set},t}return r=[{key:"componentDidMount",value:function(){this.props.logContextEvent({event_type:13,view_type:388,view_parameter:3365,component:13505}),this.handleMappingSearchResultToTreeNode()}},{key:"interestsTree",get:function(){var e=this.props.targetingOptions;return e&&e.INTEREST&&e.INTEREST.interestsTree||void 0}},{key:"flattenedInterests",get:function(){var e=this.props.targetingOptions;return e&&e.INTEREST&&e.INTEREST.flattenedInterests||[]}},{key:"render",value:function(){var e=this;return(0,_.jsx)(i.xu,{marginStart:12,children:this.interestsTree?Object.entries(this.interestsTree).map(function(t,r){var n=rD(t,2),o=n[0],i=n[1];return e.renderOption({optionKey:o,optionValue:i,index:r,isTopLevel:!0})}):null})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rN(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component),rU=(0,rT.H)(function(e){var t=(0,H.v)().logContextEvent,r=(0,d.ZP)();return(0,_.jsx)(rF,rz(rz({},e),{},{i18n:r,logContextEvent:t}))});function rZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rG(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rG(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rH=(0,eL.Z)(function(){return r.e(39671).then(r.bind(r,741483))},void 0,"QuickPromoteTargetingInterestSearchResult"),rQ=(0,rT.H)(function(e){var t,r=e.reduxStateInterests,a=e.targetingOptions,l=e.quickPromoteSetInterests,c=(0,H.v)().logContextEvent,s=(0,d.ZP)(),u=rZ((0,n.useState)(""),2),f=u[0],p=u[1],m=(0,o.TH)(),h=(0,D.mB)(m.search).interestId,g=rZ((0,n.useState)(h?"custom":"all"),2),y=g[0],v=g[1];(0,n.useEffect)(function(){c({event_type:13,view_type:388,view_parameter:3365,component:13503})},[c]);var b=a&&a.INTEREST&&a.INTEREST.flattenedInterests||void 0,P=function(){c({event_type:101,view_type:388,view_parameter:3365,component:13503,element:11631}),l([]),v("all")};return b&&b.length>0?(0,_.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,_.jsx)(i.iz,{}),(0,_.jsx)(i.xv,{color:"default",size:"200",children:s._('Interests', '[m10n] quickPromote.QuickPromoteTargetingRedesign.SectionTitle', '[m10n] Header text for quick promote targeting section.')}),(0,_.jsxs)(i.FX,{id:"audience-targeting-section-title",legend:"interests",legendDisplay:"hidden",children:[(0,_.jsx)(i.FX.RadioButton,{checked:"all"===y,id:"interest-targeting-all",label:s._('All interests', '[m10n] QuickPromote.TargetingRedesign.interest.all', '[m10n] All interests as an option for interest targeting'),name:"interests",onChange:function(){return P()},size:"sm",value:"all"}),(0,_.jsx)(i.FX.RadioButton,{checked:"custom"===y,id:"custom-targeting-interest",label:s._('Pick specific interests', '[m10n] QuickPromote.TargetingRedesign.interest.pickSpecific', '[m10n] Option for user to choose specific interests for interest targeting'),name:"interests",onChange:function(){v("custom"),c({event_type:101,view_type:388,view_parameter:3365,component:13503,element:13384})},size:"sm",value:"custom"})]}),"custom"===y&&(0,_.jsxs)(i.xu,{children:[(t=r&&r.length||0,"all"===y?null:(0,_.jsx)(tH,{labelName:"quickPromoteInterestTargetingCheckbox",title:0===t?s._('0 interest selected', '[m10n] quickPromote.targeting.interests.numberOfInterests.zero', '[m10n] zero interest targeting selected explanation on quick promote'):(0,eE.Z)(s.ngettext('{{ numberOfInterests }} interest selected', '{{ numberOfInterests }} interests selected', t, '[m10n] quickPromote.targeting.interests.numberOfInterests', '[m10n] numbers of interest targeting selected on quick promote'),{numberOfInterests:t})})),(0,_.jsx)(i.xu,{borderStyle:"sm",marginBottom:1,marginTop:2,rounding:2,children:b?(0,_.jsxs)(i.kC,{alignItems:"stretch",direction:"column",height:385,justifyContent:"start",children:[(0,_.jsx)(i.xu,{padding:4,children:(0,_.jsx)(i.Um,{accessibilityLabel:s._('Search interests', '[m10n] quickPromote.targeting.interests.search.acessibilityLabel', '[m10n] interest targeting search placeholder accessibility label'),id:"interestSearch",onChange:function(e){return p(e.value)},placeholder:s._('Search all interests', '[m10n] quickPromote.targeting.interests.search.placeholder', '[m10n] interest targeting search placeholder'),size:"lg",value:f})}),(0,_.jsx)(i.xu,{direction:"column",display:"flex",overflow:"scrollY",paddingX:f.length?4:void 0,children:f.length?(0,_.jsx)(Q.Z,{name:"QuickPromoteTargetingInterest_QuickPromoteTargetingInterestSearchResult",children:(0,_.jsx)(rH,{searchValue:f})}):(0,_.jsx)(rU,{})})]}):null})]})]}):null}),rW=r(954243);function rK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||rV(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rV(e,t){if(e){if("string"==typeof e)return rX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rX(e,t)}}function rX(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rY=(0,rT.H)(function(e){var t,r=e.isNarrowWindow,o=e.targetingOptions,a=e.quickPromoteSetAges,l=(0,H.v)().logContextEvent,c=(0,d.ZP)(),s=rK((0,n.useState)([]),2),u=s[0],f=s[1],p=rK((0,n.useState)("all"),2),m=p[0],h=p[1],g=(null===(t=(0,E.B)().advertiser)||void 0===t?void 0:t.country)===1;(0,n.useEffect)(function(){l({event_type:13,view_type:388,view_parameter:3365,component:13501})},[l]);var y=function(e){l({event_type:101,view_type:388,view_parameter:3365,component:13501,element:11636});var t=(0,tw.$n)(u,e);f(function(e){if(Array.isArray(e))return rX(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||rV(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a(t)},v=function(){l({event_type:101,view_type:388,view_parameter:3365,component:13501,element:11632}),a([]),f([]),h("all")},b=function(){l({event_type:101,view_type:388,view_parameter:3365,component:13501,element:13385}),f([]),h("custom")},P=function(){l({event_type:101,view_type:388,view_parameter:3365,component:13501,element:11634}),h(rW.jY),f([rW.jY]),a([rW.jY])};return o&&o.AGE_BUCKET&&Object.keys(o.AGE_BUCKET).length>0?(0,_.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,_.jsx)(i.iz,{}),(0,_.jsx)(i.xv,{color:"default",size:"200",children:c._('Age', '[m10n] quickPromote.QuickPromoteTargetingRedesign.SectionTitle', '[m10n] Header text for quick promote targeting section.')}),(0,_.jsxs)(i.FX,{id:"audience-targeting-section-title",legend:"age",legendDisplay:"hidden",children:[(0,_.jsx)(i.FX.RadioButton,{checked:"all"===m,id:"age-targeting-all",label:c._('All ages', '[m10n] QuickPromote.TargetingRedesign.ages.all', '[m10n] All ages as an option for age targeting'),name:"ages",onChange:function(){return v()},size:"sm",value:"all"}),g?(0,_.jsxs)(i.kC,{direction:"row",gap:2,children:[(0,_.jsx)(i.FX.RadioButton,{checked:m===rW.jY,id:"custom-targeting-21+",label:c._('21+', '[m10n] QuickPromote.TargetingRedesign.ages.21+', '[m10n] Over 21 as an option for age targeting'),name:"ages",onChange:function(){return P()},size:"sm",value:rW.jY}),(0,_.jsx)(i.u,{accessibilityLabel:"",idealDirection:"right",inline:!0,text:c._('Required for age-restricted advertising', '[m10n] QuickPromote.TargetingRedesign.ages.21+.tooltip', '[m10n] 21+ age targeting tooltip on quick promote'),children:(0,_.jsx)(i.JO,{accessibilityLabel:"21+",color:"subtle",icon:"info-circle",inline:!0,size:14})})]}):null,(0,_.jsx)(i.FX.RadioButton,{checked:"custom"===m,id:"custom-targeting-age",label:c._('Pick specific ages', '[m10n] QuickPromote.TargetingRedesign.ages.pickSpecific', '[m10n] Option for user to choose specific ages for age targeting'),name:"ages",onChange:function(){return b()},size:"sm",value:"custom"})]}),"custom"===m&&(0,_.jsx)(i.xu,{borderStyle:"sm",marginBottom:1,marginTop:2,padding:4,rounding:2,children:function(){if(!o||!o.AGE_BUCKET)return null;var e=Object.keys(o.AGE_BUCKET).filter(function(e){return!rW.Sq.includes(e)}).sort();return(0,_.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",width:r?tw.re:tw.uB,wrap:!0,children:e.map(function(e,t){return(0,_.jsxs)(i.xu,{alignItems:"center",display:"flex",marginTop:t>3?3:void 0,width:r?80:110,children:[(0,_.jsx)(i.XZ,{checked:m===rW.jY||u.includes(e),disabled:m===rW.jY,id:"quickPromoteAgeTargetingChildNode_".concat(e),indeterminate:e===rW.ny&&m===rW.jY,name:"quickPromoteAgeTargetingChildNode_".concat(e),onChange:function(){return y(e)},size:"sm"}),(0,_.jsx)(i.xu,{marginStart:2,children:(0,_.jsx)(i.__,{htmlFor:"quickPromoteAgeTargetingChildNode_".concat(e),children:(0,_.jsx)(i.xv,{color:"default",children:e})})})]},"age_option_".concat(e))})})}()})]}):null});function r$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||rJ(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rJ(e,t){if(e){if("string"==typeof e)return r0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r0(e,t)}}function r0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var r1=(0,rT.H)(function(e){var t=e.targetingOptions,r=e.quickPromoteSetGenders,o=(0,H.v)().logContextEvent,a=(0,d.ZP)(),l=r$((0,n.useState)("all"),2),c=l[0],s=l[1],u=r$((0,n.useState)([]),2),f=u[0],p=u[1];(0,n.useEffect)(function(){o({event_type:13,view_type:388,view_parameter:3365,component:13502})},[o]);var m=function(e){o({event_type:101,view_type:388,view_parameter:3365,component:13502,element:11637});var t,n=function(e){if(Array.isArray(e))return r0(e)}(t=(0,tw.$n)(f,e))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||rJ(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();p(n),r(n)},h=function(){o({event_type:101,view_type:388,view_parameter:3365,component:13502,element:11633}),r([]),s("all"),p([])},g=t&&t.GENDER&&Object.keys(t.GENDER).sort(),y={male:a._('Male', '[m10n]quickPromotePage.targetingRedesign.targeting.gender.male', '[m10n] text of male of gender targeting in quick promote page'),female:a._('Female', '[m10n]quickPromotePage.targetingRedesign.targeting.gender.female', '[m10n] text of female of gender targeting in quick promote page'),unknown:a._('Unspecified', '[m10n]quickPromotePage.targetingRedesign.targeting.gender.unspecified', '[m10n] text of unspecified of gender targeting in quick promote page')};return g&&g.length>0?(0,_.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,_.jsx)(i.iz,{}),(0,_.jsx)(i.xv,{color:"default",size:"200",children:a._('Gender', '[m10n] quickPromote.targetingRedesign.SectionTitle.Gender', '[m10n] Header text for quick promote targeting section for gender.')}),(0,_.jsxs)(i.FX,{id:"audience-targeting-section-title",legend:"gender",legendDisplay:"hidden",children:[(0,_.jsx)(i.FX.RadioButton,{checked:"all"===c,id:"gender-targeting-all",label:a._('All genders', '[m10n] QuickPromote.targetingRedesign.gender.chooseYourOwn', '[m10n] All genders as an option for gender targeting'),name:"gender",onChange:function(){return h()},size:"sm",value:"all"}),(0,_.jsx)(i.FX.RadioButton,{checked:"custom"===c,id:"custom-targeting-gender",label:a._('Pick specific genders', '[m10n] QuickPromote.targetingRedesign.gender.pickSpecific', '[m10n] Option for user to choose specific gender for gender targeting'),name:"gender",onChange:function(){s("custom"),o({event_type:101,view_type:388,view_parameter:3365,component:13502,element:13386})},size:"sm",value:"custom"})]}),"custom"===c&&(0,_.jsx)(i.xu,{borderStyle:"sm",marginBottom:1,marginTop:2,padding:4,rounding:2,children:(0,_.jsx)(i.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:g&&g.map(function(e){return(0,_.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",children:[(0,_.jsx)(i.XZ,{checked:f.includes(e),id:"quickPromoteGenderTargetingChildNode_".concat(e),name:"quickPromoteGenderTargetingChildNode_".concat(e),onChange:function(){return m(e)},size:"sm"}),(0,_.jsx)(i.xu,{marginStart:2,children:(0,_.jsx)(i.__,{htmlFor:"quickPromoteGenderTargetingChildNode_".concat(e),children:(0,_.jsx)(i.xv,{color:"default",children:e&&y[e]||""})})})]},e)})})})]}):null});function r3(e){return(r3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==r3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==r3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r3(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r8(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var r4=function(e){var t,r=e.isAutoTargeting,a=e.isNarrowWindow,l=e.quickPromoteSelectAutoTargeting,c=e.quickPromoteSetAutoTargeting,s=(0,o.TH)(),u=(0,D.mB)(s.search).interestId,f=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!!u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return r8(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r8(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],m=f[1],h=(0,H.v)().logContextEvent,g=(0,d.ZP)();(0,n.useEffect)(function(){h({event_type:13,view_type:388,view_parameter:3365,component:13498})},[h]);var y=(0,_.jsxs)(i.kC,{direction:"column",gap:3,children:[(0,_.jsx)(i.iz,{}),(0,_.jsx)(i.XZ,{checked:r,helperText:g._('With expanded targeting you can see improvements in reach, click through rates and total spend.', '[m10n] quickPromote.quickPromoteTargetingRedesign.expandedTargeting.helperText', '[m10n] Helper text for quick promote expanded targeting.'),id:"expanded-targeting",label:g._('Expanded targeting', '[m10n] quickPromote.quickPromoteTargetingRedesign.expandedTargeting', '[m10n] Checkbox label for expanded targeting.'),onChange:function(e){return l(e.checked)},size:"sm"})]});return(0,_.jsxs)(i.kC,{direction:"column",flex:"grow",gap:4,children:[(0,_.jsx)(i.xv,{color:"default",size:"200",children:g._('Targeting', '[m10n] quickPromote.QuickPromoteTargetingRedesign.SectionTitle', '[m10n] Header text for quick promote targeting section.')}),(0,_.jsx)(i.FX,{id:"audience-targeting-section-title",legend:"Audience targeting",legendDisplay:"hidden",children:(0,_.jsxs)(i.kC,{direction:"column",flex:"grow",gap:4,children:[(0,_.jsx)(i.FX.RadioButton,{checked:!p,id:"default-targeting",label:g._('Reach more Pinners (Recommended)', '[m10n] quickPromote.QuickPromoteTargetingRedesign.defaultOption.enabled_variant.label', '[m10n] enabled_variant label for quick promote default option.'),name:"targeting",onChange:function(){m(!1),c(),l(!0),h({event_type:101,view_type:388,view_parameter:3365,component:13498,element:13388})},size:"sm",value:"default"}),(0,_.jsx)(i.FX.RadioButton,{checked:p,id:"custom-targeting",label:g._('Narrow down your audience', '[m10n] quickPromote.QuickPromoteTargetingRedesign.customOption.label', '[m10n] label text for quick promote custom option.'),name:"targeting",onChange:function(){m(!0),c(),h({event_type:101,view_type:388,view_parameter:3365,component:13498,element:13387})},size:"sm",value:"custom"})]})}),p&&y,p&&(0,_.jsx)(Q.Z,{name:"SafeSuspense_QuickPromoteTargeting_QuickPromoteTargetingInterest",children:(0,_.jsx)(eC.Z,{children:(0,_.jsx)(i.kC,{direction:"column",gap:4,children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(rY,{isNarrowWindow:a},"quickPromoteTargetingAge"),(0,_.jsx)(r1,{},"quickPromoteTargetingGender"),(0,_.jsx)(rQ,{},"quickPromoteTargetingInterest")]})})})})]})},r5=(0,rT.H)(function(e){var t=(0,L.v9)(function(e){return e.quickPromote.isAutoTargeting}),r=(0,L.v9)(function(e){var t;return!!(null!==(t=e.quickPromote.advertiser)&&void 0!==t&&t.id)});return(0,_.jsx)(r4,r6(r6({},e),{},{advertiserLoaded:r,isAutoTargeting:t}))}),r9=r(747576),r7=r(15844),ne=r(669836),nt=r(106647),nr=r(104137),nn=r(184857),no=r(322175),ni=r(207666);function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==na(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==na(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===na(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ns(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function nu(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ns(i,n,o,a,l,"next",e)}function l(e){ns(i,n,o,a,l,"throw",e)}a(void 0)})}}function nd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nf(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var np=(0,eL.Z)(function(){return r.e(58788).then(r.bind(r,949697))},void 0,"CampaignCreationModeToggleSterling"),nm=(0,eL.Z)(function(){return r.e(97378).then(r.bind(r,736779))},void 0,"QuickPromoteShortDurationModalSterling"),nh=(0,eL.Z)(function(){return r.e(87797).then(r.bind(r,762855))},{ssr:!1}),ng=function(e){var t=e.children,r=e.color,n=e.height,o=e.tutorialId;return(0,_.jsx)(i.xu,{color:void 0===r?"default":r,"data-test-id":"qp-dashboard-section","data-tutorial-id":o,height:n,marginBottom:4,padding:5,rounding:3,width:"100%",children:t})},n_=function(e){var t=e.children;return(0,_.jsx)(i.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"between",children:t})},ny=function(e){var t=e.marginX,r=void 0===t?6:t,n=e.maxWidth,o=e.minWidth,a=void 0===o?260:o,l=e.children;return(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:a}},"data-test-id":"qp-dashboard-column",direction:"column",display:"flex",flex:"grow",marginEnd:r/2,marginStart:r/2,maxWidth:void 0===n?260:n,minWidth:a,children:l})},nv=function(e){var t=e.step,r=e.title;return(0,_.jsxs)(i.xu,{alignItems:"center",display:"flex",marginBottom:5,children:[(0,_.jsx)(i.xu,{alignItems:"center",color:"default","data-test-id":"qp-dashboard-step-header",display:"flex",height:24,justifyContent:"center",marginEnd:2,rounding:"circle",width:24,children:(0,_.jsx)(i.xv,{align:"center",weight:"bold",children:t})}),(0,_.jsx)(i.xv,{weight:"bold",children:r})]})},nb=function(){var e=nd((0,n.useState)(),2),t=e[0],r=e[1];return(0,n.useLayoutEffect)(function(){var e=function(){r((0,tw.bq)(window.innerWidth))};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),t},nP=function(e){var t,r,a=e.quickPromoteModalManagerContext,l=e.hasAdBlock,c=e.hasPinIdQueryString,u=e.isFromSterling,f=e.isFromAnalytics,p=e.isFromWww,m=e.shouldShowShortDurationModal,h=e.shouldShowPickPinSheet,g=e.targetingOptions,y=e.inQPDeprecationBannerModalExp,v=e.acfUrl,b=nd((0,n.useState)(!0),2),P=b[0],x=b[1],S=(0,W.Hv)().previous,j=(0,H.v)().logContextEvent,O=(0,d.ZP)(),w=a.handleSubmitClick,A=a.handleClearAllModals,k=nd((0,n.useContext)(ne.Z),2),T=k[0],E=k[1],z=nb(),M=z===eb.Pq.WIDE,R=z===eb.Pq.NARROW,B=(0,o.k6)(),q=(0,o.TH)(),F=(0,L.I0)(),U=(0,L.v9)(function(e){return e.quickPromote});(0,I.Ow)(1000434);var Y=g&&g.INTEREST&&g.INTEREST.flattenedInterests||void 0,$=(0,D.mB)(q.search).interestId,J=(0,D.mB)(q.search).isExpandedTargeting;(0,n.useEffect)(function(){j({event_type:13,view_type:388,view_parameter:3365})},[j]),(0,n.useMemo)(function(){$&&F((0,eP.xx)(Y&&Y.filter(function(e){return e.topic_id===$})||[]))},[Y,$,F]),(0,n.useMemo)(function(){J&&"false"===J?F((0,eP.iw)(!1)):F((0,eP.iw)(!0))},[J,F]);var ee=(0,n.useCallback)(function(){(0,tw.HH)(q,B,S)},[q,B,S]);(0,n.useEffect)(function(){window&&(B&&B.action&&"POP"===B.action&&x(!1),window.onpopstate=function(){A(),F((0,eP.mD)())})},[F,A,B]);var et=(0,(0,C.F)().checkExperiment)("aid_exp_use_react_router_nav").anyEnabled;(0,Z.Z)(function(){!et||c||y||F((0,eP.Xx)(!0))});var er=function(){E(r7.I)},en=(0,n.useRef)(null),eo=(0,n.useRef)(),ei=(0,ni.Z)(),ea=(t=nu(regeneratorRuntime.mark(function e(){var t,r,n,o,i,a,l,c,s,u,d,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=eo.current.exportCanvasBase64(),r=(0,G.Z)(),n={name:"Pinterest Ad Templates",privacy:"public",return_existing:!0,aux_data:{source:"quick_promote_dashboard"}},o=X.ZP.getItem("title"),i=X.ZP.getItem("details"),a=X.ZP.getItem("link"),e.next=8,ei({boardCreateOptions:n});case 8:return l=e.sent,c=function(){var e=nu(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,no.xc)(t,r,j);case 2:if(!(n=e.sent.signature)){e.next=6;break}return e.abrupt("return",{board_id:l.id,field_set_key:"create_success",skip_pin_create_log:!0,description:i,link:a,title:o,image_url:(0,no.f)(n),method:"uploaded",upload_metric:{source:(0,K.Z)(!0)},user_mention_tags:[]});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=12,c();case 12:return s=e.sent,e.next=15,Promise.all([N.Z.create("PinResource",s).callCreate(),s]);case 15:return d=(u=nd(e.sent,2))[0],f=u[1],p=d.resource_response.data,F((0,V.Sr)("PinResource",f,d)),e.abrupt("return",p);case 22:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),el=rr.d2+tw.uB+260+48,ec=rr.d2+tw.uB+48;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)(i.kC,{alignItems:"stretch",direction:"column",width:R?void 0:"100vw",children:[h&&(0,_.jsx)(Q.Z,{name:"SafeSuspense_QuickPromotePickPinSheet",children:(0,_.jsx)(nh,{fallback:(0,_.jsx)(i.$j,{accessibilityLabel:O._('Loading Pick Pin Sheet...', '[m10n] quickPromote.pickPinSheet.a11y.loading', '[m10n] a11y label for the Loading spinner on Quick Promote pick Pin Sheet'),show:!0}),onDismiss:function(){return F((0,eP.Xx)(!1))}})}),(0,_.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"end",marginBottom:8,marginEnd:12,marginStart:1,marginTop:-2,children:(0,_.jsx)(np,{buttonColor:"white",isFromAnalytics:f,isFromWww:p,onClick:function(){var e;null!==(e=U.pin)&&void 0!==e&&e.id&&U.advertiserId&&(0,tw.Y8)(U.pin.id,U.advertiserId,U)},quickPromotablePinId:null===(r=U.pin)||void 0===r?void 0:r.id,surface:r9.qZ.QUICK_PROMOTE})}),y&&(0,_.jsx)(i.xu,{alignItems:"stretch",direction:"row",display:"flex",justifyContent:"center",marginBottom:8,children:(0,_.jsx)(i.xu,{height:"50px",marginBottom:8,width:M?el:ec,children:(0,_.jsx)(i.xu,{color:"recommendationWeak",padding:4,rounding:7,children:(0,_.jsxs)(i.kC,{alignItems:"center",gap:4,children:[(0,_.jsx)(i.JO,{accessibilityLabel:"xyz",color:"recommendation",icon:"sparkle",size:24}),(0,_.jsx)(i.xv,{children:O._('Later this year we will be replacing Quick Promote with Automated Campaigns, an ad creation tool that leverages Pinterest best practice recommendations to seamlessly create ads for maximum results.', '[m10n] quickPromoteDashboard.deprecationBanner', 'Text for the quick promote deprecation banner')}),(0,_.jsx)(i.xu,{width:"240px",children:(0,_.jsx)(i.ZP,{color:"white",fullWidth:!0,href:v,onClick:function(){j({event_type:101,view_type:388,view_parameter:3365,element:14557})},text:O._('Try Automated Campaigns', '[m10n] quickPromoteDashboard.deprecationBanner.button', 'Text for the button to try automated campaigns')})})]})})})}),(0,_.jsxs)(i.xu,{display:"flex",flex:R?void 0:"grow",justifyContent:"center",paddingX:7,children:[P&&(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:l&&u?185:l?150:97,left:27}},position:"absolute",children:(0,_.jsx)(s.hU,{accessibilityLabel:O._('Button to go back to previous page', '[m10n] - accessibility label for icon button', '[m10n] - accessibility label for icon button'),dataTestId:"quickPromoteDashboardBackButton",icon:"directional-arrow-left",iconColor:"darkGray",logEventProps:{view:388,viewParameter:3365,componentType:205,elementType:11657},onClick:ee,size:"sm"})}),(0,_.jsxs)(i.kC,{alignItems:"stretch",flex:"none",justifyContent:"start",children:[(0,_.jsxs)(ny,{maxWidth:rr.d2,minWidth:rr.d2,children:[(0,_.jsx)(nv,{step:1,title:O._('Select a Pin', '[m10n] - Label for select a pin section', '[m10n] - Label for select a pin section')}),(0,_.jsx)(rv,{hasPinIdQueryString:c,inQPDeprecationBannerModalExp:y,isFromSterling:u,setRef:eo})]}),(0,_.jsxs)(i.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",maxWidth:M?void 0:tw.uB+48,minWidth:M?tw.uB:260,wrap:!0,children:[(0,_.jsxs)(ny,{maxWidth:tw.uB,minWidth:M?tw.uB:260,children:[(0,_.jsx)(nv,{step:2,title:O._('Fill out ad details', '[m10n] - Label for ad details section', '[m10n] - Label for ad details section')}),(0,_.jsx)(ng,{tutorialId:"quick-promote-destination-link",children:(0,_.jsx)(tv,{})}),(0,_.jsx)(eT,{}),(0,_.jsx)(ng,{children:(0,_.jsxs)(i.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(tp,{}),(0,_.jsx)(tX,{})]}),(0,_.jsx)(i.xu,{padding:1}),(0,_.jsx)(i.xu,{maxWidth:tw.uB/2,children:(0,_.jsx)(tx,{})})]})}),(0,_.jsx)(ng,{children:(0,_.jsx)(n_,{children:(0,_.jsx)(r5,{})})})]}),(0,_.jsxs)(ny,{maxWidth:M?260:tw.uB,children:[(0,_.jsx)(i.xu,{marginTop:M?void 0:10,children:(0,_.jsx)(nv,{step:3,title:O._('Promote your Pin', '[m10n] - Label for section where users can promote their pin', '[m10n] - Label for section where users can promote their pin')})}),(0,_.jsx)(ng,{children:(0,_.jsxs)(i.xu,{"data-tutorial-id":"quick-promote-audience-size",direction:"column",display:"flex",justifyContent:"between",children:[(0,_.jsx)(tG,{isQuickPromoteRedesign:!0}),(0,_.jsx)(e7,{adTemplatePinCreate:ea}),U.isAutoTargeting&&(0,_.jsx)(i.xu,{color:"infoWeak",marginTop:4,padding:4,rounding:5,width:"100%",children:(0,_.jsxs)(i.xv,{size:"100",children:[(0,_.jsx)(i.xv,{inline:!0,size:"100",weight:"bold",children:O._('You\u2019ve selected expanded targeting for this ad group. ', '[m10n] quickpromote.promoteYourPin.expandedTargetingMessage1', 'Message about expanded targeting 1/3')},"expandedTargetingInfoText1"),(0,_.jsx)(i.xv,{inline:!0,size:"100",children:O._('This allows your ad to be shown to additional users outside your contextual targeting criteria when it\'s likely to improve performance and will result in a larger potential audience size. ', '[m10n] quickpromote.promoteYourPin.expandedTargetingMessage2', 'Message about expanded targeting 2/3')},"expandedTargetingMessage2"),(0,_.jsx)(i.xv,{inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inline",href:"https://www.pinterest.com/_/_/help/business/article/expanded-targeting",target:"blank",children:O._('Learn more', '[m10n] quickpromote.promoteYourPin.expandedTargetingMessage3', 'Message about expanded targeting 3/3')})},"expandedTargetingMessage3")]})})]})}),(0,_.jsx)(i.xu,{ref:en,children:(0,_.jsxs)(ng,{children:[(0,_.jsx)(e2,{isMediumSizeWindow:!M&&!R}),(0,_.jsx)(I.a3,{eligibleIds:[504972],placementId:1000434,children:function(e){var t=e.experience.display_data;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(i.iz,{}),(0,_.jsx)(t$,{qpBannerText:t.qp_banner_text})]})}})]})})]})]}),m&&(0,_.jsx)(nm,{onShortDurationModalSubmit:w})]})]})]}),T===eb.yq&&(0,_.jsx)(nt.Z,{autoAdvance:!1,onComplete:function(){E(eb.OC)},onDismiss:er,steps:[{id:"qp-fac-first",element:(0,_.jsx)(e_,{})},{id:"qp-fac-second",element:(0,_.jsx)(es,{})}]}),T===eb.OC&&(0,_.jsx)(nr.Z,{onComplete:function(){E(r7.I)},onDismiss:er,steps:(0,nn.Z)([{selector:'[data-tutorial-id="quick-promote-destination-link"]',id:"guide-quick-promote-link",heading:O._('Destination link', '[m10]quickPromoteTour.headingText.DestinationLink', 'Heading text describing the destination link step when creating ads'),description:O._('Audiences interested in your content will land here when they click your ad. If you\'re advertising an article or product, make sure it links to the specific page on your website.', '[m10]quickPromoteTour.descriptionText.DestinationLink', 'Text describing the reason to add a destination link to ads when creating them')},{selector:'[data-tutorial-id="quick-promote-targeting"]',id:"guide-quick-promote-targeting",heading:O._('Targeting', '[m10]quickPromoteTour.headingText.Targeting', 'Heading text describing the targeting section'),description:O._('We\'ll analyze your Pin and select the best audience for your ad. Uncheck expanded targeting to set your own audience.', '[m10]quickPromoteTour.descriptionText.Targeting', 'Text describing the reason to modify targeting for ads')},{selector:'[data-tutorial-id="quick-promote-audience-size"]',id:"guide-quick-promote-audience",heading:O._('Potential monthly audience', '[m10]quickPromoteTour.headingText.AudienceSize', 'Heading text describing the estimated audience size'),description:O._('We estimate how many people your campaign could reach based on historical data and your targeting preferences. This number is an estimate, and results aren\'t guaranteed.', '[m10]quickPromoteTour.descriptionText.AudienceSize', 'Text describing definition of potential monthly audience size')}])})]})};function nx(e){var t=ee(),r=(0,L.v9)(ex.Yo),n=(0,L.v9)(ex.ck),o=(0,L.v9)(ex.uz);return(0,_.jsx)(nP,nc(nc({},e),{},{quickPromoteModalManagerContext:t,shouldShowPickPinSheet:n,shouldShowShortDurationModal:r,targetingOptions:o}))}function nS(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function nj(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){nS(i,n,o,a,l,"next",e)}function l(e){nS(i,n,o,a,l,"throw",e)}a(void 0)})}}function nO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nw(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nA(e){var t=e.hasAdBlock,r=e.pinId,o=e.routeAdvertiserId,a=e.isFromSterling,l=e.isFromAnalytics,c=e.isFromWww,s=e.inQPDeprecationBannerModalExp,u=e.acfUrl,f=nO((0,n.useState)([]),2),p=f[0],h=f[1],g=nO((0,n.useState)({}),2),y=g[0],v=g[1],b=nO((0,n.useState)({}),2),P=b[0],x=b[1],S=(0,E.B)(),j=S.advertiser,O=S.country,w=S.locale,A=(0,m.Z)(),k=(0,d.ZP)(),I=(0,C.F)().checkExperiment,T=(0,L.I0)(),z=(0,n.useMemo)(function(){return o||p.data||y.id},[o,p,y.id]);return(0,n.useEffect)(function(){nj(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r&&z)){e.next=5;break}return e.next=3,N.Z.create("PinResource",{id:r,field_set_key:"detailed"}).callGet();case 3:x(e.sent.resource_response.data);case 5:case"end":return e.stop()}},e)}))()},[r,z]),(0,Z.Z)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET";return(0,U.Z)({url:"/ads/v4/advertisers/",method:e,data:{owner_user_id:A.isAuth&&A.id}})};nj(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!j&&!o)){t.next=5;break}return t.next=3,e("POST");case 3:v(t.sent.resource_response.data||y);case 5:if(!(j||o)){t.next=10;break}return t.next=8,e();case 8:h(t.sent.resource_response.data||[]);case 10:case"end":return t.stop()}},t)}))()}),(0,n.useEffect)(function(){var e=p.length>0&&p||y.id&&Array.from([y])||[],t=o?e.filter(function(e){return e.id===o}):e,n=t&&t.length>0&&t[0]||{},i=o||n.id,s="VALID"===n.billing_profile_status,u=!!n.business_address,d=!!r;T((0,eP.Ys)({pin:d?P:void 0,initialValues:d?(0,F.C5)({advertiserId:i,country:O,pin:P,quickPromote:{data:{advertiser_id:i,has_valid_billing_profile:s},dataReady:!0},locale:w},k):void 0,advertiserData:{hasValidBillingProfile:s,hasBusinessAddress:u,advertiserId:i,advertiserCountry:parseInt(n.country,10),advertisers:e},isFromSterling:a,isFromAnalytics:l,isFromWww:c,firstStepModal:eb.hf}))},[P,p,y,a,l,c,O,T,r,w,k,o,I]),(0,_.jsx)(i.xu,{alignItems:"start","data-test-id":"quick-promote-dashboard-container",direction:"column",display:"flex",justifyContent:"center",minWidth:650,paddingX:5,paddingY:9,width:"100vw",children:(0,_.jsx)(nx,{acfUrl:u,hasAdBlock:t,hasPinIdQueryString:!!r,inQPDeprecationBannerModalExp:s,isFromAnalytics:l,isFromSterling:a,isFromWww:c})})}var nk=function(e){var t=e.acfUrl,r=e.displayData,n=e.onDismiss,o=e.onComplete,a=new i.H3([new i.Ry(1e3)]),l=(0,d.ZP)();return(0,_.jsx)(i.mh,{zIndex:a,children:(0,_.jsx)(T.ZP,{accessibilityModalLabel:l._('Quick Promote Deprecation Modal', 'QuickPromoteDeprecationModal.accessibilityModalLabel', 'Lets user know that quick promote will be deprecated soon.'),closeOnOutsideClick:!0,footer:(0,_.jsx)(i.kC,{gap:2,justifyContent:"end",children:(0,_.jsx)(i.ZP,{color:"red",href:t,onClick:function(){o()},size:"lg",text:null==r?void 0:r.button_text})}),heading:(0,_.jsxs)(i.xu,{paddingY:2,children:[(0,_.jsx)(i.X6,{accessibilityLevel:2,size:"400",children:null==r?void 0:r.title}),(0,_.jsx)(i.xu,{padding:5,position:"absolute",right:!0,top:!0,children:(0,_.jsx)(i.hU,{accessibilityLabel:l._('Close modal', '[m10n] quickPromote.deprecationModal.close', 'Close'),dataTestId:"quick-promote-deprecation-modal-close-button",icon:"cancel",iconColor:"gray",onClick:n,size:"sm"})})]}),onDismiss:n,size:"sm",children:(0,_.jsx)(i.xu,{paddingX:6,children:(0,_.jsx)(i.xv,{children:null==r?void 0:r.description_text})})})})},nI=r(570686),nT=r(801925),nC=r(590215),nE=r(635258),nz=r(548466),nD=r(509642);function nM(e){return(nM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nR(e,t,r){var n;return(n=function(e,t){if("object"!==nM(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nM(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===nM(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nB=function(){return Promise.all([r.e(61592),r.e(57202),r.e(11256),r.e(59806),r.e(88366)]).then(r.bind(r,758842))},nq=function(){return Promise.all([r.e(21851),r.e(11256),r.e(85115)]).then(r.bind(r,622409))},nL=function(){return r.e(35943).then(r.bind(r,440687))},nN=function(){return r.e(6697).then(r.bind(r,564290))},nF=function(){return r.e(42555).then(r.bind(r,28966))},nU=function(){return r.e(42555).then(r.bind(r,656806))},nZ=function(){return r.e(80328).then(r.bind(r,435572))},nG=function(){return r.e(43018).then(r.bind(r,764688))},nH=function(){return r.e(42224).then(r.bind(r,360008))},nQ=function(){return r.e(25021).then(r.bind(r,782889))},nW=function(){return r.e(85231).then(r.bind(r,430813))},nK=new i.Ry(1e3),nV=function(){var e=(0,d.ZP)();return(0,_.jsx)(i.xu,{display:"flex",justifyContent:"center",margin:6,children:(0,_.jsxs)(i.X6,{size:"500",children:[(0,_.jsx)(i.xu,{"data-test-id":"billing-form-title",display:"inlineBlock",marginEnd:1,children:e._('Add ad account Information', '[m10n]billing.BusinessInformationSection.header', 'Header of billing page ad account information section')}),(0,_.jsx)(i.u,{inline:!0,text:e._('Enter your business address. This address will appear on your receipts and may be used for tax purposes.', '[m10n]billing.BusinessInformationSection.flyoutTooltip', 'Flyout to add additional context to ad account information section'),zIndex:nK,children:(0,_.jsx)(i.hU,{accessibilityLabel:e._('Additional information', '[m10n]billing.BusinessInformationSection.a11yLabel', 'A11y label indicating additional info available at the header of billing page ad account information section'),bgColor:"white",icon:"info-circle",iconColor:"darkGray",size:"sm"})})]})})},nX=function(e,t,r){return e?r._('You\u2019re all set!', '[m10n] Quick Promote succeeeded modal header from quick report', '[m10n] Quick Promote succeeeded modal header from quick report'):t?"":r._('Success!', '[m10n] Quick Promote succeeeded modal header', '[m10n] Quick Promote succeeeded modal header')},nY=function(e,t,r){var n,o,i=(0,nz.Z)(),a=null!==(n=null==i?void 0:i.experimentsClient.checkExperiment("smb_qp_success_with_image").anyEnabled)&&void 0!==n&&n;return nR(o={},eb.Gl.PIN_SELECTION_MODAL,{bodyComponent:nH,footerComponent:nQ,modalIdKey:"pinSelectionModalId",getBodyProps:function(e){return{isFromSterling:e.props.isFromSterling,isFromAnalytics:e.props.isFromAnalytics}},getFooterProps:function(e){return{onNextClicked:e.handleStepMoveForward}},getModalProps:function(){return{allowScroll:!0,size:"lg",accessibilityModalLabel:e._('Select a pin to promote', '[m10n] Step for selecting a pin to promote', '[m10n] Step for selecting a pin to promote'),heading:e._('Select a Pin', '[m10n] Header for selecting a pin to promote', '[m10n] Header for selecting a pin to promote')}},executePrerenderSteps:function(e){e.gdprModalId&&e.props.quickPromoteModalContext.legacyRemoveModal(e.gdprModalId)}}),nR(o,eb.Gl.BUSINESS_FORM,{bodyComponent:nq,modalIdKey:"businessInfoModalId",getBodyProps:function(e){return{pin:e.props.pin,onSubmitSucceeded:function(){return e.handleBusinessOrBillingFormSubmitSucceed(!1)}}},getModalProps:function(){return{accessibilityModalLabel:e._('Add Ad account Information', '[m10n] quickPromote.getModalProps.accessibilityModalLabel', '[m10n]'),size:"xl",heading:(0,_.jsx)(nV,{})}},executePrerenderSteps:function(e){e.formModalId&&e.props.quickPromoteModalContext.legacyRemoveModal(e.formModalId)}}),nR(o,eb.Gl.BILLING_FORM,{bodyComponent:nB,modalIdKey:"billingInfoModalId",getBodyProps:function(e){return{onSubmitSucceeded:function(){return e.handleBusinessOrBillingFormSubmitSucceed(!0)},pin:e.props.pin,hasBeenPromoted:!!e.props.campaign}},getModalProps:function(){return{accessibilityModalLabel:e._('Add Billing Information', '[m10n]', '[m10n]'),size:"lg",heading:e._('Add Billing Information', '[m10n] Quick Promote descriptive modal header of billing information form', '[m10n] Quick Promote descriptive modal header of billing information form')}},executePrerenderSteps:function(e){e.formModalId&&e.props.quickPromoteModalContext.legacyRemoveModal(e.formModalId)}}),nR(o,eb.Gl.SUCCESS_MODAL,{bodyComponent:a?nN:nL,footerComponent:a?nU:nF,modalIdKey:"successModalId",getBodyProps:function(e){var t=e.props,n=t.campaign,o=t.isFromSterling,i=t.quickPromoteFormValues;return{campaignLink:(0,tw.Mj)(e.props.campaign,r),campaignName:n&&n.name||i.name||"",isFromSterling:o}},getFooterProps:function(e){return{campaignLink:e.QuickReportRedirectLink,onClose:e.handleDismissModal,isFromSterling:e.props.isFromSterling}},getModalProps:function(t){return{role:"alertdialog",accessibilityModalLabel:e._('Success', '[m10n] quickPromote.alertdialog.accessibilityModalLabel', '[m10n]'),heading:nX(t.props.isFromSterling,a,e)}},executePrerenderSteps:function(e){var r=e.props,n=r.isAnalyticsSite,o=r.isSterlingSite,i=r.isWwwSite,a=r.quickPromoteModalContext;e.formModalId&&a.legacyRemoveModal(e.formModalId),e.billingInfoModalId&&a.legacyRemoveModal(e.billingInfoModalId),e.businessInfoModalId&&a.legacyRemoveModal(e.businessInfoModalId),t({event_type:13,view_type:113,aux_data:{page:"GestaltQuickPromote"}}),(0,tw.cG)({loggingType:tw.Mz.SUBMIT_SUCCESS,isAnalyticsSite:n,isSterlingSite:o,isWwwSite:i})}}),nR(o,eb.Gl.ERROR_MODAL,{bodyComponent:nZ,footerComponent:nG,modalIdKey:"errorModalId",getBodyProps:function(e){return{errorMessage:e.props.serverErrorMessage}},getFooterProps:function(e){return{createFlowLink:e.createFlowLink,hasErrorMessage:!!e.props.serverErrorMessage,onClose:e.handleDismissModal}},getModalProps:function(t){var r=!!t.props.serverErrorMessage;return{role:"alertdialog",accessibilityModalLabel:e._('Error', '[m10n] quickPromote.errorModal.a11yLabel', '[m10n] Accessibility label for Quick Promote error modal'),heading:r?e._('We\'re sorry, you are not eligible to promote Pins', '[m10n]quickPromote.errorModal.ineligibleHeading', '[m10n] Heading to tell the user is not eligible to promote'):e._('Oops! Something went wrong on our end', '[m10n]quickPromote.errorModal.fallbackErrorHeading', '[m10n] Heading to tell the user something went wrong when trying to promote')}},executePrerenderSteps:function(e){var t=e.props.quickPromoteModalContext;e.formModalId&&t.legacyRemoveModal(e.formModalId),e.billingInfoModalId&&t.legacyRemoveModal(e.billingInfoModalId),e.businessInfoModalId&&t.legacyRemoveModal(e.businessInfoModalId)}}),nR(o,eb.Gl.TAG_MODAL,{bodyComponent:a?nN:nL,footerComponent:a?nU:nF,modalIdKey:"tagModalId",getBodyProps:function(e){var t,r=e.props,n=r.campaign,o=r.experience,i=r.isFromSterling;return{campaignLink:(0,tw.Mj)(e.props.campaign),campaignName:n&&n.name||"",isFromSterling:i,isTagUpsell:!0,tagIntegration:(null===(t=o.display_data)||void 0===t?void 0:t.tag_integration)||""}},getFooterProps:function(e){var t,r,n=e.props.experience,o=(null===(t=n.display_data)||void 0===t?void 0:t.tag_integration)||"",i=(null===(r=n.display_data)||void 0===r?void 0:r.in_woocommerce_exp)?nE.oit:(0,nD.E)(o);return{campaignLink:e.QuickReportRedirectLink,tagLink:i,onClose:e.handleDismissModal,isFromSterling:e.props.isFromSterling,isTagUpsell:!0}},getModalProps:function(t){return{accessibilityModalLabel:e._('Success modal with tag upsell', '[m10n] quick_promote.modal.success.tag_upsell', 'modal for successful ad creation with tag upsell'),heading:nX(t.props.isFromSterling,a,e),i18n:e}},executePrerenderSteps:function(e){var r=e.props,n=r.isAnalyticsSite,o=r.isSterlingSite,i=r.isWwwSite,a=r.quickPromoteModalContext;e.formModalId&&a.legacyRemoveModal(e.formModalId),e.billingInfoModalId&&a.legacyRemoveModal(e.billingInfoModalId),e.businessInfoModalId&&a.legacyRemoveModal(e.businessInfoModalId),t({event_type:13,view_type:113,aux_data:{page:"GestaltQuickPromote"}}),(0,tw.cG)({loggingType:tw.Mz.SUBMIT_SUCCESS,isAnalyticsSite:n,isSterlingSite:o,isWwwSite:i})}}),nR(o,eb.Gl.GDPR_MODAL,{bodyComponent:nW,modalIdKey:"gdprModalId",getBodyProps:function(e){return{onSubmit:function(){return e.handleGdprModalSubmitSucceed()}}},getModalProps:function(){return{}}}),o},n$=(0,Y.Z)("quickPromoteModalContext"),nJ=n$.Provider,n0=n$.useHook,n1=r(487634);function n3(e){return(n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(t){oe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n8(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n4(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function n5(e,t){return(n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n9(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n7(e){return(n7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,r){return(t=ot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e){var t=function(e,t){if("object"!==n3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==n3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n3(t)?t:String(t)}var or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n5(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=n7(o);return e=t?Reflect.construct(r,arguments,n7(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===n3(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return n9(e)}(this,e)});function o(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),oe(n9(t=n.call(this,e)),"shouldShowTagUpsellModal",function(e){return e&&502424===e.experience_id}),oe(n9(t),"setFirstStepIndex",function(){var e=t.props.firstStepModal,r=(0,tw.xQ)(e);![void 0,null].includes(r)&&r>=0&&t.setState({stepIndex:r})}),oe(n9(t),"handleClearAllModals",function(){t.props.quickPromoteModalContext.legacyClearAllModals()}),oe(n9(t),"handleDismissModal",function(){var e=t.props,r=e.campaign,n=e.isQuickPromotePage,o=e.resetFormSubmitStatus,i=e.logContextEvent,a=t.state.stepIndex;(0,tw.LZ)(a,i),n?t.setState({isFormSubmitting:!1},function(){o();var e=(0,tw.d5)(a);[eb.Gl.SUCCESS_MODAL,eb.Gl.BUSINESS_FORM].includes(e)||e===eb.Gl.BILLING_FORM&&r?t.handleSuccessDoneButtonGoBackRoute():t.dismissModalOnly()}):t.resetDataAndClearModals()}),oe(n9(t),"handleSuccessDoneButtonGoBackRoute",function(){var e=t.props,r=e.history,n=e.location,o=e.previousHistoryEntries;t.handleClearAllModals(),(0,tw.HH)(n,r,o)}),oe(n9(t),"resetDataAndClearModals",function(){t.setState({stepIndex:-1},function(){t.handleClearAllModals(),t.props.quickPromoteResetData()})}),oe(n9(t),"handleSubmitClick",function(){var e=t.props,r=e.isQuickPromotePage,n=e.isShowShortDurationModal,o=e.isAnalyticsSite,i=e.isSterlingSite,a=e.isWwwSite,l=e.quickPromoteFormValues,c=e.quickPromoteToggleShortDurationModal,s=e.quickPromoteSetIsFormOnSubmit,u=e.logContextEvent,d=t.state,f=d.isFormSubmitting,p=d.stepIndex;if(!f){(0,tw.Lu)(p,u);var m=parseInt(l.duration,10),h=!l.is_ongoing&&(0,eb.Uo)(m);!n&&h?c(!0):t.setState({isFormSubmitting:!0},function(){(0,tw.cG)({loggingType:tw.Mz.SUBMIT,isAnalyticsSite:o,isSterlingSite:i,isWwwSite:a}),r&&s(!0),t.handlePinPromoteSave(),h&&c(!1)})}}),oe(n9(t),"handlePinPromoteSave",function(){var e=t.props,r=e.advertiserId,n=e.country,o=e.pin,i=e.productGroup,a=e.quickPromoteSetCampaign,l=e.quickPromoteFormValues,c=e.resetFormSubmitStatus,s=e.setServerError,u=e.logContextEvent;r?(0,tw.HC)({pin:o,productGroup:i,quickPromoteFormValues:l,country:n,onSaveSuccess:function(e){s(null),a(e),t.setState({isFormSubmitting:!1},function(){t.handleStepMoveForward(),c()})},onSaveFailed:function(e){s(e),t.setState({isFormSubmitting:!1},function(){var e=t.props,r=e.isAnalyticsSite,n=e.isSterlingSite,o=e.isWwwSite;t.handleStepMoveForward(),c(),u({event_type:13,view_type:496,aux_data:{page:"GestaltQuickPromote"}}),(0,tw.cG)({loggingType:tw.Mz.SUBMIT_ERROR,isAnalyticsSite:r,isSterlingSite:n,isWwwSite:o})})},advertiserId:r}):t.setState({isFormSubmitting:!1},function(){var e=t.props,r=e.isAnalyticsSite,n=e.isSterlingSite,o=e.isWwwSite;t.handleStepMoveForward(),c(),u({event_type:13,view_type:496,aux_data:{page:"GestaltQuickPromote"}}),(0,tw.cG)({loggingType:tw.Mz.SUBMIT_ERROR,isAnalyticsSite:r,isSterlingSite:n,isWwwSite:o})})}),oe(n9(t),"handleBusinessOrBillingFormSubmitSucceed",function(e){var r=t.props,n=r.quickPromoteSetData,o=r.hasValidBillingProfile,i=r.advertiserId,a=r.advertiserCountry,l=r.advertisers,c=r.pin,s=r.logContextEvent,u=t.state.stepIndex;i&&((0,tw.Lu)(u,s),t.setState(function(t){return{isNewAdvertiser:!0,hasBusinessInfo:!e||t.hasBusinessInfo,hasBillingInfo:e||t.hasBillingInfo}},function(){n(e||o,!0,i,a,l||[],!0),(0,tw.YA)(null==c?void 0:c.id,i),t.handleStepMoveForward()}))}),oe(n9(t),"handleGdprModalSubmitSucceed",function(){t.props.hasPinIdQueryString?t.dismissModalOnly():t.handleStepMoveForward()}),oe(n9(t),"handleStepMoveForward",function(){var e=t.props,r=e.isQuickPromotePage,n=e.isOnlySetupBilling,o=e.hasValidBillingProfile,i=e.hasBusinessAddress,a=e.resetIsOnlySetupBilling,l=e.serverErrorArea,c=e.setServerError,s=t.state,u=s.stepIndex,d=s.hasBillingInfo,f=s.hasBusinessInfo,p=(0,tw.xV)({hasValidBillingProfile:o,hasBusinessAddress:i,hasBillingInfo:d,hasBusinessInfo:f,serverErrorArea:l,stepIndex:u,isQuickPromotePage:r});r&&((0,tw.d5)(u)===eb.Gl.PIN_SELECTION_MODAL||(0,tw.d5)(u)===eb.Gl.BILLING_FORM&&n)?(t.dismissModalOnly(),c(null),n&&a()):t.setState({stepIndex:p})}),oe(n9(t),"dismissModalOnly",function(){var e=t.props,r=e.isQuickPromotePage,n=e.resetFirstStepModal;t.handleClearAllModals(),n(),t.setState({stepIndex:r?(0,tw.xQ)(eb.hf):-1})}),oe(n9(t),"renderScreen",function(e){var r,n=t.props,o=n.advertiser,i=n.quickPromoteModalContext,a=n.logContextEvent,l=nY(n.i18n,a,o)[e];if(l){var c=l.modalIdKey,s=l.bodyComponent,u=l.footerComponent,d=l.getBodyProps,f=l.getFooterProps,p=l.getModalProps,m=l.executePrerenderSteps;(r=regeneratorRuntime.mark(function e(){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([s(),u&&u()||{}]);case 2:var a;n=(r=function(e){if(Array.isArray(e))return e}(a=e.sent)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{i=(r=r.call(e)).next;for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(a,2)||function(e,t){if(e){if("string"==typeof e)return n8(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n8(e,2)}}(a,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,o=r[1].default,m&&m(n9(t)),t.props.isQuickPromotePage&&(0,eP.vi)(!1),t[c]=i.legacyShowInModal(n6({children:(0,_.jsx)(n,n6({},d(n9(t)))),footer:o&&f&&(0,_.jsx)(o,n6({},f(n9(t)))),onDismiss:t.handleDismissModal},p(n9(t))));case 9:case"end":return e.stop()}},e)}),function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){n4(i,n,o,a,l,"next",e)}function l(e){n4(i,n,o,a,l,"throw",e)}a(void 0)})})()}}),oe(n9(t),"renderQuickPromoteModal",function(){var e=t.state.stepIndex,r=(0,tw.d5)(e);if(r){if(r===eb.Gl.SUCCESS_MODAL){var n=t.props,o=n.advertiserId,i=n.campaign,a=n.isQuickPromotePage,l=n.hasValidBillingProfile,s=n.hasBusinessAddress,u=n.country,d=n.experience,f=n.experienceClient,p=n.triggerExperienceRefresh,m=t.state,h=m.isNewAdvertiser,g=m.hasBillingInfo,_=m.hasBusinessInfo,y=(0,tw.Ti)({hasValidBillingProfile:l,hasBusinessAddress:s,hasBillingInfo:g,hasBusinessInfo:_}),v=y.hasValidBusinessInfo,b=y.hasValidBillingInfo;d&&t.shouldShowTagUpsellModal(d)&&(f.viewExperience(1000290,502424),p(),r=eb.Gl.TAG_MODAL),v&&b?h?a?t.renderScreen(r):(0,c.Z)((0,tw.Mj)(i)):i&&t.renderScreen(r):u===eb.UF?t.handleStepMoveForward():setTimeout(function(){(0,c.Z)((0,tw.Hw)(o))},1)}else t.renderScreen(r)}});var t,r=t.props.firstStepModal;return t.state={hasBillingInfo:!1,hasBusinessInfo:!1,isNewAdvertiser:!1,isFormSubmitting:!1,stepIndex:(0,tw.xQ)(r)},t}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.openQuickPromoteSelectPinModalFromSterling,r=e.isFromSterling,n=e.isSterlingSite;e.shouldOpenQuickPromoteOnSterling&&t(n||r)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.firstStepModal,n=this.state.stepIndex;e.firstStepModal!==r?this.setFirstStepIndex():t.stepIndex!==n&&-1!==n&&this.renderQuickPromoteModal()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.quickPromoteShouldOpenOnSterling,r=e.isFromSterling,n=e.isSterlingSite;e.shouldOpenQuickPromoteOnSterling&&t(n||r)}},{key:"QuickReportRedirectLink",get:function(){var e=new URL(nE.auO+(0,nI.Z)(nE.auO,this.props.advertiserId||""));return e.search=new URLSearchParams({ad_status:n1.re.PENDING}).toString(),e.toString()}},{key:"createFlowLink",get:function(){return nE.auO+(0,nI.Z)(nE.auO,this.props.advertiserId||"")+"/ads/create/"}},{key:"render",value:function(){return this.contextValues={handleSubmitClick:this.handleSubmitClick,handleClearAllModals:this.handleClearAllModals},this.props.children?(0,_.jsx)(J,{value:this.contextValues,children:this.props.children}):null}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ot(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component),on=(0,I.RL)(1000290)(function(e){var t=(0,nC.Z)(),r=(0,W.Hv)().previous,n=(0,H.v)().logContextEvent,i=n0(),a=(0,o.k6)(),l=(0,o.TH)(),c=(0,d.ZP)(),s=(0,m.Z)(),u=s.isAuth?s.country:"",f=(0,L.v9)(function(e){return e.advertiser}),p=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.firstStepModal}),h=(0,L.v9)(ex.A6),g=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.pin}),y=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.productGroup}),v=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.isFromSterling}),b=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.isFromAnalytics}),P=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.campaign}),x=(0,L.v9)(function(e){return e.quickPromote&&!!e.quickPromote.hasValidBillingProfile}),S=(0,L.v9)(function(e){return e.quickPromote&&!!e.quickPromote.hasBusinessAddress}),j=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.advertiserId?e.quickPromote.advertiserId:void 0}),O=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.advertiserCountry}),w=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.advertisers}),A=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.shouldOpenQuickPromoteOnSterling}),k=(0,L.v9)(ex.Yo),I=(0,L.v9)(ex._8),T=(0,L.v9)(ex.cb),C=(0,L.v9)(function(e){return(0,ex.JQ)(e,"modal")}),E=(0,L.v9)(function(e){return e.quickPromote&&e.quickPromote.targetingOptions&&e.quickPromote.targetingOptions.LOCATION}),z=(0,tw.es)((0,D.mB)(l.search).countries,E),M=z&&z.length>0?z.join("+"):u,R=(0,L.I0)();return(0,_.jsx)(or,n6(n6({},e),{},{advertiser:f,advertiserCountry:O,advertiserId:j,advertisers:w,campaign:P,country:M,experienceClient:t,firstStepModal:p,hasBusinessAddress:S,hasValidBillingProfile:x,history:a,i18n:c,isFromAnalytics:b,isFromSterling:v,isOnlySetupBilling:I,isShowShortDurationModal:k,location:l,logContextEvent:n,openQuickPromoteSelectPinModalFromSterling:function(e){R((0,eP.oL)({isFromSterling:e}))},pin:g,previousHistoryEntries:r,productGroup:y,quickPromoteFormValues:h,quickPromoteModalContext:i,quickPromoteResetData:function(){return R((0,eP.mD)())},quickPromoteResetFormWhenMoveBack:function(){return R((0,eP.S6)())},quickPromoteSetCampaign:function(e){R((0,eP.JN)(e))},quickPromoteSetData:function(e,t,r,n,o,i){R((0,eP.Bq)(e,t,r,n,o,i))},quickPromoteSetIsFormOnSubmit:function(e){return R((0,eP.vi)(e))},quickPromoteShouldOpenOnSterling:function(e){R((0,eP.KK)({shouldOpenQuickPromoteOnSterling:!1,isFromSterling:e}))},quickPromoteToggleShortDurationModal:function(e){return R((0,eP.P8)(e))},resetFirstStepModal:function(){return R((0,eP.Hl)())},resetFormSubmitStatus:function(){return R((0,eP.RJ)())},resetIsOnlySetupBilling:function(){return R((0,eP.Cu)())},serverErrorArea:T,serverErrorMessage:C,setServerError:function(e){return R((0,eP.bo)(e))},shouldOpenQuickPromoteOnSterling:A,targetingLocationOptions:E,triggerExperienceRefresh:function(){return R((0,nT.fO)())}}))});function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(r),!0).forEach(function(t){ou(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ol(e,t){return(ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oc(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function os(e){return(os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ou(e,t,r){return(t=od(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function od(e){var t=function(e,t){if("object"!==oo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oo(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oo(t)?t:String(t)}var of=0,op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ol(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=os(o);return e=t?Reflect.construct(r,arguments,os(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===oo(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return oc(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return ou(oc(e=n.call.apply(n,[this].concat(r))),"state",{modals:[]}),ou(oc(e),"normalizeModal",function(t,r){return{id:r,props:oa(oa({},t),{},{onDismiss:function(){t.undismissible||(t.onDismiss&&t.onDismiss(),e.removeModal(r))}})}}),ou(oc(e),"showInModal",function(t){var r=of+=1,n=e.normalizeModal(t,r);return e.setState(function(e){return{modals:e.modals.concat(n)}}),r}),ou(oc(e),"removeModal",function(t){var r=e.state.modals,n=t||r[r.length-1].id;e.setState({modals:r.filter(function(e){return e.id!==n})})}),ou(oc(e),"clearAllModals",function(){e.setState({modals:[]})}),e}return r=[{key:"getContext",value:function(){return{legacyShowInModal:this.showInModal,legacyRemoveModal:this.removeModal,legacyClearAllModals:this.clearAllModals}}},{key:"render",value:function(){var e=this.state.modals,t=this.props.children,r=e[e.length-1];return(0,_.jsxs)(nJ,{value:this.getContext(),children:[t,r&&(0,_.jsx)(T.ZP,oa({},r.props),r.id)]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,od(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);function om(e){return(om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function og(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var o_=(0,eL.Z)(function(){return Promise.all([r.e(97270),r.e(4178),r.e(57202),r.e(70398),r.e(49257)]).then(r.bind(r,750148))},void 0,"QuickPromoteAdBlockBanner"),oy=function(e){var t=e.onSubmit,r=(0,d.ZP)();return(0,_.jsx)(i.mh,{children:(0,_.jsx)(T.ZP,{accessibilityModalLabel:r._('Fill out currency and terms of service', '[m10n] quickPromotePage.createAdvertiserModal', 'Step for selecting currency and terms of service'),heading:(0,_.jsx)(i.X6,{accessibilityLevel:2,size:"500",children:r._('Welcome to Quick Promote', '[m10n] quickPromoteCreateAdvertiserForm.header', 'Header for visiting Quick Promote for the first time')}),onDismiss:function(){},padding:"none",size:"sm",children:(0,_.jsx)(j,{onSubmit:t})})})};function ov(){var e,t,r,a,l=(0,d.ZP)(),c=(0,q.HG)(),s=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return og(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return og(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],f=s[1],p=(0,E.B)(),h=(0,o.TH)(),g=(0,z.Z)(),y=(0,C.F)().checkExperiment,v=(0,m.Z)(),b=v.country,P=v.isAuth,x=!!b&&(0,A.Fl)(b),S=(null===(t=p.advertiser)||void 0===t?void 0:null===(r=t.segment_metadata)||void 0===r?void 0:r.sales_channel)!=="ENTERPRISE";(0,I.Ow)(1000290),(0,k.Q)({view_type:388,view_parameter:3365});var j=p.advertiser&&p.advertiser.id,T=(0,tw.O9)(g),L=T.isAnalyticsSite,N=T.isSterlingSite,F=T.isWwwSite,U=(0,D.mB)(h.search).pinId,Z=(0,R.Z)().qp_pin_id,G=(0,tw.if)(Z,j),H="".concat(M.vI,"/advertiser/").concat(j).concat((0,w.default)("createAutomated"));U&&(H+="?pinId=".concat(U));var Q={routeAdvertiserId:j,pinId:null!=U?U:null==G?void 0:null===(a=G.pin)||void 0===a?void 0:a.id,isFromSterling:N,isFromAnalytics:L,isFromWww:F,hasAdBlock:u,inQPDeprecationBannerModalExp:S,acfUrl:H},W=y("sterling_tos_in_advertiser_creation").anyEnabled,K=!!j;return((0,n.useEffect)(function(){window&&window.scrollTo(0,0),(0,O.Z)(function(e){f(e)}),(0,tw.cG)({loggingType:tw.Mz.VIEW,isAnalyticsSite:L,isSterlingSite:N,isWwwSite:F})},[]),(0,n.useEffect)(function(){var e=j?(0,B.Z)({site:"sterling",path:"/advertiser/".concat(j,"/ads/create/")}):null;!x&&e&&window.location.replace(e)},[b,j,x]),c&&P)?x&&(0,_.jsxs)(i.xu,{color:"secondary",direction:"column",display:"flex",minHeight:"100vh",minWidth:1276,children:[(0,_.jsx)(i.xu,{display:"visuallyHidden",children:(0,_.jsx)(i.X6,{accessibilityLevel:1,children:l._('Quick Promote', 'quickPromote.heading', 'The page heading for Quick Promote')})}),u&&!N&&(0,_.jsx)(o_,{siteType:g}),S&&(0,_.jsx)(I.a3,{eligibleIds:[506539],placementId:1000290,children:function(e){var t=e.dismiss,r=e.complete,n=e.experience.display_data;return(0,_.jsx)(nk,{acfUrl:H,displayData:n,onComplete:r,onDismiss:t})}}),(0,_.jsx)(op,{children:(0,_.jsxs)(on,{hasPinIdQueryString:!!U,isAnalyticsSite:L,isQuickPromotePage:!0,isSterlingSite:N,isWwwSite:F,children:[(0,_.jsx)(nA,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==om(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==om(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===om(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Q)),!K&&W&&(0,_.jsx)(oy,{onSubmit:function(){return window.location.reload()}})]})})]}):(0,_.jsx)(o.l_,{to:"/"})}},617125:function(e,t,r){r.d(t,{$O:function(){return _},A6:function(){return A},B1:function(){return h},Bu:function(){return y},Ex:function(){return c},FK:function(){return l},JQ:function(){return P},Kd:function(){return f},QC:function(){return w},Sv:function(){return o},Wt:function(){return x},Yo:function(){return d},_8:function(){return p},cb:function(){return b},ck:function(){return m},g9:function(){return u},iw:function(){return S},mu:function(){return g},n3:function(){return j},nX:function(){return i},pw:function(){return s},q_:function(){return a},uz:function(){return O}});var n=r(208032),o=function(e){var t=e.advertiserId&&e.advertiserId.toString();return e.advertisers&&e.advertisers.find(function(e){return e.id===t})},i=function(e){return o(e.quickPromote)},a=function(e){return e.quickPromote.pin},l=function(e){return e.quickPromote.advertisers},c=function(e){return e.quickPromote.dailyBudget},s=function(e){return e.quickPromote.isOngoing},u=function(e){return e.quickPromote.duration},d=function(e){return e.quickPromote.showShortDurationModal},f=function(e){return e.quickPromote.locale},p=function(e){return e.quickPromote.isOnlySetupBilling||!1},m=function(e){return e.quickPromote.showPickPinSheet},h=function(e){var t=e.quickPromote;return t.errors&&t.errors.destinationUrl},g=function(e){var t=e.quickPromote;return t.errors&&t.errors.dailyBudget},_=function(e){var t=e.quickPromote;return t.errors&&t.errors.duration},y=function(e,t){var r=e.quickPromote;return!Object.values(r.errors||{}).some(function(e){return!!e})&&!(0,n.RE)(t,r.destinationUrl)&&!r.isFormOnSubmitting},v=function(e){return e.quickPromote.serverError||null},b=function(e){var t,r=v(e);return null!==(t=null==r?void 0:r.area)&&void 0!==t?t:null},P=function(e,t){var r=v(e);return r&&r.area===t?r.message:null},x=function(e){return e.quickPromote.interests},S=function(e){return e.quickPromote.ages},j=function(e){return e.quickPromote.genders},O=function(e){return e.quickPromote.targetingOptions},w=function(e){return e.quickPromote.shouldRefreshBillingInfo},A=function(e){var t=e.quickPromote;return{name:t.name,destination_url:t.destinationUrl,ad_type:t.adType,selected_ocpm_tag:t.selectedOCPMTag,budget:t.dailyBudget,duration:t.duration,is_ongoing:t.isOngoing,advertiser_id:t.advertiserId,interests:t.interests,ages:t.ages,genders:t.genders,isAutoTargeting:t.isAutoTargeting}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/52796-9e23bb2f4220e396.js.map