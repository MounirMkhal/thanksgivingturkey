"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[35637],{563463:function(e,t,n){n.r(t);var r,o,i,a,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},a],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};l.hash="bbb62c6d56086b286c3b53ed5e2cff4f",t.default=l,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l.default||l)},409510:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="6bb1a587f71f85424aa51845831862d4",t.default=r},635654:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="3caf9424c2af74d2b11a6ea682b57d1b",t.default=r},494119:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};r.hash="18c3db3fbed169f50cffd214f66ddd8e",t.default=r},771589:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};r.hash="f12c153dafdb70970e02775ea0db67c2",t.default=r},940220:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="76215b7b40cb02e76b77e58c8765d0d1",t.default=r},587679:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};r.hash="56f620fbd63abf8f7cb32f9a378198f8",t.default=r},27218:function(e,t,n){n.r(t);var r,o,i=(o=[r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"AdvisoryAction",abstractKey:null});i.hash="6ddea2ecd3dff2e1001c1e4d037cc858",t.default=i},599673:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};r.hash="5879c4710b107f258f42156bf3e47e37",t.default=r},730172:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};r.hash="4970946a36017d9ad0c751fd70cc512c",t.default=r},799535:function(e,t,n){n.r(t);var r,o,i,a=(o=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i=[r],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[r,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});a.hash="53d7eec34666980eda011429185b5b10",t.default=a},194117:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="d928a4e793c8e81567357b1faa71d2e3",t.default=r},869717:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};r.hash="1a4583782792fbfe92015cb2dbe50f70",t.default=r},216232:function(e,t,n){n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="bfa270bf437ef1e9195cafe07b0b3631",t.default=o},380718:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};r.hash="58c24e25a76e7a1c4533f3b07f490517",t.default=r},600483:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};r.hash="616d5be8fea6092b51f23b548a1a5dca",t.default=r},947793:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinPane_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};r.hash="4435ca5e135b834ea8a6425f68eb2f7a",t.default=r},583808:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};r.hash="d12a0ef89312e2429f28a098a2536c8a",t.default=r},382396:function(e,t){t.Z=2},191851:function(e,t,n){var r=n(282480);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=null,a=!1,l=0,s=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},c=function(){0===l&&window.addEventListener("scroll",s),l+=1},u=function(){(l-=1)||window.removeEventListener("scroll",s)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1],l=(0,r.useRef)(null);(0,r.useEffect)(function(){return c(),function(){l.current&&clearTimeout(l.current),u()}},[]);var s=function e(t){l.current&&clearTimeout(l.current),l.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:n,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}).current}}},723223:function(e,t,n){n.d(t,{W:function(){return D},Z:function(){return z}});var r,o,i,a,l,s=n(282480);n(711284);var c=n(573706),u=n(47848),d=n(730212),f=n(969119),p=n(897976),y=n(297949),h=n(488792),b=n(648089),v=n(770443),m=void 0!==r?r:r=n(27218);function g(e){var t,n=e.auxData,r=e.actionKey,o=e.alignCenter,i=(0,u.Z)(m,r),a=(0,h.Z)(),l=i.title,c=i.description,d=i.button,f=null==d?void 0:d.text,g=null==l?void 0:l.text,_=null==c?void 0:c.text,j=null!==(t=null==d?void 0:d.link)&&void 0!==t?t:"",x=j.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),P=f&&j.startsWith("http"),S=(0,b.Z)({url:j}),O=P&&S?"nofollow":"none";return(null==n?void 0:n.advisory_type)===p.Uv?(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)(y.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!g&&(0,v.jsx)(y.xv,{align:"start",weight:"bold",children:g}),!!_&&(0,v.jsx)(y.xv,{align:"start",children:_}),(0,v.jsx)(y.ZP,{color:"white",href:j,onClick:function(){(0,p.AY)(a,j,n)},rel:O,text:f||"Visit"})]})}):P?(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(y.xu,{marginBottom:1,children:(0,v.jsx)(y.xv,{align:o?"center":"start",weight:"bold",children:""!==f?f:"Visit"})}),(0,v.jsx)(y.xu,{marginBottom:1,children:(0,v.jsx)(y.rU,{href:j,onClick:function(){(0,p.AY)(a,j,n)},rel:O,children:(0,v.jsx)(y.xv,{align:o?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:x})})})]}):(0,v.jsxs)(s.Fragment,{children:[!!g&&(0,v.jsx)(y.xu,{marginBottom:1,children:(0,v.jsx)(y.xv,{align:o?"center":"start",weight:"bold",children:g})}),!!_&&(0,v.jsx)(y.xu,{marginBottom:1,children:(0,v.jsx)(y.xv,{align:o?"center":"start",children:_})})]})}var _=void 0!==o?o:o=n(730172);function j(e){for(var t=e.text,n=e.textTags,r=e.auxData,o=(0,h.Z)(),i=[],a=0,l=0;l<n.length;l+=1){var s=n[l];5===s.tagType&&s.link&&function(){var e=s.offset,n=s.length,l=s.link;if(null!=e&&null!=n&&null!=l){var c=t.substring(e,e+n),u=(0,v.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(y.rU,{display:"inlineBlock",href:l,onClick:function(){(0,p.AY)(o,l,r)},target:"blank",underline:"hover",children:c},c)});i.push((0,v.jsx)("span",{children:t.substring(a,e)})),i.push(u),a=e+n}}()}return(a>0&&i.push((0,v.jsx)("span",{children:t.substring(a)})),0===i.length)?[(0,v.jsx)("span",{children:t})]:i}function x(e){var t=e.auxData,n=e.textTagKey,r=e.text,o=(0,u.Z)(_,n);return(0,v.jsx)(j,{auxData:t,text:r,textTags:o})}var P=[4,14],S={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},O={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},w=void 0!==i?i:i=n(599673);function k(e){var t=e.auxData,n=e.advisory,r=e.inModal,o=e.noticeKey,i=(0,u.Z)(w,o),a=i.title,l=i.description,s=i.actions,c=!!(null!=s&&s.length)&&((null==t?void 0:t.advisory_type)===p.Uv||!!n&&P.includes(n)),d=(null==s?void 0:s.length)===1,f=l&&l.text||"";return(0,v.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:r?O:S},padding:6,rounding:2,children:[!!a&&!r&&(0,v.jsx)(y.xu,{display:"flex",marginBottom:2,children:(0,v.jsx)(y.X6,{size:"500",children:a})}),!!f&&(null==l?void 0:l.textTags)!=null&&(0,v.jsx)(y.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,v.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,v.jsx)(y.xv,{align:r?"center":"start",overflow:"normal",children:(0,v.jsx)(x,{auxData:t,text:f,textTagKey:l.textTags})})})}),c&&(0,v.jsx)(y.xu,{direction:r?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:null==s?void 0:s.map(function(e){return(0,v.jsx)(y.xu,{column:r||d?12:6,paddingX:2,paddingY:1,children:(0,v.jsx)(g,{actionKey:e,alignCenter:r||d,auxData:t})},e.actionId)})})]})}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var I=void 0!==a?a:a=n(799535);function T(e){var t,n,r,o,i,a=e.noticeKey,l=(0,u.Z)(I,a),s=(0,h.Z)(),c={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,v.jsxs)(y.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,v.jsxs)(y.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,v.jsx)("span",{style:c,children:(null===(t=l.description)||void 0===t?void 0:t.textTags)&&(0,v.jsx)(x,{text:(null===(n=l.description)||void 0===n?void 0:n.text)||"",textTagKey:l.description.textTags})}),(0,v.jsx)(y.xu,{marginTop:6,children:(null!==(r=l.actions)&&void 0!==r?r:[]).map(function(e){var t,n,r,o,i=null===(t=e.button)||void 0===t?void 0:t.link;return i&&i.startsWith("tel")?(0,v.jsxs)(y.xu,{children:[(0,v.jsx)("span",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({fontWeight:"600"},c),children:null===(n=e.title)||void 0===n?void 0:n.text}),(0,v.jsx)("span",{style:c,children:null===(r=e.description)||void 0===r?void 0:r.text})]}):(0,v.jsx)(y.rU,{href:i||"",onClick:function(){(0,p.AY)(s,i||"")},children:(0,v.jsx)(y.xu,{display:"inlineBlock",children:(0,v.jsx)(y.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,v.jsx)(y.xv,{color:"inverse",weight:"bold",children:(null===(o=e.button)||void 0===o?void 0:o.text)||""})})})})})})]})}),!!l.footer&&(0,v.jsx)(y.xu,{paddingY:2,width:540,children:(0,v.jsx)(y.rU,{display:"inlineBlock",href:null!==(o=l.footer.link)&&void 0!==o?o:"",onClick:function(){var e,t;(0,p.AY)(s,null!==(e=null===(t=l.footer)||void 0===t?void 0:t.link)&&void 0!==e?e:"")},target:"blank",underline:"hover",children:(0,v.jsx)(y.xv,{align:"center",color:"subtle",size:"100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(i=l.footer.text)&&void 0!==i?i:""}})})},l.footer.link)})]})}var E=n(511507),R=void 0!==l?l:l=n(583808);function B(e){var t=e.advisoryDetails,n=e.boardId,r=e.boardSectionId,o=e.query,i=e.sensitivity,a=e.viewParameter,l=e.viewType,s=(0,c.v)().logContextEvent;(0,f.Z)(function(){l&&s({aux_data:{entered_query:o,advisory_details:t,advisory_level:null==i?void 0:i.advisory,severity_level:null==i?void 0:i.severity,advisory_type:null==i?void 0:i.advisory_type,resource_country:null==i?void 0:i.resource_country},component:13367,event_type:120,view_parameter:a,view_type:l}),n&&5===l&&s({aux_data:{board_id:n,board_section_id:null!=r?r:0},component:178,event_type:15549,view_parameter:a,view_type:l})})}function D(e){var t=e.boardId,n=e.boardSectionId,r=e.sensitivityKey,o=e.inModal,i=e.query,a=e.viewParameter,l=e.viewType,c=e.advisoryDetails,f=(0,u.Z)(R,r),y=(0,E.Z)().data,h=(0,d.B)(),b=(y||{}).sensitivity;B({advisoryDetails:c,boardId:t,boardSectionId:n,query:i,sensitivity:null!=b?b:void 0,viewParameter:a,viewType:l});var m=null==f?void 0:f.notices,g={advisory_level:(null==b?void 0:b.advisory)||null,severity_level:(null==b?void 0:b.severity)||null,advisory_type:(null==b?void 0:b.advisory_type)||"",stage:h.stage,resource_country:(null==b?void 0:b.resource_country)||"",entered_query:i||""};return(0,v.jsx)(s.Fragment,{children:null==m?void 0:m.map(function(e){return 2===e.style&&(null==g?void 0:g.advisory_type)!==p.Uv?(0,v.jsx)(T,{noticeKey:e}):(0,v.jsx)(k,{advisory:null==b?void 0:b.advisory,auxData:g,inModal:o,noticeKey:e})})})}function z(e){var t=e.boardId,n=e.boardSectionId,r=e.notices,o=e.query,i=e.sensitivity,a=e.viewParameter,l=e.viewType,c=e.inModal;return B({advisoryDetails:null==i?void 0:i.advisory_details,boardId:t,boardSectionId:n,query:o,sensitivity:{advisory:null==i?void 0:i.advisory,severity:null==i?void 0:i.severity},viewParameter:a,viewType:l}),(0,v.jsx)(s.Fragment,{children:null==r?void 0:r.map(function(e){return 2===e.style?(0,v.jsx)(T,{noticeKey:{type:"deprecated",data:e}},e.id):(0,v.jsx)(k,{advisory:null==i?void 0:i.advisory,inModal:c,noticeKey:{type:"deprecated",data:e}},e.id)})})}},897976:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n.d(t,{AY:function(){return s},IR:function(){return a},St:function(){return i},Uv:function(){return c},Uz:function(){return l}});var i={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},a={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function l(e){return!!e&&e.severity===a.ABUSIVE}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e({aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var o,i;o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({url:t},n),component:13367,element:11180,event_type:101,view_parameter:43,view_type:2})}var c="THIRD_PARTY_TL"},47407:function(e,t,n){var r=n(282480),o=n(297949),i=n(144326),a=n(611735),l=n(770443);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(i);return e=t?Reflect.construct(n,arguments,p(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return y(f(e=r.call.apply(r,[this].concat(n))),"setInputRef",function(t){t&&(e._input=t)}),y(f(e),"handleKeyDown",function(t){var n=e.props,r=n.disabled,o=n.indexManager;if(!r)switch(t.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:t.preventDefault(),o.select();break;case a.Z.UP:t.preventDefault(),o.prev();break;case a.Z.DOWN:t.preventDefault(),o.next()}}),e}return n=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value;return(0,l.jsx)("div",{"data-test-id":"picker-search-field-container",onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,l.jsx)(o.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){return t(e.value)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:n})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);t.Z=function(e){var t=(0,i.ZP)();return(0,l.jsx)(b,u(u({},e),{},{i18n:t}))}},151600:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(282480),o=n(297949),i=n(144326),a=n(591412),l=n(401227),s=n(47407),c=n(411886),u=n(564665),d=n(589681),f=n(770443);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=m(i);return e=t?Reflect.construct(n,arguments,m(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return g(v(e=r.call.apply(r,[this].concat(n))),"state",{searchQuery:""}),g(v(e),"handleSelectItem",function(t){var n=e.props,r=n.onCreate,o=n.onSelected;!t&&r?r(e.state.searchQuery):t&&o(t),(r||t)&&e.setState({searchQuery:""})}),g(v(e),"handleSearchQueryInput",function(t){e.setState({searchQuery:t})}),g(v(e),"renderSectionHeader",function(e){return e.title?(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingX:3,paddingY:1,children:(0,f.jsx)(o.xv,{size:"200",children:e.title})})}):null}),g(v(e),"renderRow",function(t){var n=t.item,r=t.hovered,o=t.sectionProps,i=e.props,a=i.boardSavedTo,l=i.isSelectMode,s=i.disabledRowId,u=e.state.searchQuery,d=(void 0===o?{}:o).inSectionSelection,p=void 0!==d&&d,y=a&&a.board===n.id?a&&a.state:null,h="board_section"===n.type;return(0,f.jsx)(c.Z,{disabled:n.id===s&&p,isSection:h,isSelectMode:l,isWithinSectionPicker:p,item:n,saveState:y,searchQuery:u,selected:r})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.createButtonLabel,r=e.hasLowBoardCount,i=e.getSections,c=e.isLoaded,p=e.onCreate,y=e.pinId;if(!c)return(0,f.jsx)(o.xu,{paddingY:5,children:(0,f.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});var h=this.state.searchQuery,b=i(h);return this.indexManager=new a.Z(b.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!r&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,f.jsx)(s.Z,{disabled:!!t,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:h})})}),(0,f.jsx)(l.Z,{disabled:!!t,grow:!r&&!h,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:b}),p&&(0,f.jsx)(o.xu,{borderStyle:b.length>1?"shadow":"none",children:(0,f.jsx)(d.Z,{buttonLabel:n,hasHoverState:!0,name:h,onClick:function(){return p(h)}})}),r&&p&&y&&(0,f.jsx)(u.Z,{onBoardSelected:p,pinId:y})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function x(e){var t=(0,i.ZP)();return(0,f.jsx)(j,h(h({},e),{},{i18n:t}))}},909999:function(e,t,n){n.d(t,{j:function(){return a}});var r={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},o=function(e){if(!e)return"";for(var t="",n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},i=function(e,t){for(var n=t.split(" "),r=e.split(" "),i=0,a=0;a<r.length;a+=1)(o(r[a]).includes(n[i])||r[a].includes(n[i]))&&(i+=1);return i===n.length},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=t.toLowerCase();return e.filter(function(e){return i(e[n].toLowerCase(),r)})}},994699:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(282480),o=n(235838);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var d=function(e,t){var n=e.scrollTop,r=e.clientHeight,o=e.scrollHeight;return n+r+(t?t(r):2*r)>o},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=s(f);return e=t?Reflect.construct(n,arguments,s(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return c(l(e=r.call.apply(r,[this].concat(n))),"setContainerRef",function(t){e.containerRef=t}),c(l(e),"fetchMoreIfNecessary",(0,o.Z)(function(){var t=e.props,n=t.fetchMore,r=t.scrollBuffer;n&&e.containerRef&&d(e.containerRef,r)&&n()},200)),e}return n=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.PureComponent)},912355:function(e,t,n){var r=n(297949),o=n(990949),i=n(684860),a=n(770443),l=function(e){var t=e.collaborator_count,n=e.useLegoLayout,o=e.type;return n?(0,a.jsx)(r.xu,{marginEnd:t?2:0,children:(0,a.jsx)(i.Z,{type:o})}):(0,a.jsx)(i.Z,{type:o})};t.Z=function(e){var t,n=e.board,s=e.showCollaborativeIcon,c=e.showPrivateIcon,u=e.showProtectedIcon,d=e.showSectionsIcon,f=e.useLegoLayout,p=(null==n?void 0:null===(t=n.collaborating_users)||void 0===t?void 0:t.length)||0;return s||c||u||d?(0,a.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:f?0:5,children:[c&&(0,a.jsx)(l,{collaborator_count:p,type:"secret",useLegoLayout:f}),u&&(0,a.jsx)(l,{collaborator_count:p,type:"protected",useLegoLayout:f}),s&&(f?(0,a.jsx)(o.Z,{board:n,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(i.Z,{type:"group"})),d&&(0,a.jsx)(i.Z,{type:"sections"})]}):null}},605244:function(e,t,n){var r=n(297949),o=n(770443);t.Z=function(e){var t=e.image_url,n=e.naturalHeight,i=e.naturalWidth;return(0,o.jsx)(r.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,o.jsx)(r.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,o.jsx)(r.Ee,{alt:"",naturalHeight:n,naturalWidth:i,src:t})})})}},591412:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=a(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{Z:function(){return u}});var l={row:0,section:0},s={row:-1,section:-1},c=function(){},u=function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.index=i({},l),this.sections=e,this.updateCallback=c,this.selectItem=c}return e=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,n=e.section;return 0===t&&0===n}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,n=e.section,r=this.sections[n]||[];return this.sections.length===n+1&&r.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,n=e.section;t===s.row&&n===s.section?this.index=i({},l):this.sections[n].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,n=e.section;if(t===s.row&&n===s.section)this.index=i({},l);else if(t>0)this.index.row-=1;else{var r=this.index.section-1;this.index={section:r,row:this.sections[r].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,n=e.section;this.selectItem((this.sections[n]||[])[t])}},{key:"setInactive",value:function(){this.index=i({},s),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},401227:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(282480),o=n(297949),i=n(994699),a=n(770443);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(p);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function p(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p),d(c(t=r.call(this,e)),"setSelectedItemRef",function(e){t.selectedItemRef=e}),d(c(t),"handleIndexUpdate",function(e){var n=t.props.indexManager;t.setState({selectedIndex:n.getIndex(),selectionMovedByKeyboard:!!e})}),d(c(t),"handleSelectItem",function(e){return function(){var n=t.props,r=n.disabled,o=n.onSelectItem;r||o(e)}}),d(c(t),"handleMouseEnter",function(e){return function(){var n=t.props,r=n.disabled,o=n.indexManager;r||o.updateIndex(e)}}),d(c(t),"handleMouseLeave",function(){var e=t.props,n=e.disabled,r=e.indexManager;n||r.setInactive()}),d(c(t),"renderItems",function(e,n){var r=t.props.renderItem,i=t.state.selectedIndex||{},l=i.row,s=i.section,c=e.customProps,u=void 0===c?{}:c,d=e.items,f=e.renderItem,p=u.isDisabled,y=n===s,h=f||r;return h&&d.map(function(e,r){var i,s=null!==(i=null==p?void 0:p(e))&&void 0!==i&&i,c=y&&r===l;return(0,a.jsx)(o.xu,{ref:!s&&c?t.setSelectedItemRef:null,"data-test-id":"board-selection",children:s?h({item:e,hovered:c,sectionProps:u}):(0,a.jsx)(o.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter({section:n,row:r}),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:h({item:e,hovered:c,sectionProps:u})})},r)})}),d(c(t),"renderSections",function(){var e=t.props,n=e.renderSectionHeader;return e.sections.map(function(e,r){return(0,a.jsxs)(o.xu,{children:[n&&n(e,r),t.renderItems(e,r)]},r)})});var t,n=t.props.indexManager;return t.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(t.handleIndexUpdate),t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=this.selectedItemRef;if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),o=r.top,i=r.bottom,a=t.getBoundingClientRect(),l=a.top;i>=a.bottom?n.scrollIntoView(!1):o<=l&&n.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.grow,r=void 0!==n&&n,l=t.maxHeight,s=t.fetchMore;return(0,a.jsx)(i.Z,{fetchMore:s,children:function(t){var n=t.setRef,i=t.onScroll;return(0,a.jsx)(o.xu,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.containerRef=t,n(t)}),flex:r?"grow":void 0,height:r?"100%":void 0,maxHeight:l,onScroll:i,overflow:"auto",children:e.renderSections()})}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(p.prototype,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component)},560104:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(297949),o=n(770443),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(r.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:i,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l(e){var t=e.disabled,n=e.name,i=e.onClick,l=e.size,s=e.submitting,c=e.text;return(0,o.jsxs)(r.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[s&&(0,o.jsx)(a,{}),(0,o.jsx)(r.zx,{color:"red",disabled:t||s,name:n,onClick:i,size:l,text:c,type:"submit"})]})}},291130:function(e,t,n){n.d(t,{Z:function(){return B}});var r,o,i=n(282480);n(711284);var a=n(297949),l=n(47848),s=n(144326),c=n(240760),u=n(770443);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var v=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],m=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},g=function(e){return Math.PI/180*e},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(o);return e=t?Reflect.construct(n,arguments,y(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return h(p(e=r.call.apply(r,[this].concat(n))),"animationTimer",null),h(p(e),"canvasRemovalTimer",null),h(p(e),"containerRef",(0,i.createRef)()),h(p(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=e.containerRef.current.getBoundingClientRect(),n=t.height,r=t.width,o=2.5*n,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="".concat(0-(o-r)/2,"px"),i.style.top="".concat(0-(o-n)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(o,"px"),i.style.height="".concat(o,"px"),i.style.overflow="visible",i.width=o,i.height=o,i}),h(p(e),"explode",function(){var t=e.buildCanvas(),n=e.containerRef.current;if(t&&n){var r=t.getContext("2d");n.prepend(t);var o=Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(m(10,30)),color:v[Math.floor(Math.random()*v.length)],degree:Number(m(0,360).toFixed(1)),speed:Math.round(m(0,25)),friction:.9,opacity:Number(m(0,.5).toFixed(1)),yVel:0,gravity:.04}});r&&function e(t,n,r,o){window.requestAnimationFrame(function(){return e(t,n,r,o)}),n.clearRect(0,0,r,o),t.forEach(function(e){e.x+=e.speed*Math.cos(g(e.degree)),e.y+=e.speed*Math.sin(g(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(o,r,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){n.removeChild(t)},(e.props.delay||0)+800)}}),e}return n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,o=e.startAnimation;r&&o!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,u.jsx)(a.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.PureComponent);h(_,"defaultProps",{delay:0});var j=["pinKey","shuffleAssetKey"];function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}var I=void 0!==r?r:r=n(494119),T=void 0!==o?o:o=n(771589),E=function(e,t,n,r){var o,i,a,l,s,c={},u=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect(),d=null===(i=t.current)||void 0===i?void 0:i.getBoundingClientRect(),f=null===(a=r.current)||void 0===a?void 0:a.getBoundingClientRect();if(d&&u&&f){c={left:u.left-d.left,top:u.top-d.top};var p={x:f.left-u.left,y:f.top-u.top},y={x:(f.width-u.width)/2,y:(f.height-u.height)/2};l="translate(".concat(p.x,"px, ").concat(p.y,"px)"),s="translate(".concat(y.x,"px, ").concat(y.y,"px)")}return{mask:{position:"absolute",left:c.left,top:c.top,width:e?null==f?void 0:f.width:null==u?void 0:u.width,height:e?null==f?void 0:f.height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?l:"none",transform:e?l:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==u?void 0:u.width,height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=k(o);return e=t?Reflect.construct(n,arguments,k(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return C(w(e=r.call.apply(r,[this].concat(n))),"state",{isInitialized:!1}),C(w(e),"containerRef",(0,i.createRef)()),C(w(e),"pinDestinationRef",(0,i.createRef)()),e}return n=[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){var e=this.state.isInitialized,t=this.props.onDismiss;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}},{key:"render",value:function(){var e,t,n,r,o,l=this.props,s=l.pin,d=l.firstRepin,f=l.pinImageRef,p=l.selectedBoardName,y=l.shuffleAsset,h=null!==(e=null==y?void 0:y.cutoutImages)&&void 0!==e?e:null==s?void 0:s.imageSpec_236x,b=null!==(t=null==s?void 0:s.description)&&void 0!==t?t:"",v=null!==(n=null==h?void 0:h.height)&&void 0!==n?n:1,m=null!==(r=null==h?void 0:h.width)&&void 0!==r?r:1,g=null!==(o=null==h?void 0:h.url)&&void 0!==o?o:"",j=this.state.isInitialized,x=E(j,this.containerRef,f,this.pinDestinationRef),P=x.mask,S=x.imageContainer;return(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)(a.xu,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:P},maxHeight:335,overflow:"hidden",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:S},children:(0,u.jsx)(a.Ee,{alt:b,naturalHeight:v,naturalWidth:m,src:g})})}),(0,u.jsx)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:j?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}},left:!0,position:"absolute",right:!0,top:!0,children:(0,u.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:j?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,u.jsx)(_,{delay:1250,startAnimation:j,children:(0,u.jsx)(a.zd,{height:180,rounding:2,width:270,children:(0,u.jsxs)(a.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,u.jsx)(a.xu,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,u.jsx)(a.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,u.jsx)(a.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:j?1:0,WebkitTransform:j?"translateY(0)":"translateY(20%)",transform:j?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"}},"data-test-id":"board-saved-heading",paddingX:2,children:(0,u.jsx)(a.X6,{align:"center",children:d?(0,c.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:null!=p?p:""}):(0,c.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:null!=p?p:""})})})]})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.PureComponent);function B(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,j),o=(0,s.ZP)(),i=(0,l.Z)(I,t),a=(0,l.Z)(T,n);return(0,u.jsx)(R,S(S({},r),{},{i18n:o,pin:i,shuffleAsset:a}))}C(R,"defaultProps",{firstRepin:!1})},990949:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(297949),o=n(144326),i=n(240760),a=n(383399),l=n(770443);function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t,n,r,o,i=null!==(t=null!==(n=null==e?void 0:e.imageMediumUrl)&&void 0!==n?n:null==e?void 0:e.image_medium_url)&&void 0!==t?t:"";return{name:null!==(r=null!==(o=null==e?void 0:e.fullName)&&void 0!==o?o:null==e?void 0:e.full_name)&&void 0!==r?r:"",src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function d(e){var t,n,c,d,f,p=e.board,y=e.forceViewer,h=e.isCompact,b=e.ownerOnly,v=(0,o.ZP)(),m=(0,a.Z)(),g=b?[u(null==p?void 0:p.owner)]:(function(e,t,n){var r=null!=e?e:{},o=r.collaborated_by_me,i=r.collaborating_users,a=r.owner,l=null!=i?i:[],c=[a];if(o||n){var u=l.findIndex(function(e){return t.isAuth&&e.id===t.id});if(-1!==u){var d=l.splice(u,1)[0];c.push(d)}else c.push(t)}var f=s(l).sort(function(e,t){var n,r,o,i;return(null!==(n=e.full_name)&&void 0!==n?n:"")>(null!==(r=t.full_name)&&void 0!==r?r:"")?1:(null!==(o=t.full_name)&&void 0!==o?o:"")>(null!==(i=e.full_name)&&void 0!==i?i:"")?-1:0});return[].concat(c,s(f))})(p,m,y).map(u),_=g.slice(0,3).map(function(e){return e.name}),j="";switch(g.length){case 3:j=(0,i.Wc)("".concat(v._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(null!==(t=_[0])&&void 0!==t?t:""),second:"".concat(null!==(n=_[1])&&void 0!==n?n:""),last:"".concat(null!==(c=_[2])&&void 0!==c?c:"")});break;case 2:j=(0,i.Wc)("".concat(v._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(null!==(d=_[0])&&void 0!==d?d:""),second:"".concat(null!==(f=_[1])&&void 0!==f?f:"")});break;default:j=_.join(", ")}var x=g.length>3?(0,i.Wc)(", ".concat(v.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', g.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')),{userNames:j,leftCount:"".concat(g.length-3)}):(0,i.Wc)(", ".concat(v._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:j});return(0,l.jsx)(r.HE,{accessibilityLabel:x,collaborators:g,size:h?"xs":"sm"})}},465256:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(252071),o=n(338623),i=n(880560),a=n(476310),l=n(701842),s=n(344502),c=n(403764);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e,t,n,f){var p=e.boardId,y=e.sourceBoardId,h=void 0===y?"":y,b=e.sourceSectionId,v=void 0===b?"":b,m=e.name,g=e.nameSource,_=e.pinImport,j=e.initialPinIds,x=0;"RECOMMENDATION"===g?x=1:"EDITED_RECOMMENDATION"===g&&(x=2);var P=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({board_id:p,initial_pins:_&&!_.all?_.pinIds:void 0===j?[]:j,name:m,name_source:x},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return r.Z.create("BoardSectionResource",P).callCreate({showError:!1}).then(function(r){var u=r.resource_response.data;f({event_type:7100,object_id_str:u.id}),e((0,a.hd)(p,u)),e((0,l.vX)({feedId:p,feedType:c.Z.BOARD_SECTIONS,itemIds:[u.id],itemType:"boardsection"})),e((0,i.Z)(p,"pin_count")),e((0,o.jB)("BoardSectionsRepinResource",{board_id:p,orbac_subject_id:n}));var d=_||{all:!1,pinIds:[]},y=d.all,b=d.pinIds;return y?new Promise(function(n,r){return e((0,s.Z)({inverseSelection:!0,selectedPinIds:b,source:{boardId:h||p,sectionId:v||null},target:{boardId:p,sectionId:u.id}},t)).then(function(){return n(u)}).catch(r)}):(b.length>0&&e((0,l.N8)(c.Z.BOARDFEED,p)),u)})}}},880560:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(468808);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return(0,r.U)("BoardResource",{options:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({board_id:e,field_set_key:t},n?{orbac_subject_id:n}:{})})}},344502:function(e,t,n){n.d(t,{Z:function(){return p},S:function(){return f}});var r=n(252071),o=n(880560),i=n(508629),a=n(701842),l=n(403764),s=n(785020),c=function(e){return function(t){s.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},u=function(e){return(0,a.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId)};function d(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t((0,o.Z)(n.boardId,"pin_count")),t((0,o.Z)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,o.Z)(r.boardId,"pin_count")),n.sectionId&&t((0,i.Z)(n.sectionId)),r.sectionId&&t((0,i.Z)(r.sectionId))}function f(e){return function(t){var n=e.selectedPinIds,r=e.source,o=e.target;t((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),d(e,t)}}function p(e,t){return function(n){return(function(e,t,n){var o=e.inverseSelection,i=e.selectedPinIds,s=e.source,d=e.target,f=e.orbacSubjectId;if(s.boardId===d.boardId&&(s.sectionId||null)===(d.sectionId||null))return Promise.reject();if(o){var p={board_id:s.boardId,new_board_id:d.boardId,old_section_id:s.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([t(u(s)),t(u(d))])}).catch(c(n))}var y=function(e,n){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};y(s,d);var h=function(){return y(d,s)};if(d.boardId===s.boardId){if(d.sectionId){var b={section_id:d.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionEditResource",b).callUpdate({showError:!1}).catch(function(e){h(),c(n)(e)})}var v={section_id:s.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionPinsResource",v).callDelete({showError:!1}).catch(function(e){h(),c(n)(e)})}var m={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditResource",m).callUpdate({showError:!1}).catch(function(e){h(),c(n)(e)})})(e,n,t).then(function(){return d(e,n)})}}},411886:function(e,t,n){n.d(t,{W:function(){return u}});var r=n(297949),o=n(640498),i=n(144326),a=n(912355),l=n(605244),s=n(684860),c=n(770443);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce(function(n,r,o){if(n.length>0&&e&&e.length){var i=t.toLowerCase().indexOf(e.toLowerCase());return n.concat((0,c.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(i,i+e.length)},o),r)}return[r]},[]):t}t.Z=function(e){var t,n,d,f,p,y,h=(0,i.ZP)(),b=e.disabled,v=e.item,m=e.isSection,g=e.isSelectMode,_=e.isWithinSectionPicker,j=e.saveState,x=e.searchQuery,P=e.selected,S=m?null:v,O=m?v:null,w=O&&O.title||S&&S.name||"",k="",C=!1,A="",I=0;if(S){k=S.image_cover_url,C=S.is_collaborative,A=S.privacy;var T=S.section_count;I=void 0===T?0:T}var E=u(x,w),R=A===o.ZP.BoardPrivacy.SECRET,B=!b&&(P||!!j),D=!_&&"number"==typeof I&&I>0,z="number"==typeof I&&I>0?"boardWithSection":"boardWithoutSection",Z=g?h._('Select', 'Board select button label', 'Board select button label'):h._('Save', 'Pin save button label', 'Pin save button label');return(0,c.jsxs)(r.xu,{alignItems:"center",color:B?"secondary":"default","data-test-id":z,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[S&&(0,c.jsx)(r.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:k?(0,c.jsx)(r.Ee,{alt:h._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:k}):(0,c.jsx)("span",{})}),O&&!!(null!==(t=O.preview_pins)&&void 0!==t&&t.length)&&(0,c.jsx)(l.Z,{image_url:null!==(n=O.preview_pins[0].image_square_url)&&void 0!==n?n:"",naturalHeight:null!==(d=null===(f=O.preview_pins[0].image_square_size_pixels)||void 0===f?void 0:f.height)&&void 0!==d?d:1,naturalWidth:null!==(p=null===(y=O.preview_pins[0].image_square_size_pixels)||void 0===y?void 0:y.width)&&void 0!==p?p:1}),(0,c.jsxs)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,c.jsx)(r.xv,{color:b?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:E}),(D||!B)&&(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[R&&(0,c.jsx)(s.Z,{type:"secret"}),C&&(0,c.jsx)(a.Z,{board:S,showCollaborativeIcon:C,useLegoLayout:!0}),D&&(0,c.jsx)(s.Z,{type:"sections"})]}),!D&&B&&!j&&(0,c.jsx)(r.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,c.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:Z})}),!D&&B&&"loading"===j&&(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,c.jsx)(r.$j,{accessibilityLabel:h._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},684860:function(e,t,n){var r=n(297949),o=n(144326),i=n(770443);t.Z=function(e){var t=e.type,n=(0,o.ZP)(),a={group:{accessibilityLabel:n._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:n._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:n._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:n._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:n._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}}[t];return(0,i.jsx)(r.xu,{marginStart:1,children:(0,i.jsx)(r.xu,{marginStart:2,children:"sections"===t||"sectionsInline"===t?(0,i.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:"12"}):(0,i.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:16})})})}},564665:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(282480),o=n(297949),i=n(573706),a=n(144326),l=n(961754),s=n(770443);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=f(i);return e=t?Reflect.construct(n,arguments,f(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return p(d(e=r.call.apply(r,[this].concat(n))),"state",{isHovering:!1}),p(d(e),"onHover",function(){e.setState({isHovering:!0})}),p(d(e),"offHover",function(){e.setState({isHovering:!1})}),e}return n=[{key:"render",value:function(){var e,t,n,r=this.props,i=r.name,a=r.selected,l=r.image;return r.inFlyoutExp?(0,s.jsxs)(o.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&l?(0,s.jsx)(o.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!==(e=l.height)&&void 0!==e?e:1,naturalWidth:null!==(t=l.width)&&void 0!==t?t:1,src:null!==(n=l.url)&&void 0!==n?n:""}):(0,s.jsx)(o.xu,{color:"secondary",height:40,width:40})})}),(0,s.jsx)(o.xu,{padding:2,children:(0,s.jsx)(o.X6,{size:"400",children:i})})]}):(0,s.jsxs)(o.xu,{alignItems:"center",color:a?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.JO,{accessibilityLabel:"",color:a?"default":"subtle",icon:"add"})}),(0,s.jsx)(o.xu,{marginStart:3,children:(0,s.jsx)(o.xv,{color:a?"default":"subtle",weight:"bold",children:i})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t,n,c=e.inFlyoutExp,u=e.inFirstBoardCreateGestaltExp,d=e.pinId,f=e.image,p=e.minHeight,y=e.onBoardSelected,v=(0,i.v)().logContextEvent,m=(0,a.ZP)(),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(-1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=g[0],j=g[1],x=(0,l.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(String(d),"/board_title_suggestions/"),pin_id:d}}),P=x.data,S=x.isLoaded,O=(n=void 0===P?[]:P,(0,r.useMemo)(function(){return n&&n.length?n.map(function(e){return e.title}):[]},[n])),w=function(e){y(O[e],!1),v({event_type:101,component:13025,element:23})},k=function(e){j(e)},C=function(){j(-1)},A=function(e,t){var n=_===t;return(0,s.jsx)("li",{children:(0,s.jsx)(o.iP,{onMouseEnter:function(){return k(t)},onMouseLeave:C,onTap:function(){return w(t)},children:(0,s.jsx)(h,{image:f,inFlyoutExp:c,name:e,selected:n})})},t)};return S?O&&O.length?c?(0,s.jsx)(o.xu,{children:(0,s.jsx)("ul",{children:O.map(A)})}):u?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,s.jsx)(o.xv,{children:m._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,s.jsx)("ul",{children:O.map(A)})]}):(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginTop:2,paddingX:5,children:(0,s.jsx)(o.xv,{children:m._('Suggested board names', ' - ', ' -- ')})}),(0,s.jsx)("ul",{children:O.map(A)})]}):null:(0,s.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,s.jsx)(o.$j,{accessibilityLabel:m._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},589681:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(297949),o=n(144326),i=n(191851),a=n(770443);function l(e){var t=(0,o.ZP)(),n=e.buttonLabel,l=e.hasHoverState,s=e.name,c=e.onClick,u=(0,i.Z)(),d=u.isHovering,f=u.hoverHandlers,p=s||n||t._('Create board', ' - ', ' -- ');return(0,a.jsx)(r.iP,{onMouseEnter:f.onMouseOver,onMouseLeave:f.onMouseLeave,onTap:c,children:(0,a.jsxs)(r.xu,{alignItems:"center",color:l&&d?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,a.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,a.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),s?(0,a.jsx)(r.xu,{margin:1,children:(0,a.jsxs)(r.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,a.jsxs)(r.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},150333:function(e,t,n){var r=n(282480),o=n(545007),i=n(297949),a=n(488792),l=n(144326),s=n(611735),c=n(383399),u=n(501912),d=n(801621),f=n(560104),p=n(465256),y=n(770443);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=_(o);return e=t?Reflect.construct(n,arguments,_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),j(g(t=r.call(this,e)),"onCreateSection",function(){var e=t.props,n=e.board,r=e.sourceBoard,o=e.sourceSection,i=e.dispatch,a=e.completeCreateSectionAction,l=e.pinImport,s=e.viewer,c=e.orbacActingAs,u=e.logContextEvent,f=(0,d.lJ)(s,c);return t.setState({isSaving:!0}),i((0,p.Z)({boardId:n.id,sourceBoardId:r&&r.id,sourceSectionId:o&&o.id,name:t.state.inputName.trim(),pinImport:l},t.props.i18n,f,u)).then(function(e){t.setState({isSaving:!1}),a(e)}).catch(function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})})}),j(g(t),"handleKeyDown",function(e){var n=e.event,r=t.state,o=r.createError,i=r.inputName;[s.Z.ENTER,s.Z.NUMPAD_ENTER].includes(n.which)&&!o&&i.trim()&&t.onCreateSection()}),j(g(t),"handleChangeName",function(e){var n=e.value;t.setState({createError:null,inputName:n})}),j(g(t),"handleInputRef",function(e){t.setState({inputRef:e})}),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return n=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.createError,o=n.inputRef;o&&(!t.inputRef||r)&&o.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,n=e.positionRelative,r=this.state,o=r.createError,a=r.inputName,l=r.isSaving,s=!!a.trim()&&!o;return(0,y.jsxs)(i.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:n?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[t&&(0,y.jsx)(i.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,y.jsx)(i.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,y.jsxs)(i.xu,{padding:4,children:[(0,y.jsx)(i.xu,{marginBottom:2,children:(0,y.jsx)(i.__,{htmlFor:"sectionEditName",children:(0,y.jsx)(i.xv,{color:o?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,y.jsx)(i.xu,{children:(0,y.jsx)(i.xu,{ref:this.handleInputRef,children:(0,y.jsx)(i.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:a})})})]}),(0,y.jsx)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,y.jsx)(i.xu,{padding:4,children:(0,y.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,y.jsx)(f.Z,{disabled:!s||l,onClick:this.onCreateSection,submitting:l,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);t.Z=function(e){var t=(0,o.I0)(),n=(0,l.ZP)(),r=(0,c.Z)(),i=(0,u.Z)();return(0,y.jsx)(P,v(v({},e),{},{dispatch:t,i18n:n,logContextEvent:(0,a.Z)(),orbacActingAs:i,viewer:r}))}},357346:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(297949),o=n(503237),i=n(770443);function a(e){var t=e.url,n=e.description,a=e.color;return a=a||"#8fa7bf",(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:a}},height:216,rounding:2,width:"100%",children:(0,i.jsxs)(r.xu,{maxHeight:200,overflow:"hidden",padding:4,children:[t&&(0,i.jsx)(r.xu,{marginBottom:2,children:(0,i.jsx)(r.xv,{color:"inverse",size:"100",children:(0,o.Z)(t).hostname||t})}),(0,i.jsx)(r.xu,{maxHeight:144,children:(0,i.jsx)(r.xv,{color:"inverse",overflow:"normal",weight:"bold",children:n})})]})})}},686993:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(282480),o=n(297949),i=n(400416),a=n(357013),l=n(144326),s=n(240760),c=n(611735),u=n(639686),d=n(770443);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(l,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(l);return e=t?Reflect.construct(n,arguments,v(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return m(b(e=r.call.apply(r,[this].concat(n))),"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),m(b(e),"onDismiss",function(){}),m(b(e),"mounted",!1),m(b(e),"addHashtag",function(t){e.props.addHashtag(t),e.setState({recommendations:[]})}),m(b(e),"handleKeyDown",function(t){t.keyCode===c.Z.UP?e.handlePrevHashtag(t):t.keyCode===c.Z.DOWN?e.handleNextHashtag(t):t.keyCode===c.Z.ESCAPE?e.handleClose(t):t.keyCode===c.Z.ENTER&&e.handleSubmit(t)}),m(b(e),"handlePrevHashtag",function(t){t.preventDefault(),e.state.selectedIndex>0&&e.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),m(b(e),"handleNextHashtag",function(t){t.preventDefault(),e.state.selectedIndex<e.state.recommendations.length-1&&e.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),m(b(e),"handleClose",function(t){t.preventDefault(),e.setState({recommendations:[]})}),m(b(e),"handleSubmit",function(t){t.preventDefault(),e.addHashtag(e.state.recommendations[e.state.selectedIndex].query)}),m(b(e),"callResource",function(t){(0,e.props.makeCancelablePromise)((0,i.Z)({url:"/v3/search/autocomplete/",data:{q:t,show_pin_count:!0}}),"typeahead").then(function(t){if(e.mounted){var n=t.resource_response.data;e.setState({recommendations:n.slice(0,5),resourceLoaded:!0})}}).catch(function(t){t.isCanceled||e.setState({resourceLoaded:!1})})}),e}return n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.recommendations,r=t.resourceLoaded,i=t.selectedIndex,l=this.props,c=l.anchor,u=l.idealDirection,f=n.filter(function(e){return e.query}),p="flyout_"+f.length;return r&&f.length>0?(0,d.jsx)(o.J2,{anchor:c,idealDirection:u||"down",onDismiss:this.onDismiss,size:"sm",children:(0,d.jsx)(o.xu,{width:"100%",zIndex:new o.Ry(3),children:f.length>0?f.map(function(t,n){return(0,d.jsx)(o.iP,{fullWidth:!1,onTap:function(){return e.addHashtag(t.query)},children:(0,d.jsxs)(o.xu,{alignItems:"center",color:n===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:t.query})}),(0,d.jsx)(o.xu,{flex:"none",children:(0,d.jsx)(o.xv,{inline:!0,size:"100",children:(0,s.nk)(e.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(t.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,d.jsx)(a.Z,{value:Number(t.pin_count)},"pinCount")})})})]})},t.query)}):null})},p):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}(l.prototype,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);function j(e){var t=(0,l.ZP)(),n=(0,u.Z)();return(0,d.jsx)(_,y(y({},e),{},{i18n:t,makeCancelablePromise:n}))}},374371:function(e,t,n){n.d(t,{Z:function(){return z}});var r,o,i,a,l,s=n(282480);n(711284);var c=n(297949),u=n(573706),d=n(47848),f=n(357346),p=n(529521),y=n(289762),h=n(144326),b=n(240760),v=n(961754),m=n(770443),g=void 0!==r?r:r=n(635654),_=void 0!==o?o:o=n(409510),j=void 0!==i?i:i=n(563463);function x(e){var t,n=e.pinKey,r=(0,h.ZP)(),o=(0,d.Z)(g,n),i="GraphQL"===(0,p.oy)(n),a=(0,y.Z)({strategy:i?"GRAPHQL":"LEGACY",query:j,variables:{pinId:o.entityId},options:{fetchPolicy:"network-only"},useGetLegacyResource:function(e){var t=e.pinId,n=(0,v.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(t,"/"),field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return{data:n.data,refresh:n.refresh}}}),l=(null==a?void 0:null===(t=a.v3GetPinQuery)||void 0===t?void 0:t.__typename)==="V3GetPin"?a.v3GetPinQuery.data:null,s=(0,d.Z)(_,l);return s&&s.pinnedToBoard&&"quick_creates"!==s.pinnedToBoard.layout?(0,m.jsxs)(c.xu,{children:[(0,m.jsx)(c.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,m.jsx)(c.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,b.nk)(r._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(s.pinnedToBoard||{}).name}).join(" ")})}),(0,m.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,m.jsx)(c.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var P=n(686993),S=["pinKey","shuffleAssetKey"];function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}var R=void 0!==a?a:a=n(194117),B=void 0!==l?l:l=n(869717),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=I(o);return e=t?Reflect.construct(n,arguments,I(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function o(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return T(A(t=r.call.apply(r,[this].concat(i))),"state",{flyoutCursorIndex:-1,description:(null===(e=t.props.pin)||void 0===e?void 0:e.description)&&t.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),T(A(t),"updateDescription",function(e){t.props.updateDescription&&t.props.updateDescription(e)}),T(A(t),"handleHashtagAddition",function(e){var n=t.props.pin;t.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:null==n?void 0:n.entityId,aux_data:{hashtags:e}});var r=t.state.flyoutCursorIndex,o=Number(r+t.state.hashtagQuery.length),i=t.state.description.slice(0,r)+e+" "+t.state.description.slice(o);t.updateDescription(i),t.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),t}return n=[{key:"render",value:function(){var e,t,n,r,o=this.props,i=o.color,a=o.isFirstPin,l=o.pin,s=o.pinImageRef,u=o.shuffleAsset,d=this.state,p=d.editing,y=d.flyoutOpened,h=d.hashtagQuery,b=d.isHashtagFlyoutOpen,v=null!==(e=null==u?void 0:u.cutoutImages)&&void 0!==e?e:null==l?void 0:l.imageSpec_236x,g=(null==v?void 0:v.url)||(null==l?void 0:l.imageBase64)||(null===(t=this.props.urlPinInfo)||void 0===t?void 0:t.imageUrl),_=this.state.description||(null===(n=this.props.urlPinInfo)||void 0===n?void 0:n.description)||"",j=(null==l?void 0:l.link)||(null===(r=this.props.urlPinInfo)||void 0===r?void 0:r.link);return(0,m.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:y&&p?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:a?"50%":"",children:[(0,m.jsxs)(c.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(null==l?void 0:l.entityId)&&!u&&(0,m.jsx)(x,{pinKey:l}),(0,m.jsx)(c.xu,{paddingY:a?9:0,width:240,children:(0,m.jsx)(c.xu,{ref:s,maxHeight:y&&p?220:335,overflow:"hidden",rounding:4,children:g?(0,m.jsx)(c.Ee,{alt:_,naturalHeight:(null==v?void 0:v.height)||1,naturalWidth:(null==v?void 0:v.width)||1,src:g}):!!j&&(0,m.jsx)(f.Z,{color:i||"",description:_,url:j})})})]}),this.anchor&&b?(0,m.jsx)(P.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:h}):null]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);function z(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,S),o=(0,u.v)().logContextEvent,i=(0,d.Z)(R,t),a=(0,d.Z)(B,n);return(0,m.jsx)(D,k(k({},r),{},{logContextEvent:o,pin:i,shuffleAsset:a}))}},195456:function(e,t,n){n.d(t,{K:function(){return Q}});var r,o,i=n(282480),a=n(545007);n(711284);var l=n(868073),s=n(252071),c=n(573706),u=n(785020),d=n(989820),f=n(801925),p=n(476198),y=n(47848),h=n(136061),b=n(144326),v=n(468808),m=n(901450),g=n(308551),_=n(383399),j=n(732567),x=n(133003),P=n(127566),S=n(605810),O=n(119437),w=n(409065),k=n(900492),C=n(297949);n(640498);var A=n(240760),I=n(415384),T=n(770443),E=function(e,t,n){var r;return n?(0,I.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:null!==(r=n.title)&&void 0!==r?r:"",boardName:null!=t?t:""}):(0,T.jsx)(C.xv,{children:(0,A.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,T.jsx)(C.xv,{weight:"bold",children:t})})})},R=n(845349),B=["pinKey","shuffleAssetKey"];function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}var H=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,U=void 0!==r?r:r=n(216232),W=void 0!==o?o:o=n(380718),q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=L(o);return e=t?Reflect.construct(n,arguments,L(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return K(e)}(this,e)});function o(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return N(K(t=r.call.apply(r,[this].concat(i))),"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:t.getModalTitle(t.props.showCreate,!!t.props.boardWithSection),pinDescription:t.props.pin&&t.props.pin.description||(null===(e=t.props.urlPinInfo)||void 0===e?void 0:e.description)||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),N(K(t),"unmounted",!1),N(K(t),"setModalTitle",function(e){return t.safeSetState({modalTitle:e})}),N(K(t),"updateDescription",function(e){t.safeSetState({pinDescription:e})}),N(K(t),"close",function(){var e=t.props.onClose;e&&e(),t.props.logContextEvent({event_type:2502,component:5,element:610})}),N(K(t),"safeSetState",function(e,n){t.unmounted?n&&n():t.setState(e,n)}),N(K(t),"getPinResource",function(e,n,r){var o,i,a,l,c=t.props,u=c.color,d=c.clientTrackingParams,f=c.pin,p=c.method,y=c.guid,h=c.additionalCreateFields,b=c.advertiser_id,v=c.urlPinInfo,m=c.shuffleAsset,_=null!=f&&f.entityId?"RepinResource":"PinResource",j=(null==f?void 0:f.imageUrl)||(null==v?void 0:v.imageUrl),x=(null==f?void 0:f.link)||(null==v?void 0:v.link),S=!(null!=f&&f.entityId)&&j?(0,g.Z)(j,x):(null==f?void 0:null===(o=f.imageSpec_orig)||void 0===o?void 0:o.url)||"",O=Z(Z(Z({},h),{},{board_id:n||"",color:u||"",clientTrackingParams:(0,P.Z)(d,null==f?void 0:f.trackingParams),description:t.state.pinDescription,guid:y||"",link:x,image_base64:null!==(i=null==f?void 0:f.imageBase64)&&void 0!==i?i:void 0,image_url:S,is_buyable_pin:!1,is_removable:null!==(a=null==f?void 0:f.promotedIsRemovable)&&void 0!==a?a:void 0,media_upload_id:null!==(l=null==f?void 0:f.mediaUploadId)&&void 0!==l?l:void 0,method:p||"",pin_id:(null==f?void 0:f.entityId)||"",section:r,title:(null==f?void 0:f.title)||""},b?{advertiser_id:b}:Object.freeze({})),m?{shuffle_asset:m.entityId}:{});if(!e){var w=t.state.sharing,k=w.facebook,C=w.twitter;O.share_facebook=k,O.share_twitter=C}return s.Z.create(_,O)}),N(K(t),"triggerPubSubs",function(e){t.props.onPinCreate&&t.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),N(K(t),"makeCancelablePromise",function(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)}),e.catch(function(e){return t?r({isCanceled:!0}):r(e)})}),cancel:function(){t=!0}}}),N(K(t),"handleLogToastClick",function(){t.props.logContextEvent({event_type:101,component:20,view_type:52})}),N(K(t),"showBoardSavedToast",function(e,n){var r=t.props,o=r.toastManagerContext,i=r.i18n;o.showToast(function(r){var o,a,l,s=r.hideToast;return(0,T.jsx)(p.ZP,{duration:R.A,href:n?"".concat(null!==(o=e.url)&&void 0!==o?o:"").concat(null!==(a=n.slug)&&void 0!==a?a:""):e.url,imageUrl:null!==(l=e.image_cover_url)&&void 0!==l?l:"",onClick:t.handleLogToastClick,onHide:s,text:E(i,e.name,n)})})}),N(K(t),"dismissModal",function(){var e=t.state,n=e.resolve,r=e.newPin;n&&n(r)}),N(K(t),"handleBoardSaveSuccess",function(e,n,r,o){var i,a,l,s=t.props,c=(s.action,s.saveToBoard),u=s.dispatch,d=s.pin,p=s.setCompletionPromise,y=s.shouldShowToast,h=s.showRepinAnimation,b=s.viewerUserId,m=s.urlPinInfo;u((0,f.fO)());var g=e.resource_response.data,_=t.makeCancelablePromise(new Promise(function(e){t.triggerPubSubs(g);var i,a=t.state.pinDescription.match(H)||[];a.length>0&&t.props.logContextEvent({event_type:2,element:10273,object_id_str:null===(i=t.props.pin)||void 0===i?void 0:i.entityId,aux_data:{hashtags:JSON.stringify(a)}}),o?(y&&t.showBoardSavedToast(n,r),t.safeSetState({displaySuccessAnimation:!0,modalTitle:t.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:g,resolve:e})):e(g)}));!o&&null!=d&&d.entityId&&h(d.entityId),p(_),c(n),u((0,O.Br)({boardId:n.id,sectionId:r&&r.id,increment:1})),b&&(u((0,k.JS)({userId:b,increment:1})),u((0,f.fO)())),(r||!n.image_cover_url)&&(n.image_cover_url=(null==d?void 0:d.imageUrl)||(null==m?void 0:m.imageUrl)||(null==d?void 0:null===(i=d.imageSpec_236x)||void 0===i?void 0:i.url)||"",u((0,O.yT)(n))),r&&u((0,v.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:r.id}})),null!=d&&d.entityId&&u((0,w.Ur)({id:d.entityId,nodeId:d.__id,boardId:n.id,title:null!==(a=n.name)&&void 0!==a?a:"",url:null!==(l=n.url)&&void 0!==l?l:"",localPinId:g.id}))}),N(K(t),"handleSaveToBoard",function(e,n,r){var o=t.props,i=o.onToggleModal,a=o.shouldShowToast,l=o.mountAfterActionPlacement;a&&!r&&(t.close(),t.showBoardSavedToast(e,n));var s="secret"===(e.privacy||""),c={board:n?n.id:e.id,state:R.S.LOADING};t.safeSetState({boardSavedTo:c},function(){t.getPinResource(s,e.id,(n||{}).id).callCreate({showError:!1}).then(function(o){var a,s;l("Save",{pin_id:null===(a=t.props.pin)||void 0===a?void 0:a.entityId,is_promoted:null===(s=t.props.pin)||void 0===s?void 0:s.isPromoted}),t.safeSetState({boardSavedTo:Object.assign(c,{state:R.S.SUCCESS})},function(){return t.handleBoardSaveSuccess(o,e,n,r)}),i&&!r&&i(!1)}).catch(function(e){t.unmounted||t.safeSetState({boardSavedTo:null}),u.Z.showError(e.message_detail||e.message);var n=t.makeCancelablePromise(Promise.reject(e));t.props.setCompletionPromise(n),i&&i(!1)})})}),N(K(t),"handleNewBoardAnimationCompletion",function(){var e=t.props,n=e.pin,r=e.showRepinAnimation;null!=n&&n.entityId&&r(n.entityId)}),t}return n=[{key:"getModalTitle",value:function(e,t){return e?t?this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane'):this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.boardWithSection,r=t.showCreate,o=t.pin,i=t.urlPinInfo,a=t.description,l={};(o!==e.pin||i!==e.urlPinInfo||a!==e.description)&&(l.pinDescription=(null==o?void 0:o.description)||(null==i?void 0:i.description)||a||""),(r!==e.showCreate||n!==e.boardWithSection)&&(l.modalTitle=this.getModalTitle(r,!!n)),Object.keys(l).length>0&&this.safeSetState(l)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.close,t=this.dismissModal,n=this.handleNewBoardAnimationCompletion,r=this.handleSaveToBoard,o=this.setModalTitle,i=this.updateDescription,a=this.state,l=a.boardSavedTo,s=a.displaySuccessAnimation,c=a.modalTitle,u=a.newPin,d=this.props.color;return this.props.children({boardSavedTo:l,color:d,dismissModal:t,displaySuccessAnimation:s,handleAbort:e,handleNewBoardAnimationCompletion:n,handleSaveToBoard:r,modalTitle:c,newPin:u,setModalTitle:o,updateDescription:i})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.Component);function Q(e){var t,n=e.pinKey,r=e.shuffleAssetKey,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,B),i=(0,x.N)().saveToBoard,s=(0,c.v)().logContextEvent,u=null===(t=(0,S.W)())||void 0===t?void 0:t.onPinCreate,f=(0,b.ZP)(),p=(0,l.TH)(),v=(0,_.Z)(),g=(0,m.F9)(),P=(0,a.I0)(),O=(0,j.Z)().updateHeaderState,w=(0,a.v9)(function(e){var t=e.advertiser;return v.isAuth&&t&&t.owner_user_id!==v.id?t.id:void 0}),k=(0,h.Hv)().previous,C=(0,d.cO)(),A=(0,y.Z)(U,n),I=(0,y.Z)(W,r);return(0,T.jsx)(q,Z(Z({},o),{},{advertiser_id:w,dispatch:P,i18n:f,location:p,logContextEvent:s,mountAfterActionPlacement:C,onPinCreate:u,pin:A,previousHistory:k,saveToBoard:i,showRepinAnimation:function(e){return O({type:"showRepinAnimation",payload:e})},shuffleAsset:I,toastManagerContext:g,viewerUserId:v.isAuth?v.id:void 0}))}},441750:function(e,t,n){n.d(t,{ZP:function(){return eY}});var r,o,i,a,l=n(282480);n(711284);var s=n(297949),c=n(758339),u=n(47848),d=n(144326),f=n(383399),p=n(723223),y=n(291130),h=n(545007),b=n(488792),v=n(730212),m=n(465256),g=n(770443);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.board,n=e.completeCreateSectionAction,r=e.height,o=e.onClose,i=e.pinImport,a=e.url,u=e.width,f=(0,d.ZP)(),p=(0,v.B)().isRTL,y=(0,b.Z)(),j=(0,h.I0)(),x=_((0,l.useState)(""),2),P=x[0],S=x[1],O=_((0,l.useState)(!1),2),w=O[0],k=O[1],C=_((0,l.useState)(null),2),A=C[0],I=C[1];return(0,g.jsx)(c.ZP,{accessibilityModalLabel:f._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),footer:(0,g.jsx)(s.kC,{children:(0,g.jsx)(s.xu,{marginStart:"auto",children:(0,g.jsx)(s.zx,{color:"red",dataTestId:"create-section-add-button",disabled:w||!P.trim()||!!A,fullWidth:!0,onClick:function(){t&&(k(!0),j((0,m.Z)({boardId:t.id,name:P.trim(),pinImport:i},f,void 0,y)).then(function(e){n(t,e,!1)}).catch(function(e){I(e.message_detail||e.message)}).finally(function(){k(!1)}))},size:"lg",text:f._('Add', 'sectionCreateModal.add.button', 'add a new section')})})}),heading:(0,g.jsx)(s.xu,{paddingY:8,children:(0,g.jsxs)(s.kC,{justifyContent:"center",children:[(0,g.jsx)(s.xu,{maxWidth:400,children:(0,g.jsx)(s.X6,{align:"center",size:"500",children:f._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,g.jsx)(s.xu,{left:p,padding:8,position:"absolute",right:!p,top:!0,children:(0,g.jsx)(s.hU,{accessibilityLabel:f._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]})}),onDismiss:o,size:"sm",children:(0,g.jsx)(s.xu,{padding:8,children:(0,g.jsxs)(s.kC,{children:[(0,g.jsx)(s.zd,{height:r,rounding:4,width:u,children:(0,g.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:null!=r?r:1,naturalWidth:null!=u?u:1,src:a||""})}),(0,g.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{width:u?"calc(100% - ".concat(u,"px)"):"100%"}},marginStart:8,children:(0,g.jsx)(s.nv,{dataTestId:"create-section-name-input-field",errorMessage:A,id:"sectionEditName",label:f._('Name', 'section.create.label', 'label text for section input'),onChange:function(e){S(e.value),I(null)},placeholder:f._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),size:"lg",type:"text",value:P})})]})})})},P=n(573706),S=n(338623),O=n(961754),w=n(382396),k=n(410150),C=n(151600),A=n(909999),I=["pinKey"];function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}var K=void 0!==r?r:r=n(940220),L=void 0,N=function(e){var t=[],n=[];return e.forEach(function(e){var r;null!==(r=e.name)&&void 0!==r&&r.match(/^\d/)?n.push(e):t.push(e)}),[].concat(t,n)};function M(e,t,n,r){return z(z(z(z({},e?{pin_id:e}:Object.freeze({})),t?{username:t}:Object.freeze({})),n?{advertiser_id:n,filter:"protected"}:Object.freeze({})),{},{field_set_key:"board_picker",limit:L,shortlist_suggestions:2,isDesktop:r})}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=B(o);return e=t?Reflect.construct(n,arguments,B(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return Z(R(e=r.call.apply(r,[this].concat(n))),"getSections",function(t){var n=e.props.boardResource.data;if(!n)return[];var r=n.all_boards,o=n.boards_shortlist,i=N(r);return i.length<=3?[{items:i}]:t.length>=w.Z?[{items:(0,A.j)(i,t)}]:[o.length?{items:o,title:e.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:i,title:e.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardResource,n=t.data,r=t.error,o=t.isLoaded,i=e.boardSavedTo,a=e.isSelectMode,l=e.onBoardCreate,s=e.onBoardSelected,c=e.pin,u=o&&!!n&&n.all_boards.length<=3;return(0,g.jsx)(C.Z,{boardSavedTo:i,getSections:this.getSections,hasLoadError:!!r,hasLowBoardCount:u,isLoaded:o,isSelectMode:a,onCreate:l,onSelected:s,pinId:null==c?void 0:c.entityId})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function U(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,I),r=(0,d.ZP)(),o=(0,f.Z)(),i=(0,k.HG)(),a=(0,u.Z)(K,t),l=(0,h.v9)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.id}),s=(0,h.v9)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.owner_user_id}),c=(0,O.Z)({name:"BoardPickerBoardsResource",options:M(null==a?void 0:a.entityId,s,l,i)});return(0,g.jsx)(H,z(z({},n),{},{boardResource:c,i18n:r,pin:a}))}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){V(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return(t=J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===W(t)?t:String(t)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=G(o);return e=t?Reflect.construct(n,arguments,G(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return X(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return V(X(e=r.call.apply(r,[this].concat(n))),"getSections",function(t){var n=e.props,r=n.board,o=n.i18n,i=n.sectionsResource.data,a=o._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),l=o._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return t.length>=w.Z?[{items:(0,A.j)([r],t),customProps:{inSectionSelection:!0}},{items:(0,A.j)(null!=i?i:[],t,"title")}]:[{items:[r],customProps:{inSectionSelection:!0},title:a},{items:null!=i?i:[],title:l}]}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.sectionsResource,n=t.error,r=t.isLoaded,o=e.boardSavedTo,i=e.isSelectMode,a=e.onSectionCreate,l=e.onSectionSelected,s=e.pinId;return(0,g.jsx)(C.Z,{boardSavedTo:o,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),getSections:this.getSections,hasLoadError:!!n,isLoaded:r,isSelectMode:i,onCreate:a,onSelected:l,pinId:s})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function ee(e){var t=(0,d.ZP)(),n=(0,O.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,g.jsx)($,Q(Q({},e),{},{i18n:t,sectionsResource:n}))}var et=n(640498),en=n(89934),er=n(360410),eo=n(559028),ei=n(415384);function ea(e){var t=(0,d.ZP)(),n=e.body,r=e.img,o=e.onClick,i=e.selected,a=e.title,l=e.username,c=e.valid;return(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.iP,{onTap:o,children:(0,g.jsxs)(s.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[r,(0,g.jsxs)(s.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,g.jsx)(s.xu,{marginBottom:1,children:(0,g.jsx)(s.xv,{lineClamp:1,weight:"bold",children:a})}),(0,g.jsx)(s.xv,{lineClamp:1,size:"100",children:l||n})]}),(0,g.jsx)(s.xu,{marginStart:2,children:l?i?(0,g.jsx)(s.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,g.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,g.jsx)(s.zx,{color:"gray",disabled:!!i||!c,size:"sm",text:i?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')})})]})})})}var el=n(332322);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(t){ey(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ed(e,t){return(ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ef(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ep(e){return(ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ey(e,t,n){return(t=eh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eh(e){var t=function(e,t){if("object"!==es(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==es(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===es(t)?t:String(t)}function eb(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}var ev=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ep(o);return e=t?Reflect.construct(n,arguments,ep(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===es(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ef(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return ey(ef(e=r.call.apply(r,[this].concat(n))),"state",{selectedCollaborators:e.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),ey(ef(e),"isIdSelected",{}),ey(ef(e),"handleTextFieldChange",function(t){var n=t.value;e.setState({value:n})}),ey(ef(e),"handleCollaboratorClick",function(t){var n=t.id,r=t.type;e.isIdSelected[n]=!e.isIdSelected[n];var o=e.props,i=o.inviteUsers,a=o.inviteEmails,l=e.state.selectedCollaborators.concat([t]);e.props.onSelectedCollaboratorsChange({id:n,resource:"email"===r?a:i}),e.setState({selectedCollaborators:l})}),ey(ef(e),"handleTypeaheadSuggestionsChange",function(t){e.setState({typeaheadSuggestions:t})}),e}return n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.inviteUsers,r=t.inviteEmails;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(function(t){var o=t.id,i=t.type;return e.isIdSelected[o]=!e.isIdSelected[o],e.props.onSelectedCollaboratorsChange({id:o,resource:"email"===i?r:n}),null})}},{key:"render",value:function(){var e=this,t=this.state.value,n=this.props.shareSuggestionsResource.data||[],r=(""===t?this.state.selectedCollaborators.concat(n).filter(eb):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:t,valid:(0,er.Z)(t)}).concat(n).filter(eb)).map(function(t){return function(e,t,n,r){if("user_share_suggestion"===e.type||"user"===e.type){var o=(0,g.jsx)(eo.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,g.jsx)(ea,{img:o,onClick:function(){return n(e)},selected:t,title:e.full_name,username:e.username})}if("email"===e.type){var i,a,l=e.id,c=e.valid,u=(0,g.jsx)(s.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,g.jsx)(s.JO,{accessibilityLabel:r._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),d=(0,ei.Z)(r._('Email {{ email }}', ' - ', ' -- '),{email:l});return t?(i=r._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),a=function(){}):(i=c?r._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):r._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),a=function(){return c?n(e):void 0}),(0,g.jsx)(ea,{body:i,img:u,onClick:a,selected:t,title:d,valid:c})}}(t,e.isIdSelected[t.id],e.handleCollaboratorClick,e.props.i18n)}).map(function(e,t){return(0,g.jsx)("li",{children:e},t)});return(0,g.jsxs)(s.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,g.jsx)(s.xu,{paddingX:3,paddingY:2,children:(0,g.jsx)(s.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,g.jsx)(s.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,g.jsx)(s.xu,{flex:"grow",children:(0,g.jsx)(en.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t,children:(0,g.jsx)(s.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:t})})})}),(0,g.jsx)(s.xu,{overflow:"scrollY",paddingX:3,children:(0,g.jsx)("ul",{children:r})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eh(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function em(e){var t=(0,d.ZP)(),n=(0,O.Z)({name:"ShareSuggestionsResource",noCache:!0}),r=(0,el.zC)(),o=(0,el.DK)();return(0,g.jsx)(ev,eu(eu({},e),{},{i18n:t,inviteEmails:r,inviteUsers:o,shareSuggestionsResource:n}))}var eg=n(560104),e_=n(960221);function ej(e){var t=e.onCancel,n=e.onCreate,r=e.onInvite,o=e.prefilledName,i=e.preselectedCollaborators,a=e.showTitle,c=(0,d.ZP)(),u=(0,v.B)().isRTL,f=(0,e_.Z)({onCreate:n,prefilledName:o}),p=f.handleCreate,y=f.handleChangeName,h=f.handleChangePrivacy,b=f.isAdAccountOwner,m=f.state,_=m.createBoardError,j=m.inputName,x=m.nameValidatorErrors,P=m.privacy,S=m.saving,O=0===x.length,w=P===et.ZP.BoardPrivacy.SECRET;return(0,g.jsx)(s.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,g.jsx)("form",{onSubmit:function(e){e.preventDefault(),p()},style:{height:"100%"},children:(0,g.jsxs)(s.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[a&&(0,g.jsx)(s.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,g.jsx)(s.X6,{size:"400",children:c._('Create board', ' - ', ' -- ')})}),(0,g.jsxs)(s.xu,{padding:3,children:[(0,g.jsx)(s.xu,{marginBottom:2,children:(0,g.jsx)(s.__,{htmlFor:"boardEditName",children:(0,g.jsx)(s.xv,{size:"100",children:c._('Name', ' - ', ' -- ')})})}),(0,g.jsx)(s.xu,{children:(0,g.jsx)(s.nv,{errorMessage:x.join(", "),id:"boardEditName",name:"boardName",onChange:function(e){return y(e.value)},placeholder:c._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:j})})]}),b&&(0,g.jsxs)(l.Fragment,{children:[(0,g.jsxs)(s.xu,{padding:3,children:[(0,g.jsx)(s.xu,{marginBottom:2,children:(0,g.jsx)(s.__,{htmlFor:"secret",children:(0,g.jsx)(s.xv,{size:"100",children:c._('Secret', 'secret board', 'secret board')})})}),(0,g.jsx)(s.xu,{children:(0,g.jsx)(s.rs,{id:"secret",onChange:h,switched:w})})]}),(0,g.jsx)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,g.jsx)(s.xu,{width:"100%",children:(0,g.jsx)(em,{onSelectedCollaboratorsChange:r,preselectedCollaborators:i})})})]}),!b&&(0,g.jsx)(l.Fragment,{children:(0,g.jsxs)(s.xu,{padding:3,children:[(0,g.jsx)(s.xu,{marginBottom:2,children:(0,g.jsx)(s.__,{htmlFor:"protected",children:(0,g.jsx)(s.xv,{size:"100",children:c._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,g.jsx)(s.xu,{children:(0,g.jsx)(s.rs,{disabled:!0,id:"protected",onChange:function(){},switched:!0})})]})}),(0,g.jsxs)(s.xu,{borderStyle:"shadow",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:u,paddingX:4,paddingY:2,position:"absolute",right:!u,width:720,children:[(0,g.jsx)(s.kC,{children:(0,g.jsx)(s.zx,{onClick:t,text:c._('Cancel', 'cancel board create', 'cancel board create')})}),(0,g.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"end",children:[!!_&&(0,g.jsx)(s.xu,{paddingX:2,children:(0,g.jsx)(s.xv,{align:"center",color:"error",size:"200",weight:"bold",children:_})}),(0,g.jsx)(eg.Z,{disabled:!j.trim()||!O||!!_||S,submitting:S,text:c._('Create', 'create a new board', 'create a new board')})]})]})]})})})}var ex=n(150333),eP=["pinKey"];function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(t){eI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ek(e,t){return(ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eC(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eA(e){return(eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eI(e,t,n){return(t=eT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eT(e){var t=function(e,t){if("object"!==eS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eS(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eS(t)?t:String(t)}var eE=void 0!==o?o:o=n(587679),eR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eA(o);return e=t?Reflect.construct(n,arguments,eA(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===eS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eC(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return eI(eC(e=r.call.apply(r,[this].concat(n))),"state",{inviteQueue:{},newName:"",selectedSectionBoard:e.props.boardWithSection||null,showCreate:e.props.showCreate||!1}),eI(eC(e),"close",function(){var t=e.state,n=t.selectedSectionBoard,r=t.showCreate,o=e.props.onClose;r&&n?e.setState({showCreate:!1},e.manageModalTitle):n?e.setState({selectedSectionBoard:null},e.manageModalTitle):o()}),eI(eC(e),"sendInvites",function(t){var n=e.state.inviteQueue;Object.keys(n).forEach(function(e){var r;n[e].resource(null!==(r=t.id)&&void 0!==r?r:"",[e])})}),eI(eC(e),"handleInvite",function(t){var n=e.state.inviteQueue;if(n[t.id]){var r=ew({},n);delete r[t.id],e.setState({inviteQueue:r})}else{var o=ew(ew({},n),{},eI({},t.id,t));e.setState({inviteQueue:o})}}),eI(eC(e),"handleBoardCreate",function(t){var n=e.props.onBoardCreated;e.handleBoardSave(t,!0),n&&n(t)}),eI(eC(e),"handleBoardSave",function(t,n){var r=e.state.selectedSectionBoard,o=e.props,i=o.onBoardSave,a=o.invalidatePinBetterSaveResource,l=o.invalidateResource,s="board_section"===t.type;if(l(),a(),r&&("boardsection"===t.type||s))return i(r,t,n);var c=t.section_count,u=void 0===c?0:c;!r&&"number"==typeof u&&u>0?e.setState({selectedSectionBoard:t},e.manageModalTitle):(e.sendInvites(t),i(t,void 0,n))}),eI(eC(e),"handleCreate",function(t){return function(n){n=n||"",e.setState({newName:n,showCreate:!0},e.manageModalTitle),e.props.logContextEvent({event_type:101,component:t?13105:13025,element:t?10306:249})}}),eI(eC(e),"manageModalTitle",function(){var t=e.props.setModalTitle,n=e.state,r=n.selectedSectionBoard,o=n.showCreate;t&&t(o&&r?e.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):o&&!r?e.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):r&&!o?e.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):e.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.isRepin,r=e.isSelectMode,o=e.pin,i=e.preselectedCollaborators,a=e.setModalTitle,l=e.suggestedBoardTitle,c=this.state,u=c.newName,d=c.selectedSectionBoard,f=c.showCreate,p=!!d,y=!a;return(0,g.jsxs)(s.xu,{display:"flex",position:"relative",width:"100%",children:[!f&&(0,g.jsx)(s.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?(0,g.jsx)(ee,{board:d,boardSavedTo:t,isSelectMode:r,onSectionCreate:this.handleCreate(p),onSectionSelected:this.handleBoardSave}):(0,g.jsx)(U,{boardSavedTo:t,isSelectMode:r,onBoardCreate:this.handleCreate(p),onBoardSelected:this.handleBoardSave,pinKey:o})}),f&&!d&&(0,g.jsx)(ej,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:u||l,preselectedCollaborators:i,showTitle:y}),f&&d&&(0,g.jsx)(ex.Z,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:u,isRepin:n,onClearModal:this.close,showTitle:y})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eT(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function eB(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eP),r=(0,P.v)().logContextEvent,o=(0,d.ZP)(),i=(0,u.Z)(eE,t),a=(0,h.I0)();return(0,g.jsx)(eR,ew(ew({},n),{},{i18n:o,invalidatePinBetterSaveResource:function(){a((0,S.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:function(){a((0,S.jB)("BoardPickerBoardsResource",M(null==i?void 0:i.entityId)))},logContextEvent:r,pin:i}))}var eD=n(374371),ez=["pinKey","shuffleAssetKey"];function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(t){eH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eL(e,t){return(eL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eN(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eM(e){return(eM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eH(e,t,n){return(t=eU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e){var t=function(e,t){if("object"!==eZ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eZ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eZ(t)?t:String(t)}var eW=void 0!==i?i:i=n(600483),eq=void 0!==a?a:a=n(947793),eQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eL(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eM(o);return e=t?Reflect.construct(n,arguments,eM(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===eZ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eN(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return eH(eN(e=r.call.apply(r,[this].concat(n))),"pinImageRef",(0,l.createRef)()),eH(eN(e),"handleSavePinToBoard",function(t,n,r){(0,e.props.handleSaveToBoard)(t,n,r)}),eH(eN(e),"close",function(){(0,e.props.handleAbort)()}),eH(eN(e),"dismissModal",function(){var t=e.props.dismissModal;t&&t()}),e}return n=[{key:"render",value:function(){var e,t,n,r,o,i,a,u=this,d=this.props,f=d.boardSavedTo,h=d.boardWithSection,b=d.color,v=d.displaySuccessAnimation,m=d.handleNewBoardAnimationCompletion,_=d.isInModal,j=d.newPin,P=d.pin,S=d.preselectedCollaborators,O=d.onBoardCreated,w=d.sensitiveContentNotice,k=d.setModalTitle,C=d.showCreate,A=d.shouldRenderContent,I=d.suggestedBoardTitle,T=d.updateDescription,E=d.urlPinInfo,R=d.shuffleAsset,B=(null==E?void 0:E.description)||(null==E?void 0:E.link)||(null==E?void 0:E.imageUrl);if(!P&&!B||!A)return null;if(C&&h)return(0,g.jsx)(x,{board:h,completeCreateSectionAction:this.handleSavePinToBoard,height:null!==(e=null==P?void 0:null===(t=P.imageSpec_236x)||void 0===t?void 0:t.height)&&void 0!==e?e:0,onClose:this.close,url:null!==(n=null!==(r=null==P?void 0:null===(o=P.imageSpec_236x)||void 0===o?void 0:o.url)&&void 0!==r?r:null==E?void 0:E.imageUrl)&&void 0!==n?n:"",width:null!==(i=null==P?void 0:null===(a=P.imageSpec_236x)||void 0===a?void 0:a.width)&&void 0!==i?i:0});var D=null;j&&j.board&&(D=j.board.name);var z=w&&w.title||this.props.modalTitle,Z=w?(0,g.jsx)(p.Z,{inModal:!0,notices:[w]}):(0,g.jsx)(s.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,g.jsxs)(l.Fragment,{children:[(0,g.jsxs)(s.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,g.jsx)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,g.jsx)(s.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,g.jsx)(eD.Z,{color:b,pinImageRef:this.pinImageRef,pinKey:P,shuffleAssetKey:R,updateDescription:T,urlPinInfo:E})})}),(0,g.jsx)(s.kC,{alignItems:"stretch",width:"60%",children:(0,g.jsx)(eB,{boardSavedTo:f,boardWithSection:h,isRepin:!0,onBoardCreated:O,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:P,preselectedCollaborators:S,setModalTitle:_?k:void 0,showCreate:C,suggestedBoardTitle:I})})]}),v&&(0,g.jsx)(y.Z,{onDismiss:function(){m(),u.dismissModal()},pinImageRef:this.pinImageRef,pinKey:P,selectedBoardName:D,shuffleAssetKey:R})]})});return _?(0,g.jsx)(c.ZP,{accessibilityModalLabel:z||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal'),heading:z,onDismiss:this.close,size:"md",children:Z}):Z}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eU(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent);eH(eQ,"defaultProps",{pwtAuxData:{}});var eY=function(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ez),o=(0,d.ZP)(),i=(0,f.Z)(),a=(0,u.Z)(eW,t),l=(0,u.Z)(eq,n);return(0,g.jsx)(eQ,eK(eK({},r),{},{i18n:o,pin:a,shuffleAsset:l,viewer:i}))}},845349:function(e,t,n){n.d(t,{A:function(){return r},S:function(){return o}});var r=4e3,o={LOADING:"loading",SUCCESS:"success"}},960221:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(282480),o=n(545007),i=n(640498),a=n(194093),l=n(144326),s=n(240760),c=n(338623),u=n(383399),d=n(26456),f=n(599911),p=n(207666);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n=e.onCreate,y=e.prefilledName,h=(0,l.ZP)(),m=(0,o.v9)(function(e){return e.advertiser}),g=(0,o.I0)(),_=(0,u.Z)(),j=!m||_.isAuth&&m.owner_user_id===_.id,x=m&&m.id,P=(0,p.Z)(),S=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({createBoardError:null,inputName:y||"",nameValidatorErrors:[],privacy:j?i.ZP.BoardPrivacy.PUBLIC:i.ZP.BoardPrivacy.PROTECTED,saving:!1}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=S[0],w=S[1],k=function(){var e=O.inputName,t=O.privacy;w(b(b({},O),{},{saving:!0,createBoardError:null})),P({boardCreateOptions:b(b({name:e,privacy:t},!j&&x?{advertiser_id:x}:Object.freeze({})),{},{aux_data:{source:"board_picker"}})}).then(function(e){w(b(b({},O),{},{saving:!1})),n(e)}).catch(function(e){var t=h._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else{var n=(0,a.Z)(e,"message");if(n){var r=(0,a.Z)(e,"message_detail");t=r?"".concat(n," ").concat(r):n}}w(b(b({},O),{},{saving:!1,createBoardError:t}))}),g((0,c.jB)("BoardsResource",(0,f.Z)(_.isAuth?_.username:"",t===i.ZP.BoardPrivacy.SECRET)))};return{handleChangeName:function(e,t){w(b(b({},O),{},{inputName:e,nameValidatorErrors:(0,d.FU)([(0,d.aH)({message:h._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,d.Gy)({max:i.ZP.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,s.nk)(h._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:i.ZP.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null})),t&&k()},handleChangePrivacy:function(){w(b(b({},O),{},{privacy:O.privacy===i.ZP.BoardPrivacy.SECRET?i.ZP.BoardPrivacy.PUBLIC:i.ZP.BoardPrivacy.SECRET}))},handleCreate:k,isAdAccountOwner:j,state:O}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/35637-a2ace9ce661d755c.js.map