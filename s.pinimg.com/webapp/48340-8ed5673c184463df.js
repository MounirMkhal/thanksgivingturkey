"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[48340],{253570:function(e,t,n){n.d(t,{Z:function(){return eb}});var r=n(282480),o=n(545007),i=n(297949),a=n(489894),s=n(573706),c=n(785020),l=n(989820),d=n(776919),u=n(679482),p=n(144326),f=n(753652),m=n(829413),y=n(961754),h=n(509781),b=n(901450),v=n(682661),_=n(119437),g=n(465256),x=n(701842),j=n(378232),S=n(240760),P=n(512541),O=n(770443),I=function(e){var t=e.accessibilityLabel;return e.show?(0,O.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:[(0,O.jsx)(P.Z,{unsafeCSS:"\n@keyframes instantSpinnerSpin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.instant-spinner-icon {\n  animation-duration: 1.2s;\n  animation-iteration-count: infinite;\n  animation-name: instantSpinnerSpin;\n  animation-timing-function: linear;\n  display: block;\n  opacity: 1;\n}"}),(0,O.jsx)("div",{className:"instant-spinner-icon",children:(0,O.jsx)(i.JO,{accessibilityLabel:t,icon:"knoop",size:40})})]}):(0,O.jsx)(i.xu,{})};function w(e){var t=e.boardName,n=(0,p.ZP)();return(0,O.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingTop:108}},direction:"column",display:"flex",children:[(0,O.jsx)(i.xu,{marginBottom:4,children:(0,O.jsx)(I,{accessibilityLabel:n._('Loading', ' - ', ' -- '),show:!0})}),(0,O.jsx)(i.X6,{size:"500",children:n._('Board Created!', 'Message following board creation', 'Message following board creation')}),(0,O.jsx)(i.X6,{size:"500",children:(0,S.nk)(n._('Finding pins to add to {{boardName}}...', 'Message while more ideas for board loads', 'Message while more ideas for board loads'),{boardName:t})})]})}function E(e){var t,n=(0,p.ZP)(),r=e.collection,o=e.isRedirectExperimentReferrer,a=e.resource,s=a.data,c=a.isFetching;return o&&!s&&"board"===r.type?(0,O.jsx)(w,{boardName:null!==(t=r.name)&&void 0!==t?t:""}):(0,O.jsx)(i.$j,{accessibilityLabel:n._('Loading Board More Ideas Feed', 'accessibility label for board more ideas tab loading spinner', 'accessibility label for board more ideas tab loading spinner'),show:c})}function A(e){var t=(0,p.ZP)(),n=e.hideHeader,r=e.name,o=e.onClick,a=e.url;return(0,O.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:n?25:60}},"data-test-id":"isHomeFeed",display:"flex",justifyContent:"center",padding:4,children:!n&&(0,O.jsx)(i.xv,{children:(0,S.nk)(t._('More ideas for your board {{ boardLink }}', 'More ideas for your board', 'More ideas for your board'),{boardLink:(0,O.jsx)(i.rU,{display:"inlineBlock",href:void 0===a?"":a,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),o()},underline:"hover",children:r},r)})})})}var C=n(919463),T=n.n(C);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=z(o);return e=t?Reflect.construct(n,arguments,z(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return M(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return N(M(e=r.call.apply(r,[this].concat(n))),"state",{hovered:!1}),N(M(e),"handleTouch",function(t){return function(){var n=e.props.onSelect;e.props.logContextEvent({event_type:101,element:10444}),n(t)}}),N(M(e),"handleHover",function(t){return function(){return e.setState({hovered:t})}}),e}return n=[{key:"render",value:function(){var e=this.props.recommendation,t=this.state.hovered;return(0,O.jsxs)(i.xu,{onMouseEnter:this.handleHover(!0),onMouseLeave:this.handleHover(!1),position:"relative",children:[(0,O.jsx)(P.Z,{unsafeCSS:"\n@keyframes animateInSectionHover {\n  to {\n    opacity: 1;\n    padding: 8px;\n    transform: translateY(-8px) translateX(-8px);\n  }\n}\n\n.sectionHoverSurface {\n  background: rgba(#000, 0.064);\n  border-radius: 8px;\n  bottom: 0;\n  height: 100%;\n  left: 0;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 100%;\n}\n\n.sectionHoverSurface.hover {\n  animation: animateInSectionHover 0.2s cubic-bezier(0.31, 1, 0.34, 1) forwards;\n}\n"}),(0,O.jsx)(i.iP,{fullWidth:!1,onTap:this.handleTouch(e),rounding:2,children:(0,O.jsxs)(i.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,O.jsx)(i.xu,{paddingX:1,children:(0,O.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Add section', 'Accessibility label for add icon', 'Accessibility label for add icon'),icon:"add",size:18})}),(0,O.jsx)(i.xu,{paddingX:1,children:(0,O.jsx)(i.xv,{color:"subtle",weight:"bold",children:e.name})})]})}),(0,O.jsx)("div",{className:T()("sectionHoverSurface",{hover:t})})]},e.name)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);function F(e){var t=(0,s.v)().logContextEvent,n=(0,p.ZP)();return(0,O.jsx)(L,Z(Z({},e),{},{i18n:n,logContextEvent:t}))}var H=n(491563);function W(e){var t=this,n=(0,p.ZP)(),r=e.recommendations;return(0,O.jsx)(H.Z,{children:(0,O.jsxs)(i.xu,{paddingY:2,children:[(0,O.jsx)(i.xu,{paddingY:2,children:(0,O.jsx)(i.xv,{size:"400",children:n._('Sections to try', 'title for section title recommendations on more ideas tab', 'title for section title recommendations on more ideas tab')})}),(0,O.jsx)(i.xu,{paddingY:2,children:(0,O.jsx)(i.kC,{alignItems:"center",justifyContent:"start",width:"100%",wrap:!0,children:r.map(function(e){return(0,O.jsx)(i.xu,{padding:2,children:(0,O.jsx)(F,{onSelect:t.handleSelectSectionRecommendation,recommendation:e})},e.id)})})})]})})}var U=n(758339),V=n(476198),X=n(880560),Y=n(854139);function G(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t,n=e.boardId,a=e.handleAddClick,c=e.onDismiss,l=e.pins,d=e.suggestedSectionTitle,u=(0,s.v)().logContextEvent,f=(0,p.ZP)(),m=(0,r.useRef)(null),h=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||G(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=h[0],_=h[1],x=(0,b.F9)().showToast,j=(0,y.Z)({name:"ApiResource",options:{url:"/v3/batch/related/pins/",data:{client_type:"84",page_size:10,prepend_seed_pins:!0,pin_ids:l.map(function(e){return e.id})}}}),S=(0,o.I0)(),P=function(e,t){var n=function(e){if(Array.isArray(e))return $(e)}(v)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(v)||G(v)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n.indexOf(e);t&&-1===r?n.push(e):t||-1===r||n.splice(r,1),_(n)},I=j.data;return(0,O.jsx)(U.ZP,{accessibilityModalLabel:f._('Add suggested pins to your newly created section modal', 'suggestedPinsModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),allowScroll:!0,footer:(0,O.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,O.jsx)(i.zx,{color:v.length<1?"gray":"red",disabled:v.length<1,onClick:function(){a(d),S((0,g.Z)({boardId:n,name:d,initialPinIds:v},f,void 0,u)).then(function(){S((0,X.Z)(n,"pin_count")),c()}),x(function(e){var t=e.hideToast;return(0,O.jsx)(V.ZP,{duration:4e3,onHide:t,text:f._('Section added!', 'suggestedPinsModal.addSectionSubmit.toast', 'Message confirming that a section has been added.')})}),u({event_type:101,component:13772,element:76,view_type:5,view_parameter:3173,aux_data:{number_pins_selected:v.length,selected_pin_ids:v,suggested_section_name:d}})},size:"lg",text:f._('Done', 'suggestedPinsModal.footer.addSectionButton', 'Add pins and section')})}),heading:f._('Great! Pick some ideas to start off your section.', 'suggestedPinsModal.modal.heading', 'Heading for modal to add suggested pins to your newly created section'),onDismiss:c,size:704,children:(0,O.jsxs)(i.xu,{ref:m,maxHeight:600,maxWidth:704,overflow:"auto",children:[j.isLoaded&&I&&(0,O.jsx)(i.Rk,{columnWidth:152,gutterWidth:16,items:I,loadItems:j.fetchMore,renderItem:function(e){var t=e.data,n=e.itemIdx;return(0,O.jsx)(Y.Z,{handlePinSelectionChanged:P,index:n,isSelected:v.includes(t.id),pin:t})},scrollContainer:function(){return m.current||window}}),(0,O.jsx)(i.$j,{accessibilityLabel:f._('Loading pins', 'suggestedPinsModal.modal.spinner', 'Loading indicator'),show:j.isFetching})]})})}function Q(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=new i.Ry(2);function ee(e){var t,n,o=e.boardId,a=e.handleAddClick,c=e.pins,l=void 0===c?[]:c,d=e.sectionTitle,u=e.wasSectionAdded,f=(0,s.v)().logContextEvent,m=(0,p.ZP)(),y=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||Q(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=y[0],b=y[1];return(0,O.jsxs)(i.xu,{opacity:u?.2:1,zIndex:J,children:[(0,O.jsx)(i.xu,{paddingY:2,position:"relative",children:(0,O.jsx)(i.iP,{disabled:u,onTap:function(){b(!0),f({event_type:101,component:13772,view_type:5,view_parameter:3173,aux_data:{suggested_section_name:d}})},rounding:4,children:(0,O.jsx)(r.Fragment,{children:(0,O.jsxs)(i.xu,{overflow:"hidden",position:"relative",rounding:4,width:237,children:[(0,O.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",children:((function(e){if(Array.isArray(e))return q(e)})(n=[,,].keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||Q(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t,n,r=l[e];return(0,O.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1}},children:(0,O.jsx)(i.xu,{height:157,width:118,children:r.image_medium_url&&(0,O.jsx)(i.Ee,{alt:"".concat(d,"-").concat(e),color:"darkGray",fit:"cover",naturalHeight:(null===(t=r.image_medium_size_pixels)||void 0===t?void 0:t.height)||157,naturalWidth:(null===(n=r.image_medium_size_pixels)||void 0===n?void 0:n.width)||118,src:r.image_medium_url})})},e)})}),(0,O.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:(0,O.jsx)(i.zx,{accessibilityLabel:m._('Add a suggested section', 'sectionTemplates.addSectionButton.accessibilityLabel', 'Button for adding a suggested section'),color:"white",disabled:u,text:m._('Add', 'sectionTemplates.addSectionButton.buttonText', 'Button for adding a suggested section')})})]})})})}),(0,O.jsx)(i.xu,{flex:"grow",height:40,paddingX:2,width:237,children:(0,O.jsx)(i.X6,{color:"default",lineClamp:1,size:"400",children:d})}),h&&(0,O.jsx)(K,{boardId:o,handleAddClick:a,onDismiss:function(){return b(!1)},pins:l,suggestedSectionTitle:d})]})}function et(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,t)}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function er(e){var t,n=e.boardId,o=e.sectionTemplates,a=(0,s.v)().logContextEvent,c=(0,p.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||et(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=l[0],u=l[1];(0,r.useEffect)(function(){var e=[];o.forEach(function(t){return e.push(t.name)}),a({event_type:13,component:13772,view_type:5,view_parameter:3173,aux_data:{suggested_section_names_viewed:e}})},[a,o]);var f=function(e){var t=function(e){if(Array.isArray(e))return en(e)}(d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||et(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();t.push(e),u(t)};return(0,O.jsxs)(r.Fragment,{children:[(0,O.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:-4,padding:1,children:(0,O.jsx)(i.xv,{size:"300",children:c._('Sections and Pins for you', 'sectionTemplatesStory.subtitle.text', 'Subtitle describing sections and pins below')})}),(0,O.jsx)(i.xu,{display:"flex",justifyContent:"center",marginEnd:6,marginStart:6,wrap:!0,children:o.map(function(e){return(0,O.jsx)(i.xu,{display:"flex",padding:2,children:(0,O.jsx)(ee,{boardId:n,handleAddClick:f,pins:e.pins,sectionTitle:e.name,wasSectionAdded:d.includes(e.name)})},e.id)})})]})}var eo=n(790169);function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){eu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ec(e,t){return(ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function el(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t,n){return(t=ep(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e){var t=function(e,t){if("object"!==ei(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ei(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ei(t)?t:String(t)}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var em=(0,f.qe)(function(e){var t;return function(e){if(Array.isArray(e))return ef(e)}(t=e===String(22)?[501151]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ef(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}),ey=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ed(o);return e=t?Reflect.construct(n,arguments,ed(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===ei(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return el(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return eu(el(e=r.call.apply(r,[this].concat(n))),"state",{sectionNameAddedMap:{}}),eu(el(e),"handleClickLogging",function(t){e.props.logContextEvent({event_type:101,component:10599===t?0:void 0,element:t,view_type:e.viewType,view_parameter:e.viewParameter})}),eu(el(e),"handleBoardLinkClick",function(){e.handleClickLogging(11083)}),eu(el(e),"handleSave",function(){e.props.invalidateCollectionFeed(),e.handleClickLogging(10599)}),eu(el(e),"renderItem",function(t){var n=t.data,r=t.itemIdx,o=e.props,i=o.collection,s=o.eligibleSaveToolTipExperience,c=o.viewerIsOwnerOrCollaborator,l=i.url;if("story"===n.type)return(0,O.jsx)(eo.Z,{slot:r,storyId:n.id||"",viewParameter:e.viewParameter,viewType:e.viewType});var d=i.id,u=i.pin_count,p=0===r&&s,f={board_id:d,board_pin_count:u};return c?(0,O.jsx)(a.Z,{auxData:f,boardId:null!=d?d:"",boardTitle:e.boardTitle,boardUrl:l,index:r,moreIdeasSaveToolTipExperienceIds:e.moreIdeasSaveToolTipExperienceIds,oneTapSaveTarget:e.oneTapSaveTarget,onSave:e.handleSave,pin:n,showMoreIdeasSaveTooltip:p,viewParameter:e.viewParameter,viewType:e.viewType}):(0,O.jsx)(v.ZP,{attributionOption:"hide",auxData:f,duploQueryRef:null,pin:n,pinId:n.id||"",pinImageCrop:"none",saveButtonOptions:{type:"inline",onSave:e.handleSave},slotIndex:r,surface:"BoardMoreIdeasTabContent",viewParameter:e.viewParameter,viewType:e.viewType})}),e}return n=[{key:"componentDidMount",value:function(){var e;this.props.disableBadging(null!==(e=this.props.collection.id)&&void 0!==e?e:"")}},{key:"boardTitle",get:function(){var e;return null!==(e=this.props.collection.name)&&void 0!==e?e:""}},{key:"moreIdeasSaveToolTipExperienceIds",get:function(){return em(this.props.ideasReferrer)}},{key:"viewType",get:function(){var e=this.props,t=e.collection;return e.isHomefeed?1:"board"===t.type?5:164}},{key:"viewParameter",get:function(){return"board"===this.props.collection.type?3173:3174}},{key:"oneTapSaveTarget",get:function(){var e=this.props.collection;return"board"===e.type?{board:e}:{board:e.board,boardSection:e}}},{key:"isRedirectExperimentReferrer",get:function(){return this.props.ideasReferrer===String(22)}},{key:"render",value:function(){var e,t=this.props,n=t.collection,r=t.hideHeader,o=t.inLocalNavigation,a=t.isHomefeed,s=t.reducePadding,c=t.resource,p=n.id,f=n.pin_count,y=c.fetchMore,b=c.isAtEnd,v=c.data,_=this.state.sectionNameAddedMap,g=(v||[]).reduce(function(e,t){var n=e.sectionTemplatesStory,r=e.sectionNamesStory,o=e.items;return"story"===t.type&&"section_title_recommendations"===t.story_type?r=t:"story"===t.type&&"board_section_templates"===t.story_type?n=t:("pin"===t.type||"story"===t.type&&"homefeed_board_tab_banner"!==t.story_type)&&(o=o.concat(t)),{sectionTemplatesStory:n,sectionNamesStory:r,items:o}},{sectionTemplatesStory:void 0,sectionNamesStory:void 0,items:[]}),x=g.sectionTemplatesStory,j=g.sectionNamesStory,S=g.items,P=j?j.objects.filter(function(e){return"board_section_name_recommendation"===e.type}).filter(function(e){return!_[e.name.toLowerCase()]}):[],I=(S||[]).length>0&&this.isRedirectExperimentReferrer;return(0,O.jsx)(h.Z,{auxData:{board_id:p,board_pin_count:f},component:13204,view:this.viewType,viewParameter:this.viewParameter,children:(0,O.jsxs)(i.xu,{paddingY:s||o?0:2,children:[!!a&&(0,O.jsx)(A,{hideHeader:!!r,name:n.name,onClick:this.handleBoardLinkClick,url:n.url}),(null==x?void 0:x.objects)&&(0,O.jsx)(er,{boardId:null!==(e=n.id)&&void 0!==e?e:"",sectionTemplates:x.objects}),P.length>0&&(0,O.jsx)(W,{recommendations:P}),(S||[]).length>0&&(0,O.jsxs)(i.xu,{paddingY:o?0:2,children:[j&&(0,O.jsx)(H.Z,{children:(0,O.jsx)(i.xu,{paddingY:2,children:(0,O.jsx)(i.xv,{size:"400",children:this.props.i18n._('Pins you might like', 'title for pin recommendations on more ideas tab', 'title for pin recommendations on more ideas tab')})})}),I&&(0,O.jsx)(H.Z,{children:(0,O.jsx)(i.xu,{marginBottom:4,children:(0,O.jsx)(i.xv,{children:this.props.i18n._('Based on your board\u2019s title, we think you\u2019ll love these Pins', 'title for pin recommendations on more ideas tab', 'title for pin recommendations on more ideas tab')})})}),(0,O.jsx)(i.xu,{paddingY:s||o?0:2,children:(0,O.jsx)(m.Z,{isAtEndOfFeed:b,itemCount:S.length,children:(0,O.jsx)(d.default,{columnWidth:u.yF,items:S,loadItems:y,renderItem:this.renderItem})})})]}),(0,O.jsx)(i.xu,{paddingY:r?5:0,children:(0,O.jsx)(E,{collection:n,isRedirectExperimentReferrer:this.isRedirectExperimentReferrer,resource:c})}),(0,O.jsx)(l.RK,{placementId:1000121})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ep(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component),eh=(0,l.RL)(1000121,function(e){return{board_id:e.collection.id}})(function(e){var t=e.hasBoardResource,n=(0,p.ZP)(),r=(0,s.v)().logContextEvent,i=(0,y.Z)(t?null:{name:j.d.name,options:j.d.options(e)}),a=(0,o.v9)(function(t){return t.experiences&&t.experiences[1000121]&&em(e.ideasReferrer).includes(t.experiences[1000121].experience_id)}),l=(0,o.I0)();return(0,O.jsx)(ey,es(es({},e),{},{createSection:function(t){var o;return l((0,g.Z)({boardId:null!==(o=e.collection.id)&&void 0!==o?o:"",name:t,nameSource:"RECOMMENDATION"},n,void 0,r)).catch(function(e){c.Z.showError(e&&e.message||n._('Failed to create section', 'Error message for failed to create a section', 'Error message for failed to create a section'))})},disableBadging:function(e){l((0,_.ZP)(e))},eligibleSaveToolTipExperience:a,i18n:n,invalidateCollectionFeed:function(){var t;return l((0,x.N8)("boardfeed",null!==(t=e.collection.id)&&void 0!==t?t:""))},logContextEvent:r,resource:t||i,toastManagerContext:(0,b.F9)()}))});eh.displayName="BoardMoreIdeasTabContent";var eb=eh},753652:function(e,t,n){n.d(t,{Q6:function(){return u},le:function(){return p},qe:function(){return l},yU:function(){return d}});var r=n(785220),o=n(655201),i=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},a=function(e){return e};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return function(r){var o=[];return function(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];var c=o.find(function(e){return t(e.args,n(a))});if(c)return c.result;var l=r.apply(void 0,a);return o.push({args:n(a),result:l}),e&&o.length>e&&o.shift(),l}}}var c=s();t.ZP=c;var l=s(1),d=s(void 0,i,function(e){return[JSON.stringify(e)]}),u=s(0,function(e,t){return e.length===t.length&&e.every(function(e,n){return(0,o.Z)(e,t[n])})}),p=s(0,function(e,t){return e.length===t.length&&e.every(function(e,n){return(0,r.ZP)(e,t[n])})})},115642:function(e,t,n){n.d(t,{Nb:function(){return s},Of:function(){return c},YO:function(){return a},x4:function(){return d}});var r=n(282480),o=n(753652),i=n(590045),a=function(e){var t=e.showProductDetailPage,n=e.isLargerPane,r=e.showCloseupContentRight;return t&&n?r?i.Uj:i.zT:1},s=(0,o.qe)(function(e){var t=e.paneWidth,n=e.pdpCarouselSlotToPaneRatio,r=e.showCloseupContentRight,o=e.showProductDetailPage,i=e.viewportSize,a=e.maxWidth,s=e.descriptionPaneWidth,c=e.inCommentFooterRedesignExp,l=e.isCloseupRelatedPinsAboveTheFoldEnabled,d=e.isCommentAttachmentSelectorOpen,u=e.isCommentThreadExpanded,p=e.isMediaViewerOpen,f=e.isPinNoteExpanded,m=e.isProductDetailsExpanded,y=e.isShoppingModuleExpanded,h=e.setIsCommentAttachmentSelectorOpen,b=e.setIsCommentThreadExpanded,v=e.setIsMediaViewerOpen,_=e.setIsPinNoteExpanded,g=e.setIsProductDetailsExpanded,x=e.setIsShoppingModuleExpanded,j=e.closeupWithinMasonryEnabled,S=e.peekCloseupEnabled,P=e.isInRemoveMagnifyingGlassVariant,O=e.setAbortNoActionPlacementTimeout,I=e.clientTrackingParams;return{paneWidth:t,pdpCarouselSlotToPaneRatio:n,showCloseupContentRight:r,showProductDetailPage:o,viewportSize:i,maxWidth:a,descriptionPaneWidth:s,isCommentAttachmentSelectorOpen:d,inCommentFooterRedesignExp:c,isCloseupRelatedPinsAboveTheFoldEnabled:l,isCommentThreadExpanded:u,isCloseupMediaViewerOpen:e.isCloseupMediaViewerOpen,isMediaViewerOpen:p,isPinNoteExpanded:f,isProductDetailsExpanded:m,isShoppingModuleExpanded:y,setIsCommentAttachmentSelectorOpen:h,setIsCommentThreadExpanded:b,setIsCloseupMediaViewerOpen:e.setIsCloseupMediaViewerOpen,setIsMediaViewerOpen:v,setIsPinNoteExpanded:_,setIsProductDetailsExpanded:g,setIsShoppingModuleExpanded:x,closeupWithinMasonryEnabled:j,peekCloseupEnabled:S,isInRemoveMagnifyingGlassVariant:P,setAbortNoActionPlacementTimeout:O,clientTrackingParams:I}}),c={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,inCommentFooterRedesignExp:!1,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentAttachmentSelectorOpen:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:function(){},setIsCloseupMediaViewerOpen:function(){},setIsCommentAttachmentSelectorOpen:function(){},setIsMediaViewerOpen:function(){},setIsShoppingModuleExpanded:function(){}},l=(0,r.createContext)(c);function d(){var e=(0,r.useContext)(l);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=l},590045:function(e,t,n){n.d(t,{$T:function(){return v},CI:function(){return a},Ch:function(){return c},ER:function(){return b},Gb:function(){return l},Gg:function(){return o},Hf:function(){return x},Ie:function(){return f},KP:function(){return m},Kn:function(){return s},O5:function(){return _},Uj:function(){return d},bx:function(){return y},d2:function(){return p},g9:function(){return h},iB:function(){return j},rv:function(){return g},u6:function(){return i},zT:function(){return u}});var r=n(297949),o=508,i=1016,a=488,s=992,c=672,l=1176,d=.6,u=.84,p=40,f=72,m=740,y=912,h=32,b=16,v=24,_=2,g=1,x=new r.Ry(5),j={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},476310:function(e,t,n){function r(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function o(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}n.d(t,{HG:function(){return o},OQ:function(){return i},hd:function(){return r}});var i=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}}},465256:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(252071),o=n(338623),i=n(880560),a=n(476310),s=n(701842),c=n(344502),l=n(403764);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e,t,n,p){var f=e.boardId,m=e.sourceBoardId,y=void 0===m?"":m,h=e.sourceSectionId,b=void 0===h?"":h,v=e.name,_=e.nameSource,g=e.pinImport,x=e.initialPinIds,j=0;"RECOMMENDATION"===_?j=1:"EDITED_RECOMMENDATION"===_&&(j=2);var S=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({board_id:f,initial_pins:g&&!g.all?g.pinIds:void 0===x?[]:x,name:v,name_source:j},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return r.Z.create("BoardSectionResource",S).callCreate({showError:!1}).then(function(r){var d=r.resource_response.data;p({event_type:7100,object_id_str:d.id}),e((0,a.hd)(f,d)),e((0,s.vX)({feedId:f,feedType:l.Z.BOARD_SECTIONS,itemIds:[d.id],itemType:"boardsection"})),e((0,i.Z)(f,"pin_count")),e((0,o.jB)("BoardSectionsRepinResource",{board_id:f,orbac_subject_id:n}));var u=g||{all:!1,pinIds:[]},m=u.all,h=u.pinIds;return m?new Promise(function(n,r){return e((0,c.Z)({inverseSelection:!0,selectedPinIds:h,source:{boardId:y||f,sectionId:b||null},target:{boardId:f,sectionId:d.id}},t)).then(function(){return n(d)}).catch(r)}):(h.length>0&&e((0,s.N8)(l.Z.BOARDFEED,f)),d)})}}},880560:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(468808);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return(0,r.U)("BoardResource",{options:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({board_id:e,field_set_key:t},n?{orbac_subject_id:n}:{})})}},344502:function(e,t,n){n.d(t,{Z:function(){return f},S:function(){return p}});var r=n(252071),o=n(880560),i=n(508629),a=n(701842),s=n(403764),c=n(785020),l=function(e){return function(t){c.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},d=function(e){return(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId)};function u(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t((0,o.Z)(n.boardId,"pin_count")),t((0,o.Z)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,o.Z)(r.boardId,"pin_count")),n.sectionId&&t((0,i.Z)(n.sectionId)),r.sectionId&&t((0,i.Z)(r.sectionId))}function p(e){return function(t){var n=e.selectedPinIds,r=e.source,o=e.target;t((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),u(e,t)}}function f(e,t){return function(n){return(function(e,t,n){var o=e.inverseSelection,i=e.selectedPinIds,c=e.source,u=e.target,p=e.orbacSubjectId;if(c.boardId===u.boardId&&(c.sectionId||null)===(u.sectionId||null))return Promise.reject();if(o){var f={board_id:c.boardId,new_board_id:u.boardId,old_section_id:c.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:i,orbac_subject_id:p};return r.Z.create("BulkEditSelectAllResource",f).callUpdate({showError:!1}).then(function(){return Promise.all([t(d(c)),t(d(u))])}).catch(l(n))}var m=function(e,n){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};m(c,u);var y=function(){return m(u,c)};if(u.boardId===c.boardId){if(u.sectionId){var h={section_id:u.sectionId,pins:i,orbac_subject_id:p};return r.Z.create("BoardSectionEditResource",h).callUpdate({showError:!1}).catch(function(e){y(),l(n)(e)})}var b={section_id:c.sectionId,pins:i,orbac_subject_id:p};return r.Z.create("BoardSectionPinsResource",b).callDelete({showError:!1}).catch(function(e){y(),l(n)(e)})}var v={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:i,orbac_subject_id:p};return r.Z.create("BulkEditResource",v).callUpdate({showError:!1}).catch(function(e){y(),l(n)(e)})})(e,n,t).then(function(){return u(e,n)})}}},491563:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(297949),o=n(770443);function i(e){var t=e.children,n=e.setMaxWidth;return(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:void 0===n||n?(0,o.jsx)(r.xu,{maxWidth:774,paddingX:2,width:"100%",children:t}):(0,o.jsx)(r.xu,{width:"100%",children:t})})}},854139:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(282480),o=n(297949),i=n(682661),a=n(770443);function s(e){var t=e.index,n=e.isSelected,s=e.pin,c=e.handlePinSelectionChanged,l=s.id,d=(0,r.useCallback)(function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),c(l,!n)},[l,n]);return(0,a.jsx)(o.iP,{onTap:d,rounding:4,children:(0,a.jsx)(i.ZP,{attributionOption:"hide",blockClickEvents:!0,duploQueryRef:null,pin:s,pinId:s.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:n?"selected-image-only":"deselected-image-only",slotIndex:t,surface:"SectionSuggestedPins"})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/48340-8ed5673c184463df.js.map