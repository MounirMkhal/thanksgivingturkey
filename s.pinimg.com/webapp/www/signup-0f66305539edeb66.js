(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[25874],{684107:function(e,t){"use strict";t.Z={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},242994:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var i=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"reportGoogleConversion",value:function(e,r,n,o){if(!o){if(void 0===window.gtag_report_conversion){t.queuedGoogleConversions.push({id:e,label:r,url:n});return}window.gtag_report_conversion(e,r,n)}}},{key:"reportFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,event:r,data:n});return}n?window.fbq("track",r,n):window.fbq("track",r)}},{key:"reportCustomFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:r,data:n});return}n?window.fbq("trackCustom",r,n):window.fbq("trackCustom",r)}},{key:"reportPinterestConversion",value:function(e,r,n){if(void 0===window.pintrk){t.queuedPinterestConversions.push({id:e,event:r,data:n});return}n?window.pintrk("track",r,n):window.pintrk("track",r)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(r,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,r){var n=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(r,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(n,"?")),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,r){var n=document.createElement("script");r||(n.setAttribute("async",""),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),n.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,r){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==r&&window.location.assign(r)}}),!1};for(var n=t.queuedGoogleConversions,o=0;o<n.length;o+=1){var i=n[o];i.id===e&&t.reportGoogleConversion(i.id,i.label,i.url,r)}}),document.body.insertBefore(n,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){var r,n,o,i,a,s,u;r=window,n=document,o="script",i="//connect.facebook.net/en_US/fbevents.js",r.fbq||(a=r.fbq=function(){var e;"function"==typeof a.callMethod?(e=a).callMethod.apply(e,arguments):a.queue.push(arguments)},r._fbq||(r._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(s=n.createElement(o)).async=!0,s.src=i,(u=n.getElementsByTagName(o)[0]).parentNode.insertBefore(s,u)),window.fbq("init",e),window.fbq("track","PageView");for(var l=t.queuedFacebookConversions,c=0;c<l.length;c+=1){var p=l[c];p.id===e&&(p.isCustomEvent?t.reportCustomFacebookConversion(e,p.event,p.data):t.reportFacebookConversion(e,p.event,p.data))}}},{key:"insertPinterestTag",value:function(e){(function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var r=document.createElement("script");r.async=!0,r.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}})("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");for(var r=t.queuedPinterestConversions,n=0;n<r.length;n+=1){var o=r[n];o.id===e&&t.reportPinterestConversion(e,o.event,o.data)}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();n(i,"queuedGoogleConversions",[]),n(i,"queuedFacebookConversions",[]),n(i,"queuedPinterestConversions",[]),t.Z=i},426003:function(e,t,r){"use strict";function n(e,t){var r=e.split("@")[0],n="";return(n=(n=r.includes(".")?r.replace("."," "):r.includes("_")?r.replace("_"," "):r).replace(/[0-9]/g,""),"GB"===t)?"User_"+n.split("").sort(function(){return .5-Math.random()}).join(""):n.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}r.d(t,{Z:function(){return n}})},26473:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=e.embedSrc,r=e.embedType,n=e.imagesUrls,o=e.preferredResolution,s=e.excludeOriginals;if(!t&&!r&&!n)return"";if("gif"===r)return t||"";if(!n)return"";if(o){var u="474x"===o&&n["474x"]||"236x"===o&&n["236x"]||n["736x"];if(u)return u}var l=Object.keys(n).reduce(function(e,t){try{var r=t.split("x")[0];if(Number.isNaN(Number(r)))return i(i({},e),{},a({},t,n[t]));return i(i({},e),{},a({},r,n[t]))}catch(t){return e}},{}),c=Object.keys(l);return s&&"orig"===c[c.length-1]&&c.pop(),l[c.pop()]||""}r.d(t,{Z:function(){return s}})},550353:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(868073),o=r(297949),i=r(144326),a=r(410150),s=r(919122),u=r(770443);function l(e){var t=e.onContinueClick,r=e.onBackClick,l=(0,n.k6)(),c=(0,i.ZP)(),p=(0,a.HG)();return(0,u.jsxs)(o.xu,{marginEnd:p?0:2,marginStart:p?0:2,children:[p?null:(0,u.jsx)(o.xu,{alignItems:"center","data-test-id":"nux-toc-container",display:"flex",height:36,width:"100%",children:(0,u.jsx)(o.xu,{children:(0,u.jsx)(s.Z,{icon:"arrow-back"})})}),(0,u.jsxs)(o.xu,{marginTop:p?4:6,maxWidth:"366px",children:[(0,u.jsx)(o.xu,{marginBottom:4,maxWidth:"90%",children:(0,u.jsx)(o.X6,{accessibilityLevel:1,size:p?"600":"400",children:c._('Create a business account', 'ssoCreateBusinessAccount.title', 'Title for the SSO create business account page')})}),(0,u.jsx)(o.xu,{marginBottom:3,children:(0,u.jsx)(o.xv,{size:"200",children:c._('When you use your business email address, you create a Pinterest business account. This type of account gives you access to business tools like ads and analytics.', 'ssoCreateBusinessAccount.description', 'Description for the SSO create business account page')})}),(0,u.jsx)(o.xu,{marginBottom:3,children:(0,u.jsx)(o.xv,{size:"200",children:c._('To create a non-business account, use your personal email address.', 'ssoCreateBusinessAccount.description2', 'Description for the SSO create business account page')})}),(0,u.jsx)(o.xv,{size:"200",children:c._('With your business account, you\'ll use single sign-on (SSO) for authentication.', 'ssoCreateBusinessAccount.description3', 'Description for the SSO create business account page')})]}),(0,u.jsx)(o.xu,{marginTop:12,children:(0,u.jsxs)(o.kC,{justifyContent:"end",children:[p?(0,u.jsx)(o.xu,{marginEnd:2,children:(0,u.jsx)(o.zx,{fullWidth:!0,onClick:function(){r&&r(),l.goBack()},text:c._('Back', 'ssoCreateBusinessAccount.button.done', 'Back button to go back to the previous page')})}):null,(0,u.jsx)(o.xu,{width:p?"auto":"100%",children:(0,u.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,size:p?"md":"lg",text:c._('Continue with SSO', 'ssoCreateBusinessAccount.button.done', 'Continue with SSO button to go to the SSO page')})})]})})]})}},371041:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(400416),o=r(1006),i=r(868808);function a(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,u,"next",e)}function u(e){a(i,n,o,s,u,"throw",e)}s(void 0)})}}var u=function(e){var t=(0,i.Qc)(e).hostname;return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com")||t.endsWith(".pinterdev.com"))},l=function(e){var t=e.origin,r=e.data;return u(t)?String(r):null};function c(){var e,t="undefined"!=typeof window;return{verifySsoUser:(e=s(regeneratorRuntime.mark(function e(t){var r,i,a,s,u,l,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.Z)({url:"/v3/sso/info/",method:"POST",data:{email:t}});case 3:return i=(r=e.sent.resource_response.data).authorization_uri,a=r.existing_user,s=r.existing_user_is_sso,u=r.is_sso,l=r.redirect_uri,c=r.exchange_code_to_token_info_url,e.abrupt("return",{authorizationUri:i,exchangeCodeToTokenUrl:c,existingUser:a,existingUserIsSso:s,isSso:u,redirectUri:l});case 8:return e.prev=8,e.t0=e.catch(0),p=e.t0,(0,o.My)("coreSso.verifyUser.error",{code:p.api_error_code,message:p.message,http_status:p.http_status}),e.abrupt("return",{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null});case 13:case"end":return e.stop()}},e,null,[[0,8]])})),function(t){return e.apply(this,arguments)}),authenticateWithSso:function(e){var r,o,a,u=e.callbacks,c=e.exchangeCodeToTokenUrl,p=e.isLogin,d=e.modalUrl;if(!t){null===(o=u.error)||void 0===o||o.call(u,{api_error_code:0,message:"Window is undefined"});return}var f=(r=s(regeneratorRuntime.mark(function e(t){var r,o,s,d,_,h,m,g,b,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(r=l(t),!(o=(0,i.mB)(r)).code){e.next=24;break}if(!p){e.next=8;break}return u.success({authCode:o.code}),e.abrupt("return");case 8:return e.prev=8,e.next=11,(0,n.Z)({url:c,method:"POST",data:{code:o.code,state:o.state}});case 11:d=(s=e.sent.resource_response.data).sso_id,_=s.sso_id_token,h=s.sso_email,m=s.sso_user_name,d&&_&&h&&m?u.success({ssoId:d,ssoIdToken:_,ssoEmail:h,ssoUserName:m}):null===(g=u.error)||void 0===g||g.call(u,{api_error_code:0,message:"No tokens returned"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),v=e.t0,null===(b=u.error)||void 0===b||b.call(u,v);case 20:return e.prev=20,a&&!a.closed&&a.close(),window.removeEventListener("message",f),e.finish(20);case 24:case"end":return e.stop()}},e,null,[[8,16,20,24]])})),function(e){return r.apply(this,arguments)});window.addEventListener("message",f),a=window.open(d,"_blank","width=600,height=600")}}}},604759:function(e,t,r){"use strict";r.d(t,{F_:function(){return d},ZP:function(){return l},bC:function(){return f},y8:function(){return c}});var n=r(498490);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var l=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),s(this,"pending",{})}return e=[{key:"add",value:function(e,t,r){var n,o,i=this;r&&(this.pending[e]=a(a({},null!==(n=this.pending[e])&&void 0!==n?n:{}),{},s({},t,r)),null===(o=r.finally)||void 0===o||o.call(r,function(){return i.remove(e,t)}))}},{key:"remove",value:function(e,t){var r;null!==(r=this.pending[e])&&void 0!==r&&r[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}},{key:"get",value:function(e,t){var r,n;return null!==(r=null===(n=this.pending[e])||void 0===n?void 0:n[t])&&void 0!==r?r:null}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),c=new l,p=(0,n.Z)("PendingFetches"),d=p.Provider,f=p.useMaybeHook},468808:function(e,t,r){"use strict";r.d(t,{U:function(){return m},b:function(){return g}});var n=r(252071),o=r(605388),i=r(786974),a=r(809833),s=r(338623),u=r(938701),l=r(461350);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function h(e){var t,r,c=e.addSuspenseResourceSSRData,d=e.fetchOptions,m=e.resource,g=e.resourceCreator,b=e.retry;return t=regeneratorRuntime.mark(function e(t,r){var _,v,y,S,w,P,E,T,O,x,A,j,k,C,R,I,L,D,N,B,U,z,Z,F,M;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S=d.bookmark,w=d.headers,P=d.options,E=d.refresh,T=d.schema,O=(0,i.Z)(P),!(null!==(_=r().resources)&&void 0!==_&&null!==(v=_[m])&&void 0!==v&&null!==(y=v[O])&&void 0!==y&&y.fetching&&!b)){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return x=b?b.bookmark:S,A=(0,o.Z)(P),j=x?f(f({},A),{},{bookmarks:[x]}):A,t((0,s.LQ)(m,P,!0)),e.prev=8,k=null!=g?g:n.Z.create,e.next=12,k(m,j).callGet(void 0,w);case 12:if(C=e.sent,c&&C.resource&&c(m,j,C),I=(function(e){if(Array.isArray(e))return e}(R=C.bookmarks||[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(s.push(n.value),1!==s.length);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(R,1)||function(e,t){if(e){if("string"==typeof e)return p(e,1);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,1)}}(R,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],L=C.resource_response.data,N=(D=(0,l.f)({data:L,opts:{bookmark:S,options:P,schema:T},resource:m})||{normalizedResponse:null,resourceSchema:void 0}).normalizedResponse,B=D.resourceSchema,U=C.resource?null:C,C.resource&&(I=C.resource_response.bookmark||"",N=(z=(0,u.Z)(C)).normalizedResponse,B=z.schema,U=z.response),!(Array.isArray(L)&&0===L.length&&I&&I!==a.qx)||(Z=b?b.count:0)>=a.s9){e.next=24;break}return e.abrupt("return",t(h({resource:m,fetchOptions:d,retry:{count:Z+1,bookmark:I},resourceCreator:g})));case 24:U&&(S?(t((0,s.Dm)(m,P,U,N,B)),n.Z.fetchMoreCompleteCallback&&n.Z.fetchMoreCompleteCallback({resource:m,options:P,response:U,normalizedResponse:N,refresh:E,resourceSchema:B})):(t((0,s.Sr)(m,P,U,N,E,B)),n.Z.fetchCompleteCallback&&n.Z.fetchCompleteCallback({resource:m,options:P,response:U,normalizedResponse:N,refresh:E,resourceSchema:B}))),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(8),c&&(M=null!==(F=e.t0.http_status)&&void 0!==F?F:500,c(m,P,{resource:{name:m,options:P},resource_response:{data:null,error:e.t0,http_status:M,status:"failure"}})),t((0,s.Tl)(m,P,e.t0));case 31:return e.abrupt("return",void 0);case 32:case"end":return e.stop()}},e,null,[[8,27]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){_(i,n,o,a,s,"next",e)}function s(e){_(i,n,o,a,s,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)}}var m=function(e,t,r,n){return h({resource:e,fetchOptions:{bookmark:t.bookmark,headers:t.headers,options:t.options,refresh:!1,schema:t.schema},resourceCreator:r,addSuspenseResourceSSRData:n})},g=function(e,t,r){return h({resource:e,fetchOptions:{headers:t.headers,options:t.options,refresh:!0,schema:t.schema},resourceCreator:r})}},338623:function(e,t,r){"use strict";r.d(t,{Dm:function(){return u},LQ:function(){return i},Sr:function(){return s},Tl:function(){return a},XM:function(){return o},jB:function(){return l}});var n=r(29010);function o(e,t,r,o){return{type:n.AF,payload:{resource:e,options:t,response:r,normalizedResponse:o}}}function i(e,t,r){return{type:n.KK,payload:{resource:e,options:t,isFetching:r}}}var a=function(e,t,r){return{type:n.cR,payload:{resource:e,options:t,error:r}}};function s(e,t,r,o,i,a){return{type:n.zP,payload:{isRefresh:i,normalizedResponse:o,options:t,resource:e,response:r,schema:a}}}function u(e,t,r,o,i){return{type:n.aW,payload:{resource:e,options:t,response:r,normalizedResponse:o,schema:i}}}function l(e,t){return{type:n.se,payload:{resource:e,optionsOrOptionsKey:t}}}},938701:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(94202),o=r(272244),i=r(461350);function a(e){var t=e.resource,r=e.resource_response,a=t.name,s=t.options,u=(0,o.Z)(r),l=r.data,c=r.error,p=(0,i.J)(a,{options:s});return{error:c,isRefresh:!1,normalizedResponse:p&&l?(0,n.Fv)(l,p):null,options:s,resource:a,response:{auxData:u,bookmarks:r.bookmark?[r.bookmark]:void 0,resource_response:{data:l,error:c}},schema:p}}},346645:function(e,t,r){"use strict";var n=r(282480),o=function(){return function(){}},i=function(){return!1},a=function(){return!0};t.Z=function(){return(0,n.useSyncExternalStore)(o,i,a)}},411399:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(144326),o=r(240760),i=r(297728);function a(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}var s=function(e){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(42925).then(r.bind(r,42925));case 2:return n=t.sent.NewPassword,t.abrupt("return",n(e));case 5:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function s(e){a(i,n,o,s,u,"next",e)}function u(e){a(i,n,o,s,u,"throw",e)}s(void 0)})}},u=r(404335),l=r(26456),c=function(){var e=(0,n.ZP)(),t=(0,i.F)().checkExperiment,r=6;t("web_increased_min_password_length").anyEnabled&&(r=8);var a=(0,o.Wc)(e._('Your password is too short! You need {{minPasswordLength}}+ characters.', 'passwordValidation.minLength', 'The minimum password length is 6 characters. minPasswordLength:This variable is used to interpolate the minimum password length'),{minPasswordLength:r.toString()}),c=e._('Please make your username and password different.', 'passwordValidation.passwordEqualsToUsername', 'This error message is presented when the password is the same as the username'),p=e._('Please make a stronger password.', 'passwordValidation.strongerPassword', 'This error message is presented when the password is weak'),d=e._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'passwordValidation.onlyASCII', 'Only ASCII characters are allowed for password');return function(e){var t=e.useOldPasswordValidation,n=e.username,o=s;return t&&(o=u.Z),[(0,l.oR)({message:d}),(0,l.aH)({message:a}),o({shortPassStr:a,samePasswordStr:c,blackPassStr:p,minPasswordLength:r,username:n})]}}},404335:function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}t.Z=function(e){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(42925).then(r.bind(r,42925));case 2:return n=t.sent.Password,t.abrupt("return",n(e));case 5:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(o,i){var a=t.apply(e,r);function s(e){n(a,o,i,s,u,"next",e)}function u(e){n(a,o,i,s,u,"throw",e)}s(void 0)})}}},410287:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(297949),o=r(770443);function i(e){var t=e.children,r=e.onMouseEnter,i=e.onMouseLeave,a=e.onTouch,s=e.rounding,u=e.fullWidth,l=e.pressState,c=void 0===l?"none":l,p=e.accessibilityLabel,d=e.role,f=e.dataTestId,_=(Array.isArray(c)?c:[c]).includes("compress");return(0,o.jsx)(n.iP,{accessibilityLabel:p,dataTestId:f,fullWidth:void 0!==u&&u,onMouseEnter:r&&function(e){return r(e.event)},onMouseLeave:i&&function(e){return i(e.event)},onTap:a&&function(e){return a(e.event)},role:d,rounding:s,tapStyle:_?"compress":"none",children:t})}},66560:function(e,t,r){"use strict";r.d(t,{AF:function(){return u},H0:function(){return l},S6:function(){return c},_S:function(){return p}});var n=r(545007),o=r(498490),i=r(770443),a=(0,o.Z)("Pins"),s=a.Provider,u=a.useHook,l=a.useMaybeHook;function c(){var e=u();return function(t){return e[t]}}function p(e){var t=e.children,r=(0,n.v9)(function(e){return e.pins},n.wU);return(0,i.jsx)(s,{value:r,children:t})}},645839:function(e,t,r){"use strict";r.d(t,{X:function(){return c},m:function(){return l}});var n=r(282480),o=r(498490),i=r(770443);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,o.Z)("Session"),u=s.Provider,l=s.useHook;function c(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],l=o[1],c=(0,n.useMemo)(function(){return{unauthBoardInvite:s,setUnauthBoardInvite:l}},[s]);return(0,i.jsx)(u,{value:c,children:r})}},966321:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{B:function(){return c},Z:function(){return l}});var o="gmail.com",i="yahoo.com",a="hotmail.com",s="icloud.com",u={AR:[o,a,"yahoo.com.ar"],AU:[o,a,"bigpond.com"],BR:[o,a,"yahoo.com.br"],CA:[o,a,i],DE:[o,"web.de","gmx.de"],ES:[o,a,"hotmail.es"],FR:[o,"hotmail.fr","orange.fr"],GB:[o,"hotmail.co.uk","hotmail.com"],IN:[o,i,"rediffmail.com"],IT:[o,"libero.it","hotmail.it"],JP:[o,"yahoo.co.jp","ezweb.ne.jp"],MX:[o,a,"outlook.com"],US:[o,a,i],KR:[o,"naver.com","hanmail.net","nate.com","daum.net"],ID:[o,i,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[o,i,"yahoo.com.ph",s,"ymail.com"],TH:[o,a,"hotmail.co.th",i,s],VN:[o,i,"yahoo.com.vn",s,a],DEFAULT:[o,a,i]};function l(e){return e&&e.toUpperCase() in u?u[e.toUpperCase()]:u.DEFAULT}function c(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split("@"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a="",s=o.length;return a=s>3?o.substring(0,3)+o.substring(3,s).replace(/\w/g,"*"):o.replace(/\w/g,"*"),"".concat(a,"@").concat(i)}},461350:function(e,t,r){"use strict";r.d(t,{J:function(){return i},f:function(){return a}});var n=r(94202),o=r(517989),i=function(e,t){var r=t.bookmark,n=t.options,i=t.schema||o.Z[e];return"function"==typeof i?i({resource:e,options:n,bookmark:r}):i};function a(e){var t=e.data,r=e.opts,o=r.bookmark,a=r.options,s=r.schema,u=i(e.resource,{bookmark:o,options:a,schema:s});return{normalizedResponse:u&&t?(0,n.Fv)(t,u):null,resourceSchema:u}}},911420:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(192820),o=r(166408),i=r(868808),a=r(923421);function s(e){var t=e.i18n,r=e.location,i=r.pathname.startsWith("/signup"),a=r.pathname.startsWith("/login");if(!i&&!a)return{showPLPBanner:!1,pinForBanner:null};try{s=(0,o.Nl)().getItem(n.N_)||[]}catch(e){s=[]}if(s&&s.length>0){var s,u,l=null===(u=s)||void 0===u?void 0:u[0];if(l)return l.bannerCopy=t._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:!!l.image,pinForBanner:l}}return{showPLPBanner:!1,pinForBanner:null}}function u(e){var t,r=e.i18n,n=e.location,o=(null===(t=n.state)||void 0===t?void 0:t.next)||(0,a.Z)(n);if(o){var s=o.indexOf("?"),u=(0,i.mB)(o.substring(s));if(u.url&&u.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,i.Jx)(u.media),height:1,width:1},pinDescription:u.description,bannerCopy:r._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function l(e){var t=e.i18n,r=e.location;return u({i18n:t,location:r}).showPLPBanner?u({i18n:t,location:r}):s({i18n:t,location:r}).showPLPBanner?s({i18n:t,location:r}):{showPLPBanner:!1,pinForBanner:null}}},355483:function(e,t,r){"use strict";function n(e){return!!(null==e?void 0:e.is_matured_new_user)}r.d(t,{IR:function(){return a},V0:function(){return n},Wn:function(){return i},xT:function(){return o}});var o=function(e){return!!e&&2===e.login_state},i=function(e){return!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/))};function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},672473:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(297949),o=r(730212),i=r(346645),a=r(410287),s=r(966321),u=r(770443);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={border:"1px solid rgb(181, 181, 181)",zIndex:1};function f(e){var t=e.email,r=e.emailFieldElement,l=e.handleEmailSuggestionClick,c=e.showUsername,f=(0,o.B)().country,_=(0,s.Z)(f),h=function(e){if((0,i.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};var t=e.getBoundingClientRect();return{width:t.width,top:t.y+t.height}}(r),m=h.width,g=h.top;return(0,u.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:p(p({},d),{},{top:g})},direction:"column",display:"flex",position:"absolute",width:m,children:_.map(function(e){var r=c?t.concat(e):e;return(0,u.jsx)(n.xu,{children:(0,u.jsx)("div",{onMouseDown:function(){l(t.concat(e))},role:"button",tabIndex:0,children:(0,u.jsx)(a.Z,{pressState:"none",children:(0,u.jsx)(n.xu,{paddingX:3,paddingY:2,children:(0,u.jsx)(n.xv,{children:r})})})})},r)})})}},707135:function(e,t,r){"use strict";r.d(t,{Z:function(){return td}});var n=r(282480),o=r(545007),i=r(868073),a=r(297949),s=r(252071),u=r(449112),l=r(196074),c=r(279812),p=r(800492),d=r(242994),f=r(684107),_=r(488792),h=r(914896),m=r(790014),g=r(705492),b=r(194093),v=r(400416),y=r(784714),S=r(758339),w=r(476198),P=r(144326),E=r(426003),T=r(775383),O=r(267005),x=r(719174),A=r(765963),j=r(550353),k=r(371041),C=r(297728),R=r(882026),I=r(730212),L=r(703333),D=r(66401),N=r(1006),B=r(901450),U=r(868808),z=r(410150),Z=r(616517),F=r(411399),M=r(383399),W=r(26456),V=r(645839),H=r(791526),G=r(343931),q=r(911420),Y=r(355483),K=r(70339),Q=r(578266),X=r(72766),$=r(834945),J=r(335108),ee=r(345020),et=r(900492),er=r(212515),en=r(954738),eo=r(770443);function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ea(e){var t,r=e.disabled,o=e.getFocusFieldRef,i=e.handleChangePassword,s=e.handlePasswordReset,u=e.isReducedHeader,l=e.password,c=e.setValidState,p=e.error,d=void 0===p?"":p,f=e.showPLPBanner,_=e.viewType,h=(0,P.ZP)(),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(d))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ei(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=m[0],b=m[1];(0,er.Q)({view_type:_,view_parameter:3207});var v=(0,C.F)().checkExperiment;(0,n.useEffect)(function(){return b(d)},[d]),(0,n.useEffect)(function(){l?c(""):c("Missing password")},[l]);var y=h._('Looks like you\'re already on Pinterest', 'Heading indicating that the user is already registered on Pinterest', 'Heading indicating that the user is already registered on Pinterest');return(0,eo.jsxs)(a.xu,{marginTop:3,children:[(0,eo.jsx)(a.xu,{marginBottom:2,children:(0,eo.jsx)(en.Z,{minHeight:60,children:(0,eo.jsx)(a.X6,{overflow:"normal",size:u||void 0!==f&&f?"500":"600",children:y})})}),(0,eo.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:2,children:(0,eo.jsx)(a.xu,{flex:"grow",children:(0,eo.jsx)(a.nv,{ref:o,disabled:r,errorMessage:g,id:"password",onChange:function(e){i(e.value).then(function(){g&&b("")})},placeholder:h._('Enter your password', 'Enter password field label', 'Enter password field label'),size:"lg",type:"password",value:l})})}),(0,eo.jsx)(a.xu,{"data-test-id":"reset-password",marginTop:1,children:(0,eo.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,eo.jsx)(a.rU,{display:"inlineBlock",href:"/password/reset",onClick:s,underline:"hover",children:"enabled_copy"===v("mweb_unauth_remove_fb_login_button").group?h._('Can\'t get into your account?', 'account_recovery_page.link', 'Link to the account recovery page'):h._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]})}var es=r(878292),eu=r(197355),el=r(617332),ec=r(240760),ep=r(672473);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(r),!0).forEach(function(t){ev(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function em(e,t){return(em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eg(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eb(e){return(eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ev(e,t,r){return(t=ey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ey(e){var t=function(e,t){if("object"!==ed(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ed(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ed(t)?t:String(t)}var eS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eb(o);return e=t?Reflect.construct(r,arguments,eb(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===ed(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eg(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return ev(eg(e=n.call.apply(n,[this].concat(r))),"state",{email:e.props.email,emailFieldElement:null,error:"",shouldShowEmailSuggestions:!1}),ev(eg(e),"onBlur",function(t){var r=t.value;e.props.emailError||e.validate(r,!0)}),ev(eg(e),"onChange",function(t){var r=t.value;if(e.props.setEmailError(null),e.props.handleChangeEmail(r).then(function(){return e.validate(r,!1)}),e.state.shouldShowEmailSuggestions)e.setState({shouldShowEmailSuggestions:!1});else if(r.endsWith("@")){var n=e.emailTextFieldInput;e.setState({shouldShowEmailSuggestions:!0,emailFieldElement:n})}e.setState({email:r})}),ev(eg(e),"showEmailDomainTypoError",function(t,r){var n,o=e.state.email,i=(function(e){if(Array.isArray(e))return e}(n=(o||"").includes("@")?o.split("@"):[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return eh(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];("gmail"===r?"gmail.com"===i:(i||"").startsWith("".concat(r,".")))||(e.setState({error:""}),e.props.setEmailError({type:"domainTypo",fixedEmail:"".concat(t,"@").concat(r,".com")}),e.props.setValidState("".concat(r," error")),(0,N.My)("unauth_mweb.signup.".concat(r,"_suggestion.shown")))}),ev(eg(e),"validate",function(t,r){var n=e.props,o=n.setValidState,i=n.validateEmailExists,a=(t||"").includes("@")?t.split("@"):[];if((0,el.Z)(t)){var s=a[0];i(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),o()):e.showEmailDomainTypoError(s,"gmail")}).catch(function(t){var r,n;O.Cx.includes(null!==(r=(0,b.Z)(t,"api_error_code"))&&void 0!==r?r:0)?e.setState({error:null!==(n=(0,b.Z)(t,"message"))&&void 0!==n?n:""}):e.showEmailDomainTypoError(s,"gmail")});return}var u=!1;["yahoo","hotmail"].forEach(function(r){if((0,el.z)(t,r)){u=!0;var n=a[0];i(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),o()):e.showEmailDomainTypoError(n,r)}).catch(function(t){var o,i;O.Cx.includes(null!==(o=(0,b.Z)(t,"api_error_code"))&&void 0!==o?o:0)?e.setState({error:null!==(i=(0,b.Z)(t,"message"))&&void 0!==i?i:""}):e.showEmailDomainTypoError(n,r)})}}),u||e.props.setEmailError(null);var l=(0,W.a3)(t,[(0,W.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')}),(0,W.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);l&&r&&(0,W.a3)(t,[(0,W.oR)({message:"Contains non-ASCII characters"})])&&(0,N.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciiemail"),e.setState({error:r?l:""}),o(l)}),ev(eg(e),"handleEmailSuggestionClick",function(t){(0,N.My)("mweb_unauth_email_suggestions.signup_page.tap"),e.onChange({value:t})}),ev(eg(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,o=t.showPLPBanner;return r?"400":n||o?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.email,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.i18n,n=t.disabled,o=t.getFocusFieldRef,i=t.hideLabel,s=t.showModernizedNuxUI,u=t.showPLPBanner,l=t.emailError,c=this.state,p=c.error,d=c.email;return(0,eo.jsxs)(a.xu,{marginTop:3,children:[!i&&(0,eo.jsx)(a.__,{htmlFor:"email",children:(0,eo.jsx)(a.xu,{"data-test-id":"email-address-heading",marginBottom:u?3:10,children:(0,eo.jsx)(en.Z,{center:s,minHeight:60,children:(0,eo.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:this.getHeadingSize(),children:r._('What\'s your email?', 'Sign up page field label', 'Sign up page field label')})})})}),(0,eo.jsxs)(a.xu,{marginTop:2,children:[(0,eo.jsx)(a.nv,{ref:function(t){e.emailTextFieldInput=t,o(t)},autoComplete:this.state.shouldShowEmailSuggestions?"off":"on",disabled:n,errorMessage:this.state.shouldShowEmailSuggestions?"":p,id:"email",onBlur:this.onBlur,onChange:this.onChange,placeholder:s?r._('Enter your email address', 'signup.email_step.email_input.placeholder', 'placeholder for email input'):r._('Email address', 'Field label', 'Field label'),size:"lg",type:"email",value:d}),!!l&&(0,eo.jsx)(a.xu,{"data-test-id":"invalid-email-container",marginTop:1,children:"domainTypo"===l.type?(0,eo.jsx)(a.iP,{onTap:function(){e.onChange({value:l.fixedEmail}),e.props.setEmailError(null),e.props.setValidState(),(0,N.My)("unauth_mweb.signup.gmail_suggestion.click")},children:(0,eo.jsx)(a.xv,{color:"error",children:(0,ec.nk)(r._('Did you mean {{ emailElement }}?', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)'),{emailElement:(0,eo.jsx)(a.xv,{color:"error",inline:!0,weight:"bold",children:l.fixedEmail})})})}):(0,eo.jsx)(a.xv,{color:"error",children:r._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')})}),this.state.shouldShowEmailSuggestions?(0,eo.jsx)(ep.Z,{email:this.state.email,emailFieldElement:this.state.emailFieldElement,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null]})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ey(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function ew(e){var t=(0,P.ZP)(),r=(0,C.F)().checkExperiment;(0,er.Q)({view_type:e.viewType,view_parameter:3146});var n=e.showModernizedNuxUI;return(0,eo.jsx)(eS,e_(e_({validateEmailExists:function(e){return(0,et.OF)(e)}},e),{},{checkExperiment:r,i18n:t,showModernizedNuxUI:n}))}var eP=r(504774),eE=r(886713);function eT(e){return(eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(t){eC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eA(e,t){return(eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ej(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ek(e){return(ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eC(e,t,r){return(t=eR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eR(e){var t=function(e,t){if("object"!==eT(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eT(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eT(t)?t:String(t)}var eI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eA(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ek(o);return e=t?Reflect.construct(r,arguments,ek(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===eT(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ej(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return eC(ej(e=n.call.apply(n,[this].concat(r))),"state",{error:""}),eC(ej(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eC(ej(e),"onChange",function(t){var r=t.value;e.props.handleChangeName(r).then(function(){return e.validate(r,!1)})}),eC(ej(e),"validate",function(t,r){var n=(0,W.a3)(t,[(0,W.aH)({message:e.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})]);e.setState({error:r?n:""}),e.props.setValidState(n)}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.name,!1)}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,r=e.disabled,n=e.getFocusFieldRef,o=e.name,i=this.state.error;return(0,eo.jsxs)(a.xu,{"data-test-id":"business-name-heading",marginTop:3,children:[(0,eo.jsx)(a.__,{htmlFor:"name",children:(0,eo.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:"500",children:t?this.props.i18n._('What\'s your business name?', 'Sign up page field label', 'Sign up page field label'):this.props.i18n._('What\'s your name?', 'Sign up page field label', 'Sign up page field label')})}),(0,eo.jsx)(a.xu,{"data-test-id":"name-field",marginTop:2,children:(0,eo.jsx)(a.nv,{ref:n,disabled:r,errorMessage:i,id:"name",onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.i18n._('Business name', 'Textfield placeholder', 'Textfield placeholder'):this.props.i18n._('Full name', 'Textfield placeholder', 'Textfield placeholder'),size:"lg",type:"text",value:o})})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eR(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eL(e){var t=(0,P.ZP)();return(0,er.Q)({view_type:e.viewType,view_parameter:3148}),(0,eo.jsx)(eI,ex(ex({},e),{},{i18n:t}))}function eD(e){return(eD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(t){eM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eU(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function ez(e,t){return(ez=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eZ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t,r){return(t=eW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eW(e){var t=function(e,t){if("object"!==eD(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eD(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eD(t)?t:String(t)}var eV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ez(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eF(o);return e=t?Reflect.construct(r,arguments,eF(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===eD(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eZ(e)}(this,e)});function o(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var e,t,r,i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return eM(eZ(e=n.call.apply(n,[this].concat(a))),"state",{error:""}),eM(eZ(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eM(eZ(e),"onChange",function(t){var r=t.value;e.props.handleChangePassword(r).then(function(){return e.validate(r,!0)})}),eM(eZ(e),"validate",(t=regeneratorRuntime.mark(function t(r,n){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,W.oR)({message:e.props.i18n._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'PasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password')}),t.next=3,(0,W.U2)(r,e.props.getPasswordValidationRules({}));case 3:i=t.sent,e.setState({error:n?i:""}),e.props.setValidState(i),(0,W.a3)(r,[o])&&n&&(0,N.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciipwd");case 8:case"end":return t.stop()}},t)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){eU(i,n,o,a,s,"next",e)}function s(e){eU(i,n,o,a,s,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)})),eM(eZ(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,o=t.showPLPBanner;return r?"400":n||o?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.password,!1)}},{key:"render",value:function(){var e=this.props,t=e.i18n,r=e.disabled,n=e.getFocusFieldRef,o=e.password,i=e.showModernizedNuxUI,s=e.showPLPBanner,u=this.state.error,l=(0,ec.Wc)(t._('Password with {{minPasswordLength}} or more characters', 'unauth.signup.password_step.password_helper_text', 'Placeholder text on the password input field on the mobile Password step page. minPasswordLength:Minimum password length determined by the new password experiment'),{minPasswordLength:this.props.isOnIncreaseMinPasswordLengthExp?"8":"6"});return(0,eo.jsxs)(a.xu,{marginTop:3,children:[(0,eo.jsx)(a.__,{htmlFor:"password",children:(0,eo.jsx)(a.xu,{"data-test-id":"create-password-heading",marginBottom:s?3:10,children:(0,eo.jsx)(en.Z,{center:i,minHeight:60,children:(0,eo.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:this.getHeadingSize(),children:t._('Create a password', 'Sign up page field label', 'Sign up page field label')})})})}),(0,eo.jsx)(a.xu,{"data-test-id":"password-field",marginTop:2,position:"relative",children:(0,eo.jsx)(a.nv,{ref:n,autoComplete:"new-password",disabled:r,errorMessage:u,helperText:l,id:"password",onBlur:this.onBlur,onChange:this.onChange,placeholder:t._('Enter your password', 'signup.email_step.password_input.placeholder', 'placeholder for password input'),size:"lg",type:"password",value:o})})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eW(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eH(e){var t=(0,P.ZP)(),r=(0,_.Z)(),n=(0,F.Z)(),o=(0,C.F)().checkExperiment("web_increased_min_password_length").anyEnabled,i=e.showModernizedNuxUI;return(0,er.Q)({view_type:e.viewType,view_parameter:3147}),(0,eo.jsx)(eV,eB(eB({},e),{},{getPasswordValidationRules:n,i18n:t,isOnIncreaseMinPasswordLengthExp:o,logContextEvent:r,showModernizedNuxUI:i}))}var eG=r(911054),eq=r(575421),eY=r(942505),eK=r(661409),eQ=r(983813),eX=r(415787),e$=["passwordValidationError"];function eJ(e){return(eJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e){return function(e){if(Array.isArray(e))return e3(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e1(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e1(e,t){if(e){if("string"==typeof e)return e3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(e,t)}}function e3(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e2(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function e4(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){e2(i,n,o,a,s,"next",e)}function s(e){e2(i,n,o,a,s,"throw",e)}a(void 0)})}}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(t){te(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e6(e,t){return(e6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e5(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(e){return(e9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,r){return(t=tt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e){var t=function(e,t){if("object"!==eJ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eJ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eJ(t)?t:String(t)}var tr={EMAIL_STEP:1,PASSWORD_STEP:2,NAME_STEP:3,BIRTHDAY_STEP:4,ALREADY_HAS_PASSWORD_STEP:5,WEBSITE_STEP:6,INTENT_STEP:7,SALES_CONTACT_STEP:8,BUSINESS_TYPE_STEP:9,SSO_STEP:10,CONSENT_STEP:11},tn=[tr.EMAIL_STEP,tr.PASSWORD_STEP,tr.BIRTHDAY_STEP],to=[tr.EMAIL_STEP,tr.PASSWORD_STEP,tr.BIRTHDAY_STEP],ti=[tr.EMAIL_STEP,tr.SSO_STEP,tr.BIRTHDAY_STEP],ta=[tr.EMAIL_STEP,tr.PASSWORD_STEP,tr.NAME_STEP,tr.BUSINESS_TYPE_STEP,tr.WEBSITE_STEP,tr.INTENT_STEP,tr.BIRTHDAY_STEP],ts=[tr.NAME_STEP,tr.BUSINESS_TYPE_STEP,tr.WEBSITE_STEP,tr.INTENT_STEP],tu=[tr.PASSWORD_STEP,tr.NAME_STEP,tr.BIRTHDAY_STEP],tl=new H.J5,tc=new H.dD,tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e6(e,t)}(i,e);var t,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=e9(i);return e=t?Reflect.construct(r,arguments,e9(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===eJ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e5(e)}(this,e)});function i(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),te(e5(r=o.call(this,e)),"handleBack",function(e){return r.setState({stepToRender:e})}),te(e5(r),"getStepFromMatchParams",function(e){return parseInt(e.match.params.step||"1",10)||0}),te(e5(r),"getSteps",function(){var e=r.props,t=e.isBusiness,n=e.isConsentStepNeeded,o=e.isGroupBoardSignup,i=e.isLBA,a=to;return o?a=tn:i?a=ts:t&&(a=ta),n&&a.push(tr.CONSENT_STEP),a}),te(e5(r),"setIsExistingUser",function(e,t){e?r.setState({isExistingUser:e,steps:[tr.EMAIL_STEP,tr.ALREADY_HAS_PASSWORD_STEP]},t):r.setState({isExistingUser:e,steps:r.getSteps()},t)}),te(e5(r),"setValidState",function(e){r.setState({isValid:!e})}),te(e5(r),"getCurrentActionName",function(){switch(r.state.stepToRender){case tr.EMAIL_STEP:return"email";case tr.PASSWORD_STEP:case tr.ALREADY_HAS_PASSWORD_STEP:return"password";case tr.NAME_STEP:return"name";case tr.BIRTHDAY_STEP:return"birthday";case tr.WEBSITE_STEP:return"website";case tr.INTENT_STEP:return"intent";case tr.SALES_CONTACT_STEP:return"sales_contact";case tr.BUSINESS_TYPE_STEP:return"business_type_step";case tr.CONSENT_STEP:return"consent_step";default:return"undefined"}}),te(e5(r),"getNextButtonText",function(){var e=r.state,t=e.steps,n=e.stepToRender,o=r.props,i=o.isGroupBoardSignup,a=o.i18n,s=a._('Accept invite', 'Accept the invite and move through the signup/login process', 'Accept the invite and move through the signup/login process');return n===tr.ALREADY_HAS_PASSWORD_STEP?i?s:a._('Log in', 'Button to login for existing user', 'Button to login for existing user'):t[t.length-1]===n?i?s:a._('Done', 'Go to next step account signup', 'Go to next step account signup'):null}),te(e5(r),"getViewParameterType",function(){switch(r.state.stepToRender){case tr.EMAIL_STEP:return 3146;case tr.PASSWORD_STEP:return 3147;case tr.NAME_STEP:return 3148;case tr.ALREADY_HAS_PASSWORD_STEP:return 3207;case tr.BIRTHDAY_STEP:return 3737;case tr.WEBSITE_STEP:return 3376;case tr.INTENT_STEP:return 3377;case tr.SALES_CONTACT_STEP:return 3378;case tr.BUSINESS_TYPE_STEP:return 3406;case tr.CONSENT_STEP:return 4038;default:return}}),te(e5(r),"getInferredUserInfo",function(){return{connected_to_facebook:!1,connected_to_google:!1,email:r.state.email,first_name:(0,E.Z)(r.state.email,r.props.country),has_password:!1,large_image_url:"",medium_image_url:"",small_image_url:"",xlarge_image_url:""}}),te(e5(r),"navigateToStep",function(e){r.setState(function(t){return{stepToRender:t.steps[e-1],canEditCurrentTextField:!0}},function(){var t,n,o="/signup/step".concat(e,"/"),i=r.props,a=i.history,s=i.isBusiness,u=i.isLBA,l=i.location,c=i.isGroupBoardSignup,p=r.state,d=(p.passwordValidationError,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(p,e$)),f=null===(t=l.state)||void 0===t?void 0:t.attributionLabel,_=(0,U.mB)(l.search).next||(null===(n=l.state)||void 0===n?void 0:n.next);s?o="/business/signup/step".concat(e,"/"):u&&(o="/linked/signup/step".concat(e,"/")),a.push({pathname:o,state:c?e7(e7(e7({},l.state),d),{},{attributionLabel:f,next:_}):e7(e7(e7({},l.state),d),{},{attributionLabel:f})})})}),te(e5(r),"shouldSkipIntentStep",function(e){var t=r.state,n=t.steps,o=t.businessType;return n.length>e+1&&n[e+1]===tr.INTENT_STEP&&"influencer_public_figure_or_celebrity"===o}),te(e5(r),"handleSsoContinue",function(){var e=r.props,t=e.authenticateWithSso,n=e.country,o=e.logContextEvent,i=r.state,s=i.email,u=i.exchangeCodeToTokenUrl,l=i.ssoAuthorizationUri;o({view_parameter:4014,view_type:664,event_type:102,element:14367}),t({callbacks:{success:function(e){var t=(0,E.Z)(s||"",n),o=e.ssoEmail,i=e.ssoId,a=e.ssoIdToken;if(o&&i&&a){r.setState({ssoEmail:o,ssoId:i,ssoIdToken:a,ssoName:t,fullName:t});var u=r.getStepFromMatchParams(r.props);r.navigateToStep(u+1)}},error:function(){r.props.showToast(function(e){var t=e.hideToast;return(0,eo.jsx)(a.xu,{"data-test-id":"error-sso-create-account-toast",children:(0,eo.jsx)(w.ZP,{onHide:t,text:r.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'signup.sso.error', 'Error during sso signup'),type:"error"})})})}},exchangeCodeToTokenUrl:u,modalUrl:null!=l?l:""})}),te(e5(r),"nextSignupStep",e4(regeneratorRuntime.mark(function e(){var t,n,o,i,a,s,u,l,c,p,d,f,_,g,y,S,P,T,x,A,j,k,C,R,I,L,D,N,B,U;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=r.props).history,i=n.isLimitedLoginUser,a=n.location,s=n.loggedOutUserInfo,u=n.showToast,l=n.validateEmailExists,c=n.isGroupBoardSignup,p=n.isLBA,f=(d=r.state).email,_=d.intent,g=d.steps,y=d.stepToRender,S=r.getStepFromMatchParams(r.props),P=null===(t=a.state)||void 0===t?void 0:t.attributionLabel,"1"!==h.U2(m.It)){e.next=8;break}return r.setState({isLoading:!1}),u(function(e){var t=e.hideToast;return(0,eo.jsx)(w.ZP,{duration:3e3,onHide:t,text:r.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Underage error during signup'),type:"error"})}),e.abrupt("return");case 8:if(r.shouldSkipIntentStep(S)&&(T=[].concat(e0(g.slice(0,S+1)),e0(g.slice(S+2))),r.setState({steps:T})),y!==tr.EMAIL_STEP){e.next=28;break}return x=r.props.verifySsoUser,e.next=13,x(f);case 13:if(j=(A=e.sent).isSso,k=A.existingUser,C=A.exchangeCodeToTokenUrl,R=A.authorizationUri,!(j&&!k)){e.next=24;break}return r.props.logContextEvent({element:14367,event_type:102,view_type:10,view_parameter:r.getViewParameterType()}),r.setState({exchangeCodeToTokenUrl:null!=C?C:"",ssoAuthorizationUri:null!=R?R:"",steps:ti,isSsoFlow:!0},function(){return r.navigateToStep(S+1)}),e.abrupt("return");case 24:r.state.isSsoFlow&&r.setState({steps:r.getSteps(),isSsoFlow:!1});case 25:return l(r.state.email).then(function(){var e=e4(regeneratorRuntime.mark(function e(t){var n,u,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.resource_response.data){e.next=8;break}if(r.setState({isLoading:!1}),!(!s&&!i&&!c)){e.next=6;break}return o.replace({pathname:a.pathname,state:e7(e7({},a.state),{},{email:f,attributionLabel:P})}),o.push({pathname:"/login",state:{switch_account:null===(n=a.state)||void 0===n?void 0:n.switch_account,secondary_account:null===(u=a.state)||void 0===u?void 0:u.secondary_account,next:null===(l=a.state)||void 0===l?void 0:l.next,userInfo:r.getInferredUserInfo(),attributionLabel:P}}),e.abrupt("return");case 6:return r.setIsExistingUser(!0,function(){return r.navigateToStep(S+1)}),e.abrupt("return");case 8:return e.next=10,(0,v.Z)({url:"/v3/email/validation/",data:{email:r.state.email}});case 10:d=(p=(e.sent.resource_response||{}).data)&&p.is_valid,r.setState({isLoading:!1}),d?(r.setState(function(e){var t=e.email;return{fullName:r.props.isBusiness?"":(0,E.Z)(t,r.props.country)}}),r.navigateToStep(S+1)):r.setState({canEditCurrentTextField:!0,isValid:!1,emailError:{type:"invalid"}});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){r.setState({isLoading:!1});var t,n=(0,b.Z)(e,"message");O.Cx.includes(null!==(t=(0,b.Z)(e,"api_error_code"))&&void 0!==t?t:0)&&n&&u(function(e){var t=e.hideToast;return(0,eo.jsx)(w.ZP,{duration:3e3,onHide:t,text:n,type:"error"})})}),r.setState({isLoading:!0}),e.abrupt("return");case 28:if(y!==tr.ALREADY_HAS_PASSWORD_STEP){e.next=31;break}return r.loginUser(),e.abrupt("return");case 31:if(!(y===tr.INTENT_STEP&&r.isCountryUS())){e.next=59;break}if(I=(0,eE.x)(r.props.i18n),L=!1,e.t0=_===I.NOT_SURE.value,!e.t0){e.next=39;break}return e.next=38,r.isLeadScoringEligible("mweb_not_sure_intent");case 38:e.t0=e.sent;case 39:if(!e.t0){e.next=41;break}L=!0;case 41:if(e.t1=_===I.YES.value,!e.t1){e.next=46;break}return e.next=45,r.isLeadScoringEligible("mweb_yes_intent");case 45:e.t1=e.sent;case 46:if(D=e.t1,!(-1===g.indexOf(tr.SALES_CONTACT_STEP)&&(L||D))){e.next=54;break}return(N=ta).push(tr.SALES_CONTACT_STEP),r.setState({steps:N},function(){r.navigateToStep(S+1)}),e.abrupt("return");case 54:if(!(_!==I.YES.value&&-1!==g.indexOf(tr.SALES_CONTACT_STEP))){e.next=59;break}return(B=ta.slice()).pop(),r.setState({steps:B},function(){r.registerUser()}),e.abrupt("return");case 59:U=g[g.length-1],y===U?p?r.updateLBA():r.registerUser():r.navigateToStep(S+1);case 61:case"end":return e.stop()}},e)}))),te(e5(r),"handleChangeEmail",function(e){return new Promise(function(t){return r.setState({email:e},t)})}),te(e5(r),"handleChangePassword",function(e){return new Promise(function(t){return r.setState({password:e},t)})}),te(e5(r),"handleChangeFullName",function(e){return new Promise(function(t){var n={fullName:e};r.state.isSsoFlow&&(n={fullName:e,ssoName:e}),r.setState(n,t)})}),te(e5(r),"handleSetLocalBirthday",function(e){r.setState({localBirthday:e})}),te(e5(r),"handleChangeWebsite",function(e){return new Promise(function(t){return r.setState({website:e},t)})}),te(e5(r),"handleChangeIntent",function(e){return new Promise(function(t){return r.setState({intent:e},t)})}),te(e5(r),"handleChangePhone",function(e){return new Promise(function(t){return r.setState({phone:e},t)})}),te(e5(r),"handleChangeSalesName",function(e){return new Promise(function(t){return r.setState({salesName:e},t)})}),te(e5(r),"handleChangeBusinessType",function(e){return new Promise(function(t){return r.setState({businessType:e},t)})}),te(e5(r),"handleChangeBirthday",function(e){return new Promise(function(t){return r.setState({birthdayString:e},t)})}),te(e5(r),"loginUser",function(){var e=r.props,t=e.history,n=e.isAuthenticated,o=e.isLimitedLoginUser,i=e.location,a=e.login,s=e.isGroupBoardSignup,u=r.state,l=u.email,c=u.password,p="";if(s){var d=i&&i.state&&i.state.next;p=d?"".concat(d,"&").concat((0,U.XP)({accept_invite:!0,seamless:!0})):""}a({username_or_email:l,password:c},t,i.state?p||i.state.next:"",void 0,{event_type:7534,view_type:10,view_parameter:3203,aux_data:e7(e7({},n?{login_state:o?x.Z.LIMITED:x.Z.DEFAULT}:{}),{},{signup_login_method:A.Z.EMAIL})}).catch(function(e){r.setState({isLoading:!1,passwordValidationError:(0,b.Z)(e,"message"),canEditCurrentTextField:!0})}),r.setState({isLoading:!0,passwordValidationError:""})}),te(e5(r),"registerUser",function(){var e,t,n,o,i=r.state,a=i.birthdayString,s=i.email,c=i.fullName,p=i.password,_=i.steps,v=i.gender,y=i.customGender,S=i.website,P=i.intent,E=i.phone,T=i.salesName,j=i.businessType,k=i.recaptchaV3Token,C=i.isSsoFlow,I=i.ssoEmail,L=i.ssoId,D=i.ssoIdToken,B=i.ssoName,z=i.kr_privacy_consent_opt_in,Z=i.marketing_notifs_opt_out,F=r.props,M=F.i18n,W=F.isAuthenticated,V=F.isLimitedLoginUser,H=F.isBusiness,G=F.register,q=F.showToast,Y=F.setNumSignupSteps,K=F.location,Q=F.isGroupBoardSignup,X=F.navigateAfterLoginStatusChange,$=F.pixelBlocked,J=F.thirdPartyMarketingTrackingEnabled,ee=F.saveWebsite,et=F.saveBusinessType,er=F.saveIntent,en=F.isRedirectToNextParamAfterSignup,ei=F.isAppFactoryOAuth,ea=F.userId,es=a?(0,g.Z)(a):void 0;if(void 0===es){r.setState({canEditCurrentTextField:!0}),q(function(e){var t=e.hideToast;return(0,eo.jsx)(w.ZP,{duration:3e3,onHide:t,text:M._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing'),type:"error"})});return}if(H)n=c;else{var eu,el=function(e){if(Array.isArray(e))return e}(eu=c.trim().split(" "))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(eu,2)||e1(eu,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();e=el[0],t=el[1]}Y(_.length+1);var ec=Q?e7({gender:v},"unspecified"===v?{custom_gender:y}:{}):{},ep={};r.props.isConsentStepNeeded&&(ep.kr_privacy_consent_opt_in=z,ep.marketing_notifs_opt_out=Z),r.setState({isLoading:!0}),(0,N.Rp)({event:"signup_api_call_start",provider:"email"});var ed=e7(e7({type:"email",business_name:n,birthday:es,email:s,first_name:e,last_name:t,password:p,has_ads_credits:tl.isEligible(),recaptchaV3Token:k},ec),ep);C&&(o={type:"sso",first_name:B,business_name:B,sso_email:I,sso_id:L,sso_id_token:D,birthday:es,email:s}),G(C&&o?o:ed,{signupAttemptContextEvent:{event_type:7537,view_type:10,view_parameter:3203,aux_data:e7(e7({},W?{login_state:V?x.Z.LIMITED:x.Z.DEFAULT}:{}),{},{signup_login_method:A.Z.EMAIL})}}).then(function(){var e,t;if((0,N.NC)(C?"signup_via_sso_signup_page":"signup_via_email_signup_page"),(0,N.Rp)({event:"signup_api_call_success",provider:C?"sso":"email"}),H&&((0,eX.nP)("mweb_business_create_unauth_register_business",{sampleRate:1}),er(parseInt(P,10),function(){return(0,eX.nP)("mweb_business_create_unauth_save_intent_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_intent_fail",{sampleRate:1})},ea),ee(S,function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},ea),et(j,function(){return(0,eX.nP)("mweb_business_create_unauth_save_business_type_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_business_type_fail",{sampleRate:1})},ea),T&&E&&(r.setState({isSubmitting:!0}),r.reportToPropel()),J&&(d.Z.reportFacebookConversion(f.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),d.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),d.Z.reportGoogleConversion(f.Z.GOOGLE_ADWORDS_ID,f.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,void 0,$),d.Z.reportLinkedInConversion(f.Z.LINKEDIN_PARTNER_ID,f.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT))),ei&&null!==(e=K.state)&&void 0!==e&&e.next)(0,u.Z)(K.state.next);else if(tc.isEligible()){var n=tc.getOfferId();X("/business/offer/".concat(n))}else if(r._shouldShowFirstAdUpsellPage())(0,l.Z)("/business/install_app");else if(Q){var o={},i=K&&K.state&&K.state.next;o.pathname=i||"/",o.search=i?"?".concat(i[1],"&").concat((0,U.XP)({accept_invite:!0,seamless:!0})):"",r.props.setGenderStepComplete(),X(o.pathname)}else en&&null!==(t=K.state)&&void 0!==t&&t.next?X((0,U.Jx)(K.state.next)):X("/")}).catch(function(e){r.setState({isLoading:!1,canEditCurrentTextField:!0});var t,n,o=[O.tz,O.dj,O.tL,O.NF];(0,N.Rp)({event:"signup_api_call_failure",provider:"email"});var i=null!==(t=(0,b.Z)(e,"api_error_code"))&&void 0!==t?t:0,a=null!==(n=(0,b.Z)(e,"message"))&&void 0!==n?n:"";if(o.includes(i)){if(i===O.tz){h.t8(m.It,"1",(0,h.kZ)(m.It)),(0,N.My)("email_register_step_show_underage_confirmation"),r.setState({isUnderageModalOpen:!0});return}if(i===O.dj){r.setState({birthdayErrorMessage:a});return}q(function(e){var t=e.hideToast;return(0,eo.jsx)(w.ZP,{duration:3e3,onHide:t,text:a,type:"error"})})}else q(function(e){var t=e.hideToast;return(0,eo.jsx)(w.ZP,{duration:3e3,onHide:t,text:i&&a?a:r.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'Error during signup', 'Error during signup'),type:"error"})});(0,R.rY)(function(e){return r.setState({recaptchaV3Token:e})},function(){},R.ys)})}),te(e5(r),"reportToPropel",function(){var e=r.state,t=e.email,n=e.fullName,o=e.website,i=e.phone,a=e.salesName,u=e.intent,l=r.props.country,c=a.trim().split(" ").filter(function(e){return!!e}),p=c[0],d=c.length>1?c.slice(1).join(" "):"",f="self_serve_mweb_create";u===(0,eE.x)(r.props.i18n).NOT_SURE.value&&(f+="_not_sure");var _={lead_email:t,lead_first_name:p,lead_last_name:d,lead_website:o,lead_phone:i,country:l,lead_source_detail:f,lead_source_type:"business_create",lead_company:n};(0,eX.nP)("mweb_business_create_unauth_report_to_propel_request",{sampleRate:1}),s.Z.create("PropelFormResource",_).callCreate({showError:!1}).then(function(){return(0,eX.nP)("mweb_business_create_unauth_report_to_propel_success",{sampleRate:1})}).catch(function(){return(0,eX.nP)("mweb_business_create_unauth_report_to_propel_fail",{sampleRate:1})})}),te(e5(r),"isLeadScoringEligible",(t=e4(regeneratorRuntime.mark(function e(t){var n,o,i,a,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=r.state).website,i=n.businessType,a=n.intent,s={key:t,email:n.email,business_name:n.fullName,is_create:!0,locale:r.props.locale,account_type:i,advertising_intent:parseInt(a,10),website:o},e.next=5,(0,v.Z)({url:"/v3/business/lead/score/above_threshold/",data:s});case 5:if("success"!==(u=e.sent).resource_response.status){e.next=11;break}return l=u.resource_response.data,e.abrupt("return",!0===l);case 11:return(0,eX.nP)("mweb_business_create_unauth_lead_score_fail",{sampleRate:1}),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),te(e5(r),"handleSkipStep",function(){var e=r.state,t=e.isValid,n=e.stepToRender;(0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".skip")),r.props.logContextEvent({element:1150,event_type:102,view_type:10,view_parameter:r.getViewParameterType()}),n!==tr.WEBSITE_STEP||t||r.setState({website:""}),r.nextSignupStep()}),te(e5(r),"handlePasswordReset",function(){var e=r.props,t=e.history,n=e.logContextEvent,o=r.state.email;n({view_type:10,view_parameter:r.getViewParameterType(),element:10881,event_type:102}),n({event_type:51,view_type:10,view_parameter:r.getViewParameterType()}),(0,v.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o}}).then(function(){t.replace({pathname:"/password/reset/sent/",state:{destinationEmail:o}}),r.setState({isLoading:!1})}),r.setState({isLoading:!0})}),te(e5(r),"nextSignupStepWithValidation",function(e){e&&e.preventDefault(),r.setState({canEditCurrentTextField:!1},e4(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.validate();case 2:if(!e.sent){e.next=19;break}(0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".completed")),e.t0=r.getCurrentActionName(),e.next="email"===e.t0?8:"password"===e.t0?10:"birthday"===e.t0?12:14;break;case 8:return t="submit_email",e.abrupt("break",15);case 10:return t="submit_password",e.abrupt("break",15);case 12:return t="submit_birthday",e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:t&&(0,N.Rp)({event:t,provider:"email"}),r.nextSignupStep(),e.next=21;break;case 19:(0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".error")),r.setState({canEditCurrentTextField:!0});case 21:case"end":return e.stop()}},e)})))}),te(e5(r),"trackStepViewed",function(){(0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".viewed"))}),te(e5(r),"validate",e4(regeneratorRuntime.mark(function e(){var t,n,o,i,a,s,u,l,c,p,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=(t=r.state).email,o=t.fullName,i=t.password,a=t.stepToRender,s=t.website,u=t.intent,l=t.phone,c=t.salesName,p=t.businessType,d=r.props.experimentsClient,e.t0=a,e.next=e.t0===tr.EMAIL_STEP?5:e.t0===tr.PASSWORD_STEP?6:e.t0===tr.ALREADY_HAS_PASSWORD_STEP?10:e.t0===tr.NAME_STEP?11:e.t0===tr.BIRTHDAY_STEP?12:e.t0===tr.WEBSITE_STEP?13:e.t0===tr.INTENT_STEP?14:e.t0===tr.SALES_CONTACT_STEP?15:e.t0===tr.BUSINESS_TYPE_STEP?16:17;break;case 5:return e.abrupt("return",!(0,W.a3)(n,[r.requiredValidator(),(0,W.GT)({message:r.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]));case 6:return e.next=8,(0,W.U2)(i,r.props.getPasswordValidationRules({}));case 8:return f=e.sent,e.abrupt("return",!f);case 10:return e.abrupt("return",!(0,W.a3)(i,[r.requiredValidator()]));case 11:return e.abrupt("return",!(0,W.a3)(o,[r.requiredValidator()]));case 12:return e.abrupt("return",r.state.stepToRender===tr.BIRTHDAY_STEP||!(0,W.a3)(o,[r.requiredValidator(),(0,W.Gy)({max:30,maxErrorString:r.props.i18n._('Hmm, that\'s a few characters too long. Try a nickname instead?', 'Name exceeds 30 character maximum error', 'Name exceeds 30 character maximum error')})]));case 13:return e.abrupt("return",!(0,W.a3)(s,[(0,W.Jx)({message:r.props.i18n._('Please use a valid URL', 'Invalid website validation error', 'Invalid website validation error'),experimentsClient:d})]));case 14:return e.abrupt("return",!(0,W.a3)(u,[r.requiredValidator(),r.numberValidator()]));case 15:return e.abrupt("return",!(0,W.a3)(l,[(0,W.Bh)({message:r.props.i18n._('Please use a valid phone number', 'Invalid phone number validation error', 'Invalid phone number validation error')})])&&!(0,W.a3)(c,[r.requiredValidator()]));case 16:return e.abrupt("return",!(0,W.a3)(p,[r.requiredValidator()]));case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e)}))),te(e5(r),"numberValidator",function(){return(0,W.qA)({message:r.props.i18n._('Not a number.', 'Number field validation error message', 'Number field validation error message')})}),te(e5(r),"requiredValidator",function(){return(0,W.aH)({message:r.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})}),te(e5(r),"_shouldShowFirstAdUpsellPage",function(){var e=r.props,t=e.country,n=e.isBusiness,o=e.isLBA;if(n||o){if(tl.isEligible())return tl.claim(),!0;if((0,p.Fl)(t))return!0}return!1}),te(e5(r),"isStepSkipable",function(){var e=r.state.stepToRender;return -1!==[tr.WEBSITE_STEP,tr.SALES_CONTACT_STEP].indexOf(e)}),te(e5(r),"handleConsentStepSubmit",function(e){var t=e.kr_privacy_consent_opt_in,n=e.marketing_notifs_opt_out;r.setState({kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:n},function(){r.nextSignupStepWithValidation()})});var t,r,n={},c=e.isBusiness,_=e.isLBA,y=e.location;return _&&(n=e7({isExistingUser:!0,showLoginButtons:!1,stepToRender:tr.NAME_STEP},y.state)),y.state&&(n=y.state.isSignUpFromLoginError?e7({fullName:c||_?"":(0,E.Z)(y.state.email,e.country),steps:c||_?[tr.NAME_STEP]:[tr.BIRTHDAY_STEP],stepToRender:c||_?tr.NAME_STEP:tr.BIRTHDAY_STEP,isSignUpFromLoginError:!1},y.state):y.state.isFromSignupEmailExistError?e7(e7({steps:[tr.ALREADY_HAS_PASSWORD_STEP],stepToRender:tr.ALREADY_HAS_PASSWORD_STEP,isSignUpFromLoginError:!1},y.state),{},{email:y.state.email}):e7({},y.state)),r.state=e7({localBirthday:"",birthdayString:"",birthdayErrorMessage:"",email:"",fullName:"",isExistingUser:!1,isLoading:!1,isUnderageModalOpen:!1,isValid:!1,password:"",showLoginButtons:!1,steps:r.getSteps(),stepToRender:tr.EMAIL_STEP,isSignUpFromLoginError:!1,isSsoFlow:!1,isFromSignupEmailExistError:!1,ssoAuthorizationUri:"",ssoEmail:"",ssoId:"",ssoIdToken:"",ssoName:"",emailError:null,canEditCurrentTextField:!0,isSubmitting:!1,gender:"",customGender:"",website:"",intent:"",phone:"",salesName:"",businessType:"",recaptchaV3Token:"default",kr_privacy_consent_opt_in:void 0,marketing_notifs_opt_out:void 0},n),r}return r=[{key:"componentDidMount",value:function(){var e=this;this.trackStepViewed(),this.props.isBusiness&&this.isCountryUS()&&(0,eX.nP)("mweb_business_create_unauth_visits_sales_steps",{sampleRate:1});var t=function(){(0,R.rY)(function(t){return e.setState({recaptchaV3Token:t})},function(){},R.ys)};t(),setInterval(t,R.yc)}},{key:"componentDidUpdate",value:function(e,t){var r=this.getStepFromMatchParams(e),n=this.getStepFromMatchParams(this.props);this.state.isExistingUser&&e.location!==this.props.location&&2!==n&&this.setIsExistingUser(!1,void 0),r!==n&&this.handleBack(t.steps[n-1]),t.stepToRender!==this.state.stepToRender&&this.trackStepViewed()}},{key:"isCountryUS",value:function(){return"US"===this.props.country}},{key:"updateLBA",value:function(){var e=this.state,t=e.fullName,r=e.website,n=e.intent,o=e.businessType,i=this.props;(0,i.saveWebsite)(r,function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},i.userId),s.Z.create("UserSettingsResource",{advertising_intent:n,business_name:t,account_type:o,surface_tag:L.i.REGISTRATION}).callUpdate().then(function(){return(0,u.Z)("/me")})}},{key:"render",value:function(){var e,t=this,r=this.props,o=r.isBusiness,i=r.history,s=r.i18n,u=r.location,l=r.inSmbSalesCopyChangeExperiment,c=r.isLBA,p=r.isAppFactoryOAuth,d=r.isGroupBoardSignup,f=this.getStepFromMatchParams(this.props);if(Number.isNaN(f)||f<1||f>12)return i.replace("/"),null;var _=this.state,g=_.birthdayString,b=_.birthdayErrorMessage,v=_.canEditCurrentTextField,w=_.isSubmitting,P=_.email,E=_.fullName,O=_.businessType,x=_.website,A=_.intent,k=_.phone,C=_.salesName,R=_.emailError,I=_.isExistingUser,L=_.isLoading,N=_.isUnderageModalOpen,B=_.isValid,U=_.password,z=_.passwordValidationError,Z=_.showLoginButtons,F=_.steps,M=_.stepToRender,W=F.length,V=K.tr,H=c?ts.length:o?ta.length:W+V;this.state.isSsoFlow&&(H=ti.length);var Y=(0,q.Z)({i18n:s,location:u}),X=Y.showPLPBanner,$=Y.pinForBanner,J=!(o||c||p),ee=J&&!tu.includes(M),et=J&&M===tr.EMAIL_STEP,er=o||c?void 0:"300";er&&tu.includes(M)&&(er="200");var en=o||c?156:10,ei=this.getViewParameterType(),el=!o&&!c,ec=!o&&!c&&!d,ep=null===(e=u.state)||void 0===e?void 0:e.attributionLabel;return(0,eo.jsxs)(T.default,{hasFixedHeader:!1,hasGutter:!X,children:[!!ei&&(0,eo.jsx)(eK.Z,{currentIndex:f-1,numSteps:H,showPLPBanner:X,viewParameter:ei,viewType:en}),(0,eo.jsx)(a.xu,{"data-test-id":"signup-page-form",marginEnd:"auto",marginStart:"auto",maxWidth:400,children:(0,eo.jsxs)("form",{onSubmit:this.nextSignupStepWithValidation,children:[X&&$&&(0,eo.jsx)(eY.Z,{pin:$}),(0,eo.jsxs)(a.xu,{paddingX:X?4:0,children:[M===tr.EMAIL_STEP&&(0,eo.jsx)(ew,{disabled:!v,email:P,emailError:R,getFocusFieldRef:y.Z,handleChangeEmail:this.handleChangeEmail,isReducedHeader:el,setEmailError:function(e){return t.setState({emailError:e})},setValidState:this.setValidState,showModernizedNuxUI:ec,showPLPBanner:X,viewType:en}),M===tr.PASSWORD_STEP&&(0,eo.jsx)(eH,{disabled:!v,getFocusFieldRef:y.Z,handleChangePassword:this.handleChangePassword,isReducedHeader:el,password:U,setValidState:this.setValidState,showModernizedNuxUI:ec,showPLPBanner:X,viewType:en}),M===tr.ALREADY_HAS_PASSWORD_STEP&&(0,eo.jsx)(ea,{disabled:!v,error:z,getFocusFieldRef:y.Z,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isReducedHeader:el,password:U,setValidState:this.setValidState,showPLPBanner:X,viewType:en}),M===tr.SSO_STEP&&(0,eo.jsx)(j.Z,{onContinueClick:this.handleSsoContinue}),M===tr.NAME_STEP&&(0,eo.jsx)(eL,{disabled:!v,getFocusFieldRef:y.Z,handleChangeName:this.handleChangeFullName,isBusiness:o,name:E,setValidState:this.setValidState,viewType:en}),M===tr.BIRTHDAY_STEP&&(0,eo.jsx)(es.Z,{birthday:this.state.localBirthday,birthdayErrorMessage:b,disabled:!v,handleChangeBirthday:this.handleChangeBirthday,handleChangeName:this.handleChangeFullName,name:E,setBirthday:this.handleSetLocalBirthday,setValidState:this.setValidState,viewType:en}),M===tr.BUSINESS_TYPE_STEP&&(0,eo.jsx)(eu.Z,{businessType:O,disabled:!v,handleChangeBusinessType:this.handleChangeBusinessType,setValidState:this.setValidState,viewType:en}),M===tr.WEBSITE_STEP&&(0,eo.jsx)(eq.Z,{disabled:!v,getFocusFieldRef:y.Z,handleChangeWebsite:this.handleChangeWebsite,setValidState:this.setValidState,viewType:en,website:x}),M===tr.INTENT_STEP&&(0,eo.jsx)(eE.b,{disabled:!v,handleChangeIntent:this.handleChangeIntent,intent:A,setValidState:this.setValidState,viewType:en}),M===tr.SALES_CONTACT_STEP&&(0,eo.jsx)(eG.Z,{disabled:!v,handleChangeName:this.handleChangeSalesName,handleChangePhone:this.handleChangePhone,inCopyChangeExp:l,name:C,phone:k,setValidState:this.setValidState,viewType:en}),M===tr.CONSENT_STEP&&(0,eo.jsx)(D.Z,{isBusiness:o,isRegistering:!1,onSubmitHandler:this.handleConsentStepSubmit,validationError:""}),M!==tr.SSO_STEP&&M!==tr.CONSENT_STEP?(0,eo.jsxs)(n.Fragment,{children:[(0,eo.jsx)(a.xu,{marginBottom:6}),(0,eo.jsx)(eP.Z,{allowSkip:this.isStepSkipable(),attributionLabel:ep,handleSkipStep:this.handleSkipStep,isBusiness:o||c,location:u,loginLink:er,nextButtonText:this.getNextButtonText(),nextDisabled:!B||w||M===tr.WEBSITE_STEP&&!x,nextPageForLogin:u.state?u.state.next:"",showBusinessSignup:et,showSocialSignUpButtons:ee,showTextDivider:Z,showTos:!0,viewParameter:this.getViewParameterType()})]}):null]})]})}),(0,eo.jsx)(S.ZP,{accessibilityModalLabel:"",isOpen:N,mobileAccessibilityCloseIconLabel:s._('Close', 'modal.underage.close', 'Label for underage modal close button'),mobileHideCloseIcon:!0,onDismiss:function(){},children:(0,eo.jsx)(eQ.Z,{birthday:g,onEditBirthday:function(){h.t8(m.It,"0",(0,h.kZ)(m.It)),t.setState({isUnderageModalOpen:!1}),M===tr.CONSENT_STEP&&t.navigateToStep(f-1)}})}),L&&(M!==F[F.length-1]||I?(0,eo.jsx)(G.Z,{}):(0,eo.jsx)(Q.Z,{isReducedHeader:el}))]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tt(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function td(e){var t,r,n,a,s,u,l,p,d=(0,i.k6)(),f=(0,i.TH)(),h=null===(t=f.state)||void 0===t?void 0:t.attributionLabel,m=(0,i.$B)(),g=(0,P.ZP)(),b=(0,o.I0)(),v=(0,C.F)(),y=v.checkExperiment,S=(0,B.F9)().showToast,w=(0,i.TH)().pathname,E=(0,M.Z)(),T=E.isLimitedLogin,O=E.id,x=E.third_party_marketing_tracking_enabled,A=y("mweb_smb_sales_handraiser_copy_change_unauth").anyEnabled,j=(0,$.m)(),R=(0,X.f)(),D=(0,c.Z)(),N=(0,_.Z)(),U=(0,I.B)(),W=U.country,H=U.isAuthenticated,G=U.locale,q=(0,o.v9)(function(e){return e.session}),K=q.loggedOutUserInfo,Q=q.userId,er=null!==(r=(0,o.v9)(function(e){return e.users}))&&void 0!==r?r:{},en=(0,Y.xT)(er[Q]),ei=(0,z.ZP)(),ea=f.pathname.startsWith("/business/"),es=f.pathname.startsWith("/linked/"),eu=(0,V.m)().unauthBoardInvite,el=null!==(n=null!==(a=null===(s=f.state)||void 0===s?void 0:s.isFromGroupBoardsInvite)&&void 0!==a?a:!!eu)&&void 0!==n&&n,ec=null!==(u=(0,Z.Z)())&&void 0!==u&&u,ep=null!==(l=null===(p=f.state)||void 0===p?void 0:p.isRedirectToNextParamAfterSignup)&&void 0!==l&&l,ed=y("ppm_p_gate").anyEnabled,ef=y("kr_privacy_consent").anyEnabled,e_=(0,k.Z)(),eh=e_.authenticateWithSso,em=e_.verifySsoUser,eg=(0,F.Z)();return w.startsWith("/business/")&&T||"desktop"===ei?(0,eo.jsx)(i.l_,{to:"/"}):(0,eo.jsx)(tp,e7(e7({},e),{},{attributionLabel:h,authenticateWithSso:eh,country:W,experimentsClient:v,getPasswordValidationRules:eg,history:d,i18n:g,inSmbSalesCopyChangeExperiment:A,isAppFactoryOAuth:ec,isAuthenticated:H,isBusiness:ea,isConsentStepNeeded:ef,isGroupBoardSignup:el,isLBA:es,isLimitedLoginUser:en,isRedirectToNextParamAfterSignup:ep,locale:G,location:f,logContextEvent:N,loggedOutUserInfo:K,login:R,match:m,navigateAfterLoginStatusChange:D,pixelBlocked:ed,register:j,saveBusinessType:function(e,t,r,n){return b((0,ee._L)({field:"account_type",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:L.i.REGISTRATION,userId:n}))},saveIntent:function(e,t,r,n){return b((0,ee._L)({field:"advertising_intent",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:L.i.REGISTRATION,userId:n}))},saveWebsite:function(e,t,r,n){return b((0,ee._L)({field:"website_url",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:L.i.REGISTRATION,userId:n}))},setGenderStepComplete:function(){return b((0,et.Q_)("COMPLETED_GENDER_SIGNUP",1))},setNumSignupSteps:function(e){return b((0,J.e0)(e))},showToast:S,thirdPartyMarketingTrackingEnabled:x,userId:null!=O?O:"",validateEmailExists:function(e){return(0,et.OF)(e)},verifySsoUser:em}))}},900492:function(e,t,r){"use strict";r.d(t,{Ge:function(){return d},JS:function(){return l},OF:function(){return y},P_:function(){return c},Q_:function(){return h},b8:function(){return m},eR:function(){return v},h2:function(){return f},h6:function(){return _}});var n,o=r(252071),i=r(400416),a=r(235581);function s(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)})}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},p=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},d=function(e){var t,r=e.id,n=e.orbacSubjectId,i=e.blockSource,a=e.blockContext,s=e.logContextEvent;return t=u(regeneratorRuntime.mark(function e(t){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(p(r,!0)),e.next=3,o.Z.create("UserBlockResource",{blocked_user_id:r,orbac_subject_id:n,block_source:i,block_context:a}).callCreate().catch(function(){return t(p(r,!1))});case 3:return u=e.sent,s({event_type:54,object_id_str:r}),e.abrupt("return",u);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},f=function(e,t){var r;return r=u(regeneratorRuntime.mark(function r(n){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(p(e,!1)),r.next=3,o.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return n(p(e,!0))});case 3:return i=r.sent,t({event_type:55,object_id_str:e}),r.abrupt("return",i);case 6:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var h=function(e,t){return function(){return o.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},m=function(e,t,r){return function(n,o){(0,i.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){r({event_type:48,object_id_str:o().session.userId}),e(),(0,a.Z)()},t)}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150";return e&&"https://i.pinimg.com/".concat(t,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},b=(n=u(regeneratorRuntime.mark(function e(t,r,n){var i,a,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.create("VIPResource",{upload_ids:[t]}).callGet();case 2:(i=e.sent).resource_response.data[t]?(s=(a=i.resource_response.data[t]).status,l=a.signature,"processing"===s||"registered"===s?setTimeout(u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(t,r,n);case 1:case"end":return e.stop()}},e)})),5e3):"succeeded"===s?r(g(l)):n()):n();case 4:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),v=function(e){return new Promise(function(t,r){if("string"==typeof e){if(e.startsWith("data")){var n;(n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,r=e.split(";"),n=r[0].split(":")[1],o=atob(r[1].split(",")[1]),i=[],a=0;a<o.length;a+=t){for(var s=o.slice(a,a+t),u=Array(s.length),l=0;l<s.length;l+=1)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);i.push(c)}return new Blob(i,{type:n})}(e),new Promise(function(e,t){var r,i,a,s;r="pinimage",i=function(){},a=function(t){e(t)},s=function(e){t(e)},new FormData().append("img",n),o.Z.create("VIPResource",{type:r}).callCreate().then(function(e){if(e.resource_response.data){var t=e.resource_response.data,r=t.upload_id,o=t.upload_url,u=t.upload_parameters,l=new XMLHttpRequest;l.open("POST",o,!0),l.onload=function(){var e;(e=l.status)>=200&&e<400?(i(100),b(r,a,s)):s()},l.upload.onprogress=function(e){i(Math.round(100*e.loaded/e.total))};var c=new FormData;for(var p in u)c.append(p,u[p]);c.append("file",n),l.send(c)}},function(){s()})})).then(function(e){return t(e)})}}else r("Invalid Image")})},y=function(e){return(0,i.Z)({url:"/v3/register/exists/",data:{email:e}})}},942505:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(545007),o=r(868073),i=r(144326),a=r(26473),s=r(730212),u=r(66560),l=r(282480),c=r(297949),p=r(770443),d=function(e){var t,r=e.pin,n=r.image,o=r.pinDescription,i=r.dominantColor,a=r.bannerCopy;return(0,p.jsx)(l.Fragment,{children:(0,p.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:4,children:[(0,p.jsx)(c.xu,{height:40,margin:4,width:30,children:(0,p.jsx)(c.zd,{height:"100%",rounding:2,width:"100%",children:(0,p.jsx)(c.Ee,{alt:o||"",color:i||"",fit:"cover",naturalHeight:(n||{}).height||1,naturalWidth:(n||{}).width||1,src:null!==(t=(n||{}).url)&&void 0!==t?t:""})})}),(0,p.jsx)(c.xv,{children:a})]})})};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){var t=e.pin,r=(0,i.ZP)(),l=(0,n.v9)(function(e){var t=e.session;return t&&t.unauthSavePinId}),c=(0,u.S6)()(null!=l?l:""),f=(0,s.B)(),_=f.isBot,g=f.isSocialBot,b=(0,o.TH)();if(!t&&!l)return null;var v=b.pathname.startsWith("/signup");if(!(b.pathname.startsWith("/login")||v))return null;if(c){var y,S,w=b.pathname.startsWith("/signup"),P={url:(0,a.Z)({imagesUrls:c.images?Object.keys(c.images).reduce(function(e,t){var r,n;return t&&null!==(r=c.images)&&void 0!==r&&null!==(n=r[t])&&void 0!==n&&n.url?h(h({},e),{},m({},t,c.images[t].url)):e},{}):void 0,embedSrc:null===(y=c.embed)||void 0===y?void 0:y.src,embedType:null===(S=c.embed)||void 0===S?void 0:S.type,excludeOriginals:!_&&!g}),height:1,width:1},E=c.description||"",T=c.dominant_color||"",O=w?r._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):r._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,p.jsx)(d,{pin:{image:P,pinDescription:E,dominantColor:T,bannerCopy:O}})}return t?(0,p.jsx)(d,{pin:t}):null}},514587:function(e,t,r){"use strict";var n=r(707135);t.Z=n.Z},398131:function(e,t,r){"use strict";var n=r(707135);t.Z=n.Z},57047:function(e,t,r){"use strict";var n=r(707135);t.Z=n.Z},572382:function(e,t,r){"use strict";var n=r(707135);t.Z=n.Z},95807:function(e,t,r){"use strict";var n=r(707135);t.Z=n.Z},471739:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/signup",function(){return r(514587).Z}])},744269:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/signup/step[step]",function(){return r(398131).Z}])},741845:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/linked/signup/step[step]",function(){return r(57047).Z}])},340813:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/signup",function(){return r(572382).Z}])},530489:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/signup/step[step]",function(){return r(95807).Z}])}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[97270,97949,15787,99317,1992,27234,5710,97037,3741,14796,24174,34945,12736,55803,34800,86641,25379,44288],function(){return t(744269),t(471739),t(741845),t(340813),t(530489)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/signup-0f66305539edeb66.js.map