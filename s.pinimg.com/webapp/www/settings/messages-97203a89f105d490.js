(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3961],{559830:function(e,s,i){"use strict";var t=i(282480),n=i(297949),r=i(791635),o=i(770443),l=(0,t.forwardRef)(function(e,s){var i=e.heading,t=e.iconAccessibilityLabel,l=e.guideText,a=e.headingAccessibilityLevel,c=e.description,d=e.onTap,u=e.primarySettingsMenu,g=e.showBadge;return(0,o.jsx)(n.iP,{onTap:void 0===d?function(){}:d,tapStyle:"none",children:(0,o.jsx)(n.xu,{padding:u?2:0,children:(0,o.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,o.jsxs)(n.xu,{ref:s,width:"100%",children:[(0,o.jsxs)(n.kC,{children:[(0,o.jsx)(n.X6,{accessibilityLevel:void 0===a?3:a,size:"400",children:i}),g&&(0,o.jsx)(n.xu,{marginStart:2,children:(0,o.jsx)(n.kC,{direction:"column",height:"100%",justifyContent:"center",children:(0,o.jsx)(r.Z,{height:8,width:8})})}),l&&(0,o.jsx)(n.kC.Item,{flex:"grow",children:(0,o.jsx)(n.xu,{height:"100%",marginEnd:3,children:(0,o.jsx)(n.kC,{direction:"column",height:"100%",justifyContent:"center",children:(0,o.jsx)(n.xv,{align:"end",color:"subtle",children:l})})})})]}),c&&(0,o.jsx)(n.xu,{marginTop:2,children:(0,o.jsx)(n.xv,{color:"subtle",children:c})})]}),(0,o.jsx)(n.xu,{paddingY:1,children:(0,o.jsx)(n.JO,{accessibilityLabel:t,color:u?"subtle":"default",icon:"arrow-forward"})})]})})})});s.Z=l},791635:function(e,s,i){"use strict";var t=i(297949),n=i(770443);s.Z=function(e){var s=e.height,i=e.width,r=e.text,o=e.isAbsolute;return(0,n.jsx)(t.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:s,justifyContent:"center",position:o?"absolute":void 0,rounding:"pill",width:i,children:(0,n.jsx)(t.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,n.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:r||""})})})}},253265:function(e,s,i){"use strict";var t=i(297949),n=i(770443);s.Z=function(e){var s=e.heading,i=e.description,r=e.switchId,o=e.onChange,l=e.switched,a=e.headingAccessibilityLevel;return(0,n.jsxs)(t.kC,{alignItems:"center",justifyContent:"between",children:[(0,n.jsx)(t.xu,{flex:"grow",marginEnd:4,children:(0,n.jsxs)(t.__,{htmlFor:r,children:[(0,n.jsx)(t.X6,{accessibilityLevel:a||3,size:"400",children:s}),i?(0,n.jsx)(t.xu,{flex:"grow",marginTop:2,children:(0,n.jsx)(t.xv,{color:"subtle",children:i})}):null]})}),(0,n.jsx)(t.rs,{id:r,onChange:o,switched:l})]})}},865603:function(e,s,i){"use strict";i.d(s,{Z:function(){return P}});var t=i(282480),n=i(545007),r=i(868073),o=i(297949),l=i(476198),a=i(144326),c=i(94757),d=i(775383),u=i(961754),g=i(703333),h=i(559830),_=i(901450),f=i(410150),m=i(383399),x=i(632124),p=i(345020),v=i(789125),b=i(253265),j=i(770443);function y(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var t,n,r,o,l=[],a=!0,c=!1;try{if(r=(i=i.call(e)).next,0===s){if(Object(i)!==i)return;a=!1}else for(;!(a=(t=r.call(i)).done)&&(l.push(t.value),l.length!==s);a=!0);}catch(e){c=!0,n=e}finally{try{if(!a&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(c)throw n}}return l}}(e,s)||function(e,s){if(e){if("string"==typeof e)return A(e,s);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return A(e,s)}}(e,s)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,s){(null==s||s>e.length)&&(s=e.length);for(var i=0,t=Array(s);i<s;i++)t[i]=e[i];return t}var P=function(){var e,s,i,A=(0,n.I0)(),P=(0,r.k6)(),w=(0,a.ZP)(),S=(0,f.HG)(),L=(0,m.Z)(),z=(0,_.F9)().showToast,I=(0,u.Z)({name:"UserSettingsResource",noCache:!0}),C=I.data,E=I.isLoaded,T=y((0,t.useState)(null===(s=L.partner)||void 0===s?void 0:s.enable_profile_message),2),k=T[0],D=T[1],M=y((0,t.useState)([]),2),O=M[0],Z=M[1],B=y((0,t.useState)([]),2),H=B[0],N=B[1];(0,t.useEffect)(function(){var e,s=(null==C?void 0:C.messaging_permissions)||[];if(E&&s.length>0){var i=[],t=[];s.forEach(function(e){return e.eligible_levels.length>1?i.push(e):t.push(e)}),Z(i),N(t)}D(null==C?void 0:null===(e=C.partner)||void 0===e?void 0:e.enable_profile_message)},[null==C?void 0:C.messaging_permissions,null==C?void 0:null===(i=C.partner)||void 0===i?void 0:i.enable_profile_message,E]);var F=function(e){var s=e.groupId,i=e.selectedLevelId,t=(0,v.CE)({groupId:s,i18n:w}),n=(0,v.m8)({levelId:i,i18n:w});return t&&n&&(0,j.jsx)(o.xu,{"data-test-id":"".concat(t.route,"-message-setting"),marginBottom:6,children:(0,j.jsx)(h.Z,{description:n.label,heading:t.title,headingAccessibilityLevel:2,iconAccessibilityLabel:w._('Go to Edit title', 'profile.SocialPermissions.Messages.Icon', 'Edit Messages Icon on Social Permissions Page'),onTap:function(){t.route&&P.push("/settings/messages/".concat(t.route))}})},s)},U=function(e){var s=e.groupId,i=(0,v.CE)({groupId:s,i18n:w});return i&&(0,j.jsxs)(o.xu,{"data-test-id":"".concat(i.route,"-message-setting"),marginBottom:6,children:[(0,j.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:i.title}),(0,j.jsx)(o.xu,{marginTop:2,children:(0,j.jsx)(o.xv,{color:"subtle",children:i.nonEditableSubtitle||""})})]},s)},X=O.length>0||H.length>0,G=L.partner?!!k&&X:X;if(!L.isAuth)return(0,j.jsx)(r.l_,{to:v.NN});if(S)return(0,j.jsx)(r.l_,{to:v.ic});if(!E)return(0,j.jsx)(o.kC,{alignContent:"center",alignItems:"stretch",direction:"column",height:"100vh",justifyContent:"center",width:"100vw",children:(0,j.jsx)(o.$j,{accessibilityLabel:w._('Loading messaging permissions edit page', 'userSettingsPage.socialPermissions.MessagingPermissions.loading', 'Loading state for the edit messaging permissions page'),show:!0})});var R=w._('You decide whether messages go to your inbox, requests, or if you don\u2019t receive them at all', 'userSettingsPage.SocialPermissions.MessagingPermissions.description', 'Description for the edit messaging permissions page');return(0,j.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,j.jsx)(c.default,{zIndexForGestaltBug:2,children:(0,j.jsx)(x.default,{heading:w._('Messages', 'userSettingsPage.socialPermissions.MessagingPermissions.title', 'Page for the edit messaging permissions settings'),legoSettingsEnabled:!0,previousUrl:"/settings/permissions"})}),(0,j.jsxs)(o.xu,{"data-test-id":"settings-messages",marginBottom:2,paddingX:2,children:[(0,j.jsx)(o.xu,{marginBottom:6,marginTop:1,children:(0,j.jsx)(o.xv,{align:"start",size:"300",children:R})}),L.partner&&(0,j.jsx)(o.xu,{marginBottom:6,children:(0,j.jsx)(b.Z,{description:(e=w._('A message button will appear on your profile so others can message you.', 'profile.Messages.description', 'Settings toggle for enabling messages receival on bussines profile'),k&&(e+=" "+(w._('Change how you receive messages below.', 'settings.messagingPermissions.businessSetting.description.enabled', 'Additional line for business message setting when setting is enabled'))),e),heading:w._('Allow others to message my business', 'profile.Messages.title', 'Settings toggle for enabling messages receival on bussines profile'),headingAccessibilityLevel:2,onChange:function(){var e,s=!k;D(s),A((0,p._L)({field:"enable_profile_message",value:s,onSettingSavedHn:function(){z(function(e){var s=e.hideToast;return(0,j.jsx)(l.ZP,{duration:v.hN,onHide:s,text:w._('Message settings saved', 'profile.SocialPermissions.Messages.ToastMessage', 'Name of setting being saved for confirmation toast')})})},showErrorHn:function(){},surfaceTag:g.i.SETTINGS,userId:null!==(e=L.id)&&void 0!==e?e:""}))},switched:!!k,switchId:"partner-messages-switch"})}),G&&(0,j.jsxs)(t.Fragment,{children:[O.map(function(e){return F({groupId:e.group_id,selectedLevelId:e.selected_level})}),H.map(function(e){return U({groupId:e.group_id})}),(0,j.jsxs)(o.xu,{"data-test-id":"blocked-accounts-message-setting",marginBottom:6,children:[(0,j.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:w._('Blocked accounts', 'settings.messagingPermissions.blockedAccounts.subHeader', 'Subheader for note on blocked accounts behavior for messaging permissions')}),(0,j.jsx)(o.xu,{marginTop:2,children:(0,j.jsx)(o.xv,{color:"subtle",children:w._('Note: Accounts you\'ve blocked on Pinterest can\'t message you. To unblock an account, go to their profile.', 'settings.messagingPermissions.blockedAccounts.description', 'Description for blocked accounts behavior for messaging permissions')})})]})]})]})]})}},431202:function(e,s,i){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/settings/messages",function(){return i(865603).Z}])}},function(e){e.O(0,[97270,97949,15787,99317,74044,59656,32124,85997],function(){return e(e.s=431202)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/settings/messages-97203a89f105d490.js.map