(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[34419],{605388:function(e,t,r){"use strict";function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function e(t,r){if(null==t||"object"!==i(t)&&"function"!=typeof t)return t;var a,l=r.find(function(e){return e.value===t});if(l)return l.result;var s=Object.prototype.toString.call(t);switch(s){case"[object Array]":a=Array(t.length);break;case"[object Set]":a=new Set;break;case"[object Object]":case"[object Arguments]":a={};break;case"[object Map]":a=new Map;break;default:return t}var c=[].concat(function(e){if(Array.isArray(e))return o(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||n(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:a}]);switch(s){case"[object Array]":t.forEach(function(t,r){a[r]=e(t,c)});break;case"[object Set]":t.forEach(function(t){a.add(e(t,c))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var r=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{for(i=(r=r.call(e)).next;!(s=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||n(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];a[o]=e(i,c)});break;case"[object Map]":t.forEach(function(t,r){a.set(r,e(t,c))})}return a}(e,[])}r.d(t,{Z:function(){return a}})},212515:function(e,t,r){"use strict";r.d(t,{Q:function(){return f},Z:function(){return d}});var n=r(282480),o=r(488792),i=r(477058),a=r(972147),l=r(730212);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){var r=(0,i.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,c=(0,o.Z)(),f=(0,i.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(f,e.view_data):f,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(u(u({},e),{},{event_type:13,request_identifier:s}))}},[t])}function d(e){var t=e.children;return f(e.log),t||null}},479900:function(e,t){"use strict";t.Z=function(e){return"confirmed"===e}},986782:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(282480),o=r(79292),i=r(415787);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=c(d);return e=t?Reflect.construct(r,arguments,c(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return u(s(e=n.call.apply(n,[this].concat(r))),"state",{error:null,info:null}),u(s(e),"resetError",function(){e.setState({error:null,info:null})}),e}return r=[{key:"componentDidCatch",value:function(e,t){try{var r,n=this.props.name,a=this.props.type||"secondary";(0,o.T)({extraData:null!==(r=e.extraData)&&void 0!==r?r:{},errorBoundary:n,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,r=t.error,n=t.info;return r&&n?e?e({error:r,info:n,resetError:this.resetError}):null:this.props.children}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}(d.prototype,r),Object.defineProperty(d,"prototype",{writable:!1}),d}(n.Component)},602185:function(e,t,r){"use strict";var n=r(986782);t.Z=n.Z},559028:function(e,t,r){"use strict";r.d(t,{qE:function(){return a},u_:function(){return l.ZP},FN:function(){return s.ZP}});var n=r(297949),o=r(770443);function i(e){var t=e.accessibilityLabel,r=e.color,i=e.name,a=e.outline,l=e.size,s=e.src,c=e.verified,u=Math.floor(10*Math.random())+1;return(0,o.jsx)(n.qE,{accessibilityLabel:t,color:r||u,name:i,outline:a,size:l,src:(null==s?void 0:s.includes("images/user/default"))&&i?void 0:s,verified:c})}i.displayName="Avatar";var a=i,l=r(758339),s=r(476198)},972147:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,r);return void 0!==l?l:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce(function(t,n,o){return t[o]=e(t[o],r[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&r&&"object"===o(r)?Object.keys(r).reduce(function(t,n){return t[n]=e(t[n],r[n],a),t},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t)):r}}})},456082:function(e,t,r){"use strict";r.d(t,{i:function(){return a},x:function(){return l}});var n=r(267005);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){var n;return(n=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===o(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function l(e){var t,r=e.apiErrorCode,o=e.onShowMessage,a=e.onPassCodeRequired,l=e.onPassCodeSkipConfirmation;r&&((i(t={},n.RR,o),i(t,n.mX,a),i(t,n.q6,l),t)[r]||o)()}},931397:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(809833),o=r(174044);function i(e){var t=null!=e?e:{name:n.fY,options:null},r=t.enabledRouteRefresh,i=t.headers,a=t.name,l=t.noCache,s=t.options,c=t.schema,u=!e,f=(0,o.Z)({enabledRouteRefresh:r,headers:i,name:a,noCache:l,options:s,schema:c},u,!1),d=f.fetchResource,m=f.ref;return u||d(),m}},961754:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(282480),o=r(545007),i=r(786974),a=r(809833),l=r(174044);function s(e){var t=null!=e?e:{name:a.fY,options:null},r=t.enabledRouteRefresh,s=t.headers,c=t.name,u=t.noCache,f=t.options,d=t.schema,m=(0,i.Z)(f),h=function(e){var t;return null===(t=e[c])||void 0===t?void 0:t[m]},_=(0,o.v9)(function(e){var t;return null===(t=h(e.resources))||void 0===t?void 0:t.nextBookmark}),p=(0,o.v9)(function(e){var t;return null===(t=h(e.resources))||void 0===t?void 0:t.data}),y=(0,o.v9)(function(e){var t;return null===(t=h(e.resources))||void 0===t?void 0:t.auxData}),b=(0,o.v9)(function(e){var t;return null===(t=h(e.resources))||void 0===t?void 0:t.error}),g=(0,l.Z)({enabledRouteRefresh:r,headers:s,name:c,noCache:u,options:f,schema:d},!e,!0),v=g.fetchResource,j=g.ref,A=j.fetchMore,x=j.isFetching,w=j.isLoaded,S=j.isRefreshing,P=j.refresh,C=w&&!x&&_===a.qx;return(0,n.useEffect)(function(){v()}),(0,n.useMemo)(function(){return{auxData:y,data:p,error:b,fetchMore:A,isAtEnd:C,isFetching:x,isLoaded:w,isRefreshing:S,nextBookmark:_,refresh:P}},[y,p,b,A,C,x,w,S,_,P])}},703333:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var n={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",BUSINESS_HUB:"business_hub",UNKNOWN:"unknown"}},786525:function(e,t,r){"use strict";r.d(t,{L_:function(){return o},Nh:function(){return i},qn:function(){return n}});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(e){return console.error("Cannot access localStorage."),t}},o=function(e){try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(e){console.error("Cannot access localStorage.")}},i=function(e,t){try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(e){console.error("Cannot access localStorage.")}}},343931:function(e,t,r){"use strict";var n=r(297949),o=r(144326),i=r(770443);t.Z=function(e){var t=e.isInModal,r=(0,o.ZP)();return(0,i.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new n.Ry(1),children:(0,i.jsx)(n.$j,{accessibilityLabel:r._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},898253:function(e,t,r){"use strict";r.d(t,{Z:function(){return q}});var n=r(282480),o=r(868073),i=r(479900),a=r(476198),l=r(144326),s=r(775383),c=r(961754),u=r(901450),f=r(410150),d=r(297949),m=r(488792),h=r(212515),_=r(240760),p=r(94757),y=r(551596),b=r(632124),g=r(770443);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var A=function(e){var t=e.userEmail,r=e.afterEmailValidated,o=e.viewParameter,i=e.viewType,a=(0,l.ZP)(),s=(0,m.Z)(),c=v((0,n.useState)(""),2),u=c[0],f=c[1],j=v((0,n.useState)(""),2),A=j[0],x=j[1],w=v((0,n.useState)(!1),2),S=w[0],P=w[1];return(0,h.Q)({view_type:i,view_parameter:o}),(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(p.default,{zIndexForGestaltBug:2,children:(0,g.jsx)(b.default,{heading:a._('Two-factor authentication', 'settings.MFA.Enable.ConfirmEmail.header', 'Header for the disable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsxs)(d.kC,{direction:"column",flex:"grow",justifyContent:"between",children:[(0,g.jsxs)(d.xu,{marginBottom:10,children:[(0,g.jsxs)(d.xu,{"data-test-id":"confirm-email-2fa",marginBottom:11,paddingX:4,children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.__,{htmlFor:"confirmEmail",children:(0,g.jsx)(d.X6,{accessibilityLevel:2,align:"center",size:"500",children:A.length?a._('Hmm...another try?', 'settings.MFA.ConfirmEmail.Title.error', 'Title for the enable 2fa flow page - Confirm your email step'):a._('Confirm your email', 'settings.MFA.ConfirmEmail.Title', 'Title for the enable 2fa flow page - Confirm your email step')})})}),(0,g.jsx)(d.xu,{marginBottom:10,children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:A.length?a._('To set up 2FA, enter the email connected to your Pinterest account', 'settings.MFA.Enable.ConfirmEmail.Description.error', 'Description of the enable 2fa flow page - Confirm your email step'):a._('In order to maintain access to your account please confirm your email', 'settings.MFA.Enable.ConfirmEmail.Description', 'Description of the enable 2fa flow page - Confirm your email step')})})]}),(0,g.jsx)(d.xu,{paddingX:2,children:(0,g.jsx)(d.xu,{marginBottom:2,position:"relative",children:(0,g.jsx)(d.nv,{errorMessage:A,id:"confirmEmail",label:a._('Email', 'settings.MFA.Enable.ConfirmEmail.input.label', 'Input label for the Email field on confirm email page at 2fa enable flow'),onChange:function(e){return f(e.value)},placeholder:a._('Enter your email', 'settings.MFA.Enable.ConfirmEmail.input.placeholder', 'Input placeholder for the Email field on confirm email page at 2fa enable flow'),size:"lg",type:"text",value:u})})})]}),(0,g.jsx)(d.xu,{paddingX:2,paddingY:4,children:(0,g.jsx)(d.zx,{color:"red",disabled:!u||!u.length||S,fullWidth:!0,onClick:function(){if(s({view_type:i,view_parameter:o,element:96,event_type:102}),P(!0),!u.match(y.C)){x(a._('Not a valid email.', 'profile.Settings.Edit.Email.Error.Shouldnt.Match.Username', 'Error message while changing email, when email matches username')),P(!1);return}u.toLowerCase()===t.toLowerCase()?(s({view_type:i,view_parameter:o,event_type:10247}),r()):(s({view_type:i,view_parameter:o,element:13332,event_type:13}),x((0,_.nk)(a._('{{ UpdateEmailLink }} in account settings.', 'settings.MFA.Enable.ConfirmEmail.errorMessage', 'Error message to be displayed if the user email wont match against the one typed. UpdateEmailLink: link to the Pinterest account management page'),{UpdateEmailLink:(0,g.jsx)(d.rU,{display:"inlineBlock",href:"/settings/account-settings/",onClick:function(){s({view_type:i,view_parameter:o,element:13333,event_type:102})},target:"self",underline:"none",children:(0,g.jsx)("strong",{children:a._('Update your email address', 'settings.MFA.Enable.ConfirmEmail.errorMessage.link', 'Text for link to account management page')})},"updateEmailLink")})),P(!1))},text:a._('Next', 'settings.MFA.Enable.ConfirmEmail.SendButton', 'CTA to submit password on confirm email page at 2fa flow')})})]})]})},x=r(400416),w=r(730212);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var C=(0,n.createContext)(),O=(0,n.createContext)();function E(e){var t=e.children,r=S((0,n.useState)("confirm-password"),2),o=r[0],i=r[1],a=S((0,n.useState)(!1),2),l=a[0],s=a[1],c=S((0,n.useState)(""),2),u=c[0],f=c[1],d=S((0,n.useState)(""),2),m=d[0],h=d[1],_=(0,n.useMemo)(function(){return{currentStep:o,isEmailValid:l,countryCode:m,countryPhoneCode:u}},[o,l,m,u]),p=(0,n.useMemo)(function(){return{setCurrentStep:i,setIsEmailValid:s,setCountryCode:h,setCountryPhoneCode:f}},[]);return(0,g.jsx)(C.Provider,{value:_,children:(0,g.jsx)(O.Provider,{value:p,children:t})})}function z(){var e=(0,n.useContext)(C);if(void 0===e)throw Error("useMfaState must be used within a MfaStateContext");return e}function I(){var e=(0,n.useContext)(O);if(void 0===e)throw Error("useMfaUpdater must be used within a MfaStateContext");return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var N=function(e){var t=e.afterPhoneNumberSubmit,r=e.onCountryCodeTouch,o=e.password,i=e.userEmail,a=(0,l.ZP)(),s=(0,m.Z)(),c=(0,w.B)().isRTL,u=z().countryPhoneCode,f=M((0,n.useState)(""),2),h=f[0],_=f[1],y=M((0,n.useState)([]),2),v=y[0],j=y[1],A=M((0,n.useState)(!1),2),S=A[0],P=A[1];return(0,n.useEffect)(function(){s({event_type:13,view_type:562,view_parameter:3730})},[s]),(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(p.default,{zIndexForGestaltBug:2,children:(0,g.jsx)(b.default,{heading:a._('Step 2 of 3', 'settings.MFA.Enable.AddPhoneNumber.header', 'Step counter for the enable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsxs)(d.kC,{direction:"column",flex:"grow",justifyContent:"between",children:[(0,g.jsxs)(d.xu,{marginBottom:10,children:[(0,g.jsxs)(d.xu,{"data-test-id":"add-phone-number-2fa",marginBottom:11,paddingX:10,children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.X6,{accessibilityLevel:2,align:"center",size:"500",children:a._('Add phone number', 'settings.MFA.AddPhoneNumber.Title', 'Title of the Add phone number step on 2fa flow')})}),(0,g.jsx)(d.xu,{children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:a._('This is where we\u2019ll text your login security codes', 'settings.MFA.AddPhoneNumber.Description', 'Description of the  Add phone number step on 2fa flow')})})]}),(0,g.jsxs)(d.xu,{paddingX:2,children:[(0,g.jsxs)(d.xu,{marginBottom:4,children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:a._('Country code', 'settings.MFA.AddPhoneNumber.countryCodeField', 'Country code for the add phone number step on 2fa flow')})}),(0,g.jsx)(d.iP,{onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),s({view_type:562,view_parameter:3730,element:12921,event_type:102}),r()},children:(0,g.jsxs)(d.kC,{alignItems:"center",justifyContent:"center",children:[(0,g.jsx)(d.xu,{marginEnd:2,children:u?(0,g.jsx)(d.xv,{size:"400",children:u}):(0,g.jsx)(d.xv,{color:"subtle",size:"400",children:a._('Choose', 'settings.MFA.AddPhoneNumber.countryCode.Placeholder', 'Placeholder for the countryCode field')})}),(0,g.jsx)(d.xu,{left:c,right:!c,children:(0,g.jsx)(d.JO,{accessibilityLabel:a._('Go to Country code selection Page to select the country code for your phone number', 'settings.MFA.AddPhoneNumber.goToCountryCodeSelection', 'Accessibility label for the icon that redirect the user to the country code selection page'),color:"default",icon:"arrow-forward"})})]})})]}),(0,g.jsxs)(d.xu,{children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.__,{htmlFor:"phoneNumber",children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:a._('Phone', 'settings.MFA.AddPhoneNumber.phoneField', 'Phone Field for the add phone number step on 2fa flow')})})}),(0,g.jsx)(d.nv,{errorMessage:v[0],id:"phoneNumer",onChange:function(e){return _(e.value)},placeholder:a._('Phone number', 'AddPhoneNumberStep.TextField.PhoneNumber', 'placeholder text for phone number'),size:"lg",type:"tel",value:h})]})]})]}),(0,g.jsx)(d.xu,{paddingX:2,paddingY:4,children:(0,g.jsx)(d.zx,{color:"red",disabled:!h||!h.length||!u||S,fullWidth:!0,onClick:function(){s({view_type:562,view_parameter:3730,element:96,event_type:102}),P(!0),j([]),(0,x.Z)({url:"/v3/users/settings/mfa/",method:"POST",data:{password:o,number:h,country:u,email_input:i}}).then(function(){return t("".concat(u).concat(h))},function(e){P(!1),j([e.message])})},text:a._('Next', 'settings.MFA.Enable.ConfirmPassword.SendButton', 'CTA to submit password on confirm password page at 2fa flow')})})]})]})},D=r(797575),F=r(609326),R=r(194093),k=r(786525);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Z=function(e){var t,r=e.password,o=e.phoneNumber,i=e.userEmail,s=e.afterVerificationCodeSubmit,c=(0,l.ZP)(),f=(0,u.F9)().showOneToast,h=(0,m.Z)(),y=c._('Sorry, something went wrong', 'settings.MFA.ConfirmVerificationCode.toast.error', 'Default toast message for error when trying to resend the verification code'),v=c._('Code resent!', 'settings.MFA.ConfirmVerificationCode.toast.codeResent', 'Default toast message for code resend'),j=B((0,n.useState)(""),2),A=j[0],w=j[1],S=B((0,n.useState)([]),2),P=S[0],C=S[1],O=B((0,n.useState)(!1),2),E=O[0],z=O[1],I=B((0,n.useState)(!1),2),M=I[0],T=I[1];return((0,n.useEffect)(function(){h({event_type:13,view_type:562,view_parameter:3731})},[h]),E)?(0,g.jsx)(d.kC,{alignContent:"center",alignItems:"stretch",direction:"column",height:"100vh",justifyContent:"center",width:"100vw",children:(0,g.jsxs)(d.xu,{children:[(0,g.jsx)(d.xu,{marginBottom:10,children:(0,g.jsx)(d.$j,{accessibilityLabel:c._('Verifying if code is valid', 'settings.MFA.ConfirmVerificationCode.verifyingCode.loading', 'Loading state for when the verification code is sent and is being validated'),show:!0})}),(0,g.jsx)(d.xv,{align:"center",size:"400",weight:"bold",children:c._('Verifying...', 'settings.MFA.ConfirmVerificationCode.verifyingCode.text', 'Loading state Title for when the verification code is sent and is being validated')})]})}):(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(p.default,{zIndexForGestaltBug:2,children:(0,g.jsx)(b.default,{heading:c._('Step 3 of 3', 'settings.MFA.Enable.ConfirmVerificationCode.header', 'Step counter for the enable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsx)(d.kC,{direction:"column",flex:"grow",justifyContent:"between",children:(0,g.jsxs)(d.xu,{marginBottom:10,children:[(0,g.jsxs)(d.xu,{"data-test-id":"confirm-verification-code-2fa",marginBottom:11,paddingX:5,children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.__,{htmlFor:"verificationCode",children:(0,g.jsx)(d.X6,{accessibilityLevel:2,align:"center",size:"500",children:c._('Enter verification code', 'settings.MFA.ConfirmVerificationCode.Title', 'Title of the Enter verification code step on 2fa flow')})})}),(0,g.jsx)(d.xu,{marginBottom:10,paddingX:8,children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:(0,_.nk)(c._('Now enter the code we just texted to {{ phoneNumber }}.', 'settings.MFA.ConfirmVerificationCode.Description', 'Description of the Enter verification code step on 2fa flow phoneNumber:User masked phone number from previous step'),{phoneNumber:(t=o.substr(o.length-3),"XXXX".concat(t))})})})]}),(0,g.jsxs)(d.xu,{paddingX:2,children:[(0,g.jsx)(d.xu,{marginBottom:2,position:"relative",children:(0,g.jsx)(d.nv,{errorMessage:P[0],id:"verificationCode",onChange:function(e){return w(e.value)},size:"lg",type:"text",value:A})}),(0,g.jsx)(d.xu,{children:(0,g.jsx)(d.xu,{children:(0,g.jsx)(d.kC,{alignContent:"center",direction:"column",children:(0,g.jsx)(d.xu,{alignSelf:"center",width:150,children:(0,g.jsx)(d.iP,{disabled:M||E,onTap:function(){M||(w(""),T(!0),h({view_type:562,view_parameter:3731,element:12920,event_type:102}),(0,x.Z)({url:"/v3/users/settings/mfa/resend/",method:"POST"}).then(function(e){T(!1);var t=(e.resource_response.data||{}).message||v;f(function(e){var r=e.hideToast;return(0,g.jsx)(a.ZP,{onHide:r,text:t})})},function(e){T(!1),f(function(t){var r=t.hideToast;return(0,g.jsx)(a.ZP,{onHide:r,text:(0,R.Z)(e,"message")||y,type:"error"})})}))},tapStyle:"compress",children:(0,g.jsx)(d.xu,{paddingY:2,children:(0,g.jsx)(d.xv,{align:"center",size:"200",underline:!0,weight:"bold",children:c._('Resend code?', 'settings.MFA.ConfirmVerificationCode.ResendCode', 'Button to resend the code')})})})})})})})]})]})}),(0,g.jsx)(d.xu,{marginBottom:4,paddingX:2,children:(0,g.jsx)(d.zx,{color:"red",disabled:!A||!A.length||E||M,fullWidth:!0,onClick:function(){h({view_type:562,view_parameter:3731,element:96,event_type:102}),z(!0),C([]),(0,x.Z)({url:"/v3/users/settings/mfa/verify/",method:"POST",data:{password:r,token:A,email_input:i}}).then(function(){h({event_type:9990,view_type:562,view_parameter:3731}),(0,k.L_)(F.ou),s()}).catch(function(e){C([e.message]),z(!1)})},text:c._('Verify', 'settings.MFA.Enable.ConfirmVerificationCode.SendButton', 'CTA to submit verification code on the Enter verification code at 2fa flow')})})]})};function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function V(e){var t=e.isFirstItem,r=e.checked,n=e.heading,o=e.id,i=e.name,a=e.onChange;return(0,g.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginTop:t?0:6,paddingY:1,role:"listitem",children:[(0,g.jsx)(d.__,{htmlFor:o,children:(0,g.jsx)(d.X6,{accessibilityLevel:2,size:"400",children:n})}),(0,g.jsx)(d.FX.RadioButton,{checked:r,id:o,name:i,onChange:a,value:o})]})}var X=function(e){var t,r=e.afterCountryCodeSubmit,o=(0,l.ZP)(),i=z().countryCode,a=I(),s=a.setCountryCode,u=a.setCountryPhoneCode,f=(0,c.Z)({name:"ApiResource",options:{url:"/v3/countries/phone_codes/"}}),m=f.data,h=f.isLoaded,_=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(i))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{for(i=(r=r.call(e)).next;!(s=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return U(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=_[0],v=_[1],j=function(e,t){v(e),s(e),u(t),r()};return h?(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(p.default,{zIndexForGestaltBug:2,children:(0,g.jsx)(b.default,{heading:o._('Country Code', 'settings.MFA.Enable.CountryCode.header', 'Step counter for the enable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsx)(d.xu,{"data-test-id":"2fa-phone-number-country-code",marginTop:2,paddingX:2,role:"list",children:(0,g.jsx)(d.FX,{id:"2fa-phone-number-country-code-radio-options",legend:o._('Country Code', 'settings.MFA.Enable.CountryCode.header', 'Step counter for the enable 2fa flow page'),legendDisplay:"hidden",children:(m||[]).map(function(e,t){return(0,g.jsx)(V,{checked:e.code===y,heading:e.phone_code_label,id:"countryCode-".concat(e.phone_code_label),isFirstItem:0===t,name:"country_code",onChange:function(){return j(e.code,e.phone_code)}},"countryCode-option-".concat(e.phone_code_label))})})})]}):(0,g.jsx)(d.kC,{alignContent:"center",alignItems:"stretch",direction:"column",height:"100vh",justifyContent:"center",width:"100vw",children:(0,g.jsx)(d.$j,{accessibilityLabel:o._('Loading Country Code list', 'settings.MFA.Enable.CountryCode.loading', 'Loading state for the Country Code selection lsit'),show:!0})})};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var W={CONFIRM_EMAIL:"confirm-email",CONFIRM_PASSWORD:"confirm-password",ADD_PHONE_NUMBER:"add-phone-number",ADD_PHONE_COUNTRY_CODE:"add-phone-country-code",VERIFICATION_CODE:"verification-code"},G=Object.values(W);function Y(){var e=(0,l.ZP)(),t=(0,u.F9)().showToast,r=(0,o.$B)(),d=(0,o.k6)(),m=z(),h=m.currentStep,_=m.isEmailValid,p=I(),y=p.setCurrentStep,b=p.setIsEmailValid,v=H((0,n.useState)(""),2),j=v[0],x=v[1],w=H((0,n.useState)(""),2),S=w[0],P=w[1],C=(0,f.HG)(),O=(0,c.Z)({name:"UserSettingsResource"}).data,E=(0,c.Z)({name:"ApiResource",options:{url:"/v3/users/settings/mfa/backup/"}}).data,M=null==O?void 0:O.email,T=null==E?void 0:E.email_status,F=function(e){d.push("/settings/mfa/".concat(e))},R=function(){var e=r.params.step;if(!G.includes(e)){d.push("/settings/security");return}var t=(0,i.Z)(T||"")?W.CONFIRM_PASSWORD:W.CONFIRM_EMAIL;_||e===W.CONFIRM_EMAIL||e===W.CONFIRM_PASSWORD?e!==h&&y(e||t):(y(t),F(t))};return((0,n.useEffect)(function(){R()},[r]),C)?(0,g.jsx)(o.l_,{to:"/settings/security"}):(0,g.jsxs)(s.default,{hasFixedHeader:!0,children:[h===W.CONFIRM_EMAIL?(0,g.jsx)(A,{afterEmailValidated:function(){return F(W.CONFIRM_PASSWORD)},userEmail:M||"",viewParameter:3806,viewType:562}):null,h===W.CONFIRM_PASSWORD?(0,g.jsx)(D.Z,{afterPasswordSubmit:function(e){x(e),b(!0),F(W.ADD_PHONE_NUMBER)},viewParameter:3729,viewType:562}):null,h===W.ADD_PHONE_NUMBER?(0,g.jsx)(N,{afterPhoneNumberSubmit:function(e){P(e),F(W.VERIFICATION_CODE)},onCountryCodeTouch:function(){return F(W.ADD_PHONE_COUNTRY_CODE)},password:j,userEmail:M||""}):null,h===W.ADD_PHONE_COUNTRY_CODE?(0,g.jsx)(X,{afterCountryCodeSubmit:function(){return F(W.ADD_PHONE_NUMBER)}}):null,h===W.VERIFICATION_CODE?(0,g.jsx)(Z,{afterVerificationCodeSubmit:function(){t(function(t){var r=t.hideToast;return(0,g.jsx)(a.ZP,{duration:4e3,onHide:r,text:e._('Two-factor authentication has been turned on', 'mfa.turnedOn.success', 'Toast message for successfully enabling 2fa')})}),d.push("/settings/security")},password:j,phoneNumber:S,userEmail:M||""}):null]})}var q=function(){return(0,g.jsx)(E,{children:(0,g.jsx)(Y,{})})}},338316:function(e,t,r){"use strict";function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{Z:function(){return n}})},432557:function(e,t,r){"use strict";function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}r.d(t,{Z:function(){return n}})},415953:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(338316);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},672184:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/settings/mfa/[step]",function(){return r(898253).Z}])}},function(e){e.O(0,[97270,97949,15787,99317,74044,59656,1992,27234,32124,98183,24061,29211,33505,22798],function(){return e(e.s=672184)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/settings/mfa/[step]-9498d477da2b9fec.js.map