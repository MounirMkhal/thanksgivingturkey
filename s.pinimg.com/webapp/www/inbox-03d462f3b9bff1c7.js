(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[38359],{38652:function(e,n,t){"use strict";t.r(n);var a,l={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ConversationsPageContactRequest_contactRequest",selections:[{args:null,kind:"FragmentSpread",name:"InviteSubSection_contactRequest_Fragment"},a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[a],storageKey:null}],type:"ContactRequest",abstractKey:null};l.hash="9ce2977f9e7a2bca671fcf6da4b2c47f",n.default=l},661549:function(e,n,t){"use strict";t.r(n);var a,l,r,s,o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationsPageContactRequestsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetUserContactRequestsByUserQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"V3GetUserContactRequestsByUserDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3GetUserContactRequestsByUserDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContactRequest",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ConversationsPageContactRequest_contactRequest"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetUserContactRequestsByUserDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3GetUserContactRequestsByUser",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ConversationsPageContactRequestsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetUserContactRequestsByUserQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"V3GetUserContactRequestsByUserDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3GetUserContactRequestsByUserDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContactRequest",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:[l,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"emails",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"users",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[a,r],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserUsersConnectionContainer",abstractKey:null}],storageKey:null},r,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetUserContactRequestsByUserDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3GetUserContactRequestsByUser",abstractKey:null}],storageKey:null}]},params:{id:"c5fc17c1d4a8f9894af23d9a5119b3fb0c51c8fe8ec925715391cd336f2cbc40",metadata:{},name:"ConversationsPageContactRequestsQuery",operationKind:"query",text:null}};o.hash="e7f25a2cf06e3c063351ba75ed89d929",n.default=o,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(o.default||o)},556705:function(e,n,t){"use strict";t.r(n);var a,l,r,s,o,i,u,c=(a=[{defaultValue:30,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},u=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ConversationsPageConversationsQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ConversationsPage_Conversations_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ConversationsPageConversationsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetConversationsQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"V3GetConversationsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3GetConversationsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"emails",storageKey:null},{alias:null,args:null,concreteType:"ConversationMessage",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"createdMs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[o,s,i],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:u,storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"users",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[s,o,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserUsersConnectionContainer",abstractKey:null}],storageKey:null},i,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"ConversationsPageConversations_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3GetConversationsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3GetConversations",abstractKey:null}],storageKey:null}]},params:{id:"25bdde60669bac588f7f4f7caa011374bc86fda30ee967e4ee0252123f2b8088",metadata:{},name:"ConversationsPageConversationsQuery",operationKind:"query",text:null}});c.hash="424ce2bf4be8e902e98c1cc3dc629b68",n.default=c,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(c.default||c)},809014:function(e,n,t){"use strict";t.r(n);var a,l,r,s,o,i,u=(l=[{kind:"Literal",name:"first",value:30}],r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},i=[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationsPageQuery",selections:[{args:null,kind:"FragmentSpread",name:"ConversationsPage_Conversations_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ConversationsPageQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetConversationsQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:l,concreteType:"V3GetConversationsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3GetConversationsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"emails",storageKey:null},{alias:null,args:null,concreteType:"ConversationMessage",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"createdMs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[s,r,o],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:i,storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"users",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,s,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},o],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserUsersConnectionContainer",abstractKey:null}],storageKey:null},o,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:30)"},{alias:null,args:l,filters:null,handle:"connection",key:"ConversationsPageConversations_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3GetConversationsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3GetConversations",abstractKey:null}],storageKey:null}]},params:{id:"761a9005da640270c5da44439ab200cc045d150a2fa755dae676088530936b1d",metadata:{},name:"ConversationsPageQuery",operationKind:"query",text:null}});u.hash="ec71a2a74cb3095feed81673eb69c767",n.default=u,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(u.default||u)},986786:function(e,n,t){"use strict";t.r(n);var a,l,r,s,o,i=(a=["v3GetConversationsQuery","data","connection"],r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{argumentDefinitions:[{defaultValue:30,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:[],operation:t(556705)}},name:"ConversationsPage_Conversations_query",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetConversationsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[l,{alias:"connection",args:null,concreteType:"V3GetConversationsDataConnection",kind:"LinkedField",name:"__ConversationsPageConversations_data_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3GetConversationsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"emails",storageKey:null},{alias:null,args:null,concreteType:"ConversationMessage",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"createdMs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[s,r],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"users",plural:!1,selections:[{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:"UserUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,s,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserUsersConnectionContainer",abstractKey:null}],storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetConversationsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3GetConversations",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null});i.hash="424ce2bf4be8e902e98c1cc3dc629b68",n.default=i},181507:function(e,n,t){"use strict";t.r(n);var a,l,r,s,o,i={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InviteSubSectionQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3UserBoardInvitesQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"V3UserBoardInvitesDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3UserBoardInvitesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BareInviteSubSection_collaboratorInvite"},l={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3UserBoardInvitesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3UserBoardInvites",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"InviteSubSectionQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3UserBoardInvitesQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"V3UserBoardInvitesDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3UserBoardInvitesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a],storageKey:null},l,s,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:[s,o],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o],storageKey:null},r,o],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3UserBoardInvitesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3UserBoardInvites",abstractKey:null}],storageKey:null}]},params:{id:"98c93a003cfbf1679af56efffbe37cb523a24f903528eddf2fd6ff80ae93a1cc",metadata:{},name:"InviteSubSectionQuery",operationKind:"query",text:null}};i.hash="51c7da7fa53026dc26ff7301bb461ee3",n.default=i,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(i.default||i)},983987:function(e,n,t){"use strict";t.r(n);var a,l={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"InviteSubSection_contactRequest_Fragment",selections:[{args:null,kind:"FragmentSpread",name:"BareInviteSubSection_contactRequest"},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"conversation",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:a,storageKey:null}],type:"ContactRequest",abstractKey:null};l.hash="5bca6694869f354e31fd5f68ab1cdc08",n.default=l},488792:function(e,n,t){"use strict";var a=t(573706);n.Z=function(){return(0,a.v)().logContextEvent}},513294:function(e,n,t){"use strict";var a=t(770443);n.Z=function(e){var n=e.color,t=void 0===n?"#767676":n;return(0,a.jsxs)("svg",{display:"block",fill:"none",height:14,viewBox:"0 0 14 14",width:14,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{cx:"7",cy:"7",r:"6.5",stroke:t}),(0,a.jsx)("path",{clipRule:"evenodd",d:"m8.76786 4.25c.32528 0 .58928.26361.58928.58929 0 .32567-.264.58928-.58928.58928h-2.50604l3.31572 3.31532c.22982.23022.22982.60343 0 .83365-.11511.1151-.26597.17246-.41683.17246-.15085 0-.30171-.05736-.41682-.17246l-3.31532-3.31572v2.50604c0 .32568-.264.58928-.58928.58928-.32529 0-.58929-.2636-.58929-.58928v-4.51786z",fill:t,fillRule:"evenodd"})]})}},542690:function(e,n,t){"use strict";var a=t(770443);n.Z=function(e){var n=e.color,t=void 0===n?"#767676":n;return(0,a.jsxs)("svg",{display:"block",fill:"none",height:14,viewBox:"0 0 14 14",width:14,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{cx:"7",cy:"7",r:"6.5",stroke:t}),(0,a.jsx)("path",{clipRule:"evenodd",d:"m5.23206 4.25c-.32525 0-.58925.2635-.58925.58925s.264.58925.58925.58925h2.506l-3.31575 3.3155c-.22975.23-.22975.60325 0 .8335.11525.11525.266.1725.417.1725.15075 0 .3015-.05725.41675-.1725l3.31525-3.31575v2.506c0 .32575.264.5895.5895.5895.32525 0 .58925-.26375.58925-.5895v-4.51775z",fill:t,fillRule:"evenodd"})]})}},240760:function(e,n,t){"use strict";t.d(n,{Wc:function(){return u},XB:function(){return i},bF:function(){return d},nk:function(){return o},r7:function(){return p}});var a=t(282480),l=t(770443);function r(e,n,t){return e.split(t).map(function(e){if(e.match(t)){var a=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(n,a))return n[a]}return e})}var s=/(\{\{\s*\w+\s*\}\})/g;function o(e,n){return r(e,n,s)}function i(e){var n,t,a=e.text,l=e.markers,s=e.jsxReplacements,o=["strong","a","em","span"],i=/(\{\{\s*\w+\s*\}\})/g,u=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,c=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,d=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,p=null===(n=a.match(u))||void 0===n?void 0:n.map(function(e){var n,t,a,o=e.match(c),u=null!==(n=o&&o[2])&&void 0!==n?n:0,p=e.match(d),f=null!==(t=p&&p[2])&&void 0!==t?t:"",g=l?r(f,l,i):[f];return u&&s&&(null===(a=s[u])||void 0===a?void 0:a.call(s,{innerHtmlStrings:g}))});return null===(t=a.split(u))||void 0===t?void 0:t.map(function(e){return o.some(function(n){return e===n})?null==p?void 0:p.shift():l?r(e,l,i):e})}function u(e,n){return r(e,n,s).join("")}var c=/(\{\s*\w+\s*\})/g;function d(e,n){return r(e,n,c)}var p=function(e){var n=e.text;return Array.isArray(n)?n.map(function(e,n){return(0,l.jsx)(a.Fragment,{children:e},n)}):n}},162598:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var a=t(282480),l=t(297949),r=t(758339),s=t(144326),o=t(240760),i=t(770443);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){m(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function p(e,n){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,n,t){return(n=h(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){var n=function(e,n){if("object"!==u(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!==u(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===u(n)?n:String(n)}var y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&p(e,n)}(s,e);var n,t,a=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=g(s);return e=n?Reflect.construct(t,arguments,g(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"===u(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function s(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,s);for(var n=arguments.length,t=Array(n),l=0;l<n;l++)t[l]=arguments[l];return m(f(e=a.call.apply(a,[this].concat(t))),"state",{modalIsOpen:!0,hasBlocked:!1,hasReportSpam:!1,hasReportUnknown:!1}),m(f(e),"onSubmit",function(){var n=e.props,t=n.handleBlock,a=n.handleReport,l=n.handleSubmit,r=e.state,s=r.hasBlocked,o=r.hasReportSpam,i=r.hasReportUnknown;s&&t&&t(),a&&(o?a("spam"):i&&a("other")),l&&l(),e.closeModal()}),m(f(e),"onReportRadioButtonTap",function(n){var t=e.state,a=t.hasReportSpam,l=t.hasReportUnknown;"spam"!==n||a?"spam"===n&&a?e.setState({hasReportSpam:!1,hasReportUnknown:!1}):"other"!==n||l?"other"===n&&l&&e.setState({hasReportSpam:!1,hasReportUnknown:!1}):e.setState({hasReportSpam:!1,hasReportUnknown:!0}):e.setState({hasReportSpam:!0,hasReportUnknown:!1})}),m(f(e),"closeModal",function(){e.setState({modalIsOpen:!1})}),e}return t=[{key:"render",value:function(){var e=this,n=this.state,t=n.modalIsOpen,a=n.hasBlocked,s=n.hasReportSpam,u=n.hasReportUnknown,c=this.props.userToReport,d=c.username,p=c.fullName,f=c.firstName||p,g=!(a||s||u);return(0,i.jsx)(r.ZP,{accessibilityModalLabel:"",heading:(0,i.jsx)(l.xv,{align:"center",size:"400",weight:"bold",children:this.props.i18n._('Report message', 'ReportModal.header', 'Label for report conversation modal')}),isOpen:t,mobileAccessibilityCloseIconLabel:this.props.i18n._('close modal', 'ReportModal.close', 'accessibility close icon modal'),mobileAllowScroll:!0,mobileIsSlideUp:!0,onDismiss:this.closeModal,type:"report_contact_modal",children:(0,i.jsxs)(l.xu,{maxHeight:"65vh",paddingX:3,paddingY:1,children:[(0,i.jsxs)(l.xu,{direction:"column",display:"flex",position:"relative",children:[(0,i.jsxs)(l.FX,{id:"report-conversation-modal-radio-group",legend:this.props.i18n._('Report options', 'ReportModal.options', 'Report options legend'),legendDisplay:"hidden",children:[(0,i.jsxs)(l.kC,{alignItems:"start",justifyContent:"start",children:[(0,i.jsx)(l.xu,{display:"flex",paddingX:2,paddingY:2,children:(0,i.jsx)(l.FX.RadioButton,{checked:s,id:"Spam",onChange:function(){return e.onReportRadioButtonTap("spam")},value:"Spam"})}),(0,i.jsxs)(l.xu,{direction:"column",display:"flex",paddingX:2,paddingY:2,children:[(0,i.jsx)(l.X6,{size:"400",children:this.props.i18n._('Spam', 'ContactRequest.ReportContactRequest', 'Lable for spam option radio button')}),(0,i.jsx)(l.xu,{direction:"row",display:"flex",paddingY:2,children:(0,i.jsx)(l.xv,{align:"start",size:"300",children:this.props.i18n._('This person is sending me unsolicited commercial messages, or messages that are misleading or repetitive', 'ContactRequest.ReportContactRequest', 'Description for spam option')})})]})]}),(0,i.jsxs)(l.kC,{alignItems:"start",justifyContent:"start",children:[(0,i.jsx)(l.xu,{display:"flex",paddingX:2,paddingY:2,children:(0,i.jsx)(l.FX.RadioButton,{checked:u,id:"Unknown sender",onChange:function(){return e.onReportRadioButtonTap("other")},value:"Unknown sender"})}),(0,i.jsxs)(l.xu,{direction:"column",display:"flex",paddingX:2,paddingY:2,children:[(0,i.jsx)(l.X6,{size:"400",children:this.props.i18n._('Unknown sender', 'ContactRequest.ReportContactRequest', 'Lable for unknown sender option radio button')}),(0,i.jsx)(l.xu,{direction:"row",display:"flex",marginBottom:4,paddingY:2,children:(0,i.jsx)(l.xv,{align:"start",size:"300",children:this.props.i18n._('I don\u2019t know this person, and I\u2019m not interested in this message', 'ContactRequest.ReportContactRequest', 'Description for unknown sender option')})})]})]})]}),(0,i.jsx)(l.iz,{}),(0,i.jsxs)(l.xu,{paddingX:2,paddingY:8,children:[(0,i.jsx)(l.X6,{size:"400",children:(0,o.nk)(this.props.i18n._('Also block {{senderName}}?', 'ContactRequest.ReportContactRequest', 'Heading for block the user after reporting'),{senderName:f})}),(0,i.jsxs)(l.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,i.jsx)(l.xv,{align:"start",size:"300",children:(0,o.nk)(this.props.i18n._('If you block {{senderNameMarkup}} ({{senderUserNameMarkup}}), you can view each other\u2019s profiles, but you can\u2019t message, follow or save each other\u2019s Pins', 'ContactRequest.ReportContactRequest', 'Description for spam option'),{senderNameMarkup:(0,i.jsx)(l.xv,{inline:!0,size:"300",weight:"bold",children:f}),senderUserNameMarkup:(0,i.jsx)(l.xv,{inline:!0,size:"300",weight:"bold",children:d})})}),(0,i.jsx)(l.xu,{marginStart:8,children:(0,i.jsx)(l.rs,{id:"block",onChange:function(){e.setState({hasBlocked:!a})},switched:a})})]})]})]}),(0,i.jsx)(l.xu,{marginBottom:6,marginTop:-4,children:(0,i.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(l.zx,{accessibilityLabel:this.props.i18n._('Report message', 'ReportModal.reportButton', 'Button when reporting a conversation'),color:g?"gray":"red",disabled:g,onClick:this.onSubmit,size:"lg",text:this.props.i18n._('Report message', 'ReportModal.reportButton', 'Button when reporting a conversation')})})})]})})}}],function(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,h(a.key),a)}}(s.prototype,t),Object.defineProperty(s,"prototype",{writable:!1}),s}(a.PureComponent);function _(e){var n=(0,s.ZP)();return(0,i.jsx)(y,d(d({},e),{},{i18n:n}))}},500238:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var a=t(922664);function l(){var e;return Array.from(Object.keys(e=(0,a.Z)().conversations.data).map(function(n){return e[n]}).filter(function(e){return e.users&&e.last_message})).sort(function(e,n){return new Date((n.last_message||n).created_at).getTime()-new Date((e.last_message||e).created_at).getTime()})}},732988:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var a=t(297949),l=t(770443);function r(e){var n=e.text;return(0,l.jsx)(a.xu,{display:"visuallyHidden",children:(0,l.jsx)(a.X6,{accessibilityLevel:1,children:n})})}},475193:function(e,n,t){"use strict";var a=t(282480),l=t(868073),r=t(297949),s=t(770443);n.Z=(0,a.memo)(function(e){var n=e.tabs,t=e.activeIndex,a=(0,l.k6)();return(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:2,width:"100%",children:(0,s.jsx)(r.mQ,{activeTabIndex:t,onChange:function(e){var t=e.event,l=e.activeTabIndex,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r(),a.push((n[l]||n[0]).href)},tabs:n})})})},360420:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var a=t(297949),l=t(770443);function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}function s(e){var n,t=e.collaborators,s=e.isMobileConversationAvatar,o=e.isConvoRepOnSharesheet,i=e.isConvoRepOnInbox,u=function(e){if(Array.isArray(e))return e}(n=s||o||i?["calc(100% * 2 / 3)","calc(100% / 3)"]:["75%","25%"])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,l,r,s,o=[],i=!0,u=!1;try{for(r=(t=t.call(e)).next;!(i=(a=r.call(t)).done)&&(o.push(a.value),2!==o.length);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw l}}return o}}(n,2)||function(e,n){if(e){if("string"==typeof e)return r(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1];return(0,l.jsxs)(a.xu,{position:"relative",width:s?"100%":64,children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),(t||[]).slice(0,2).map(function(e,n){var t=e.defaultDisplayName,r=e.src;return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o||i?{right:0===n?0:d,top:0===n?0:d}:{left:0===n?0:d,top:0===n?0:d}},height:c,position:"absolute",width:c,children:(0,l.jsx)(a.qE,{name:t,outline:!0,src:r})},"".concat(t,"-").concat(n))})]})}},982962:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var a=t(297949),l=t(793874),r=t(513294),s=t(542690),o=t(144326),i=t(240760),u=t(770443);function c(e){var n,t,c,d,p,f,g=e.conversation,m=e.viewerId,h=g.lastMessage,y=(g.unread||0)>0,_=(null==h?void 0:h.text)||"",v=(null===(d=g.users)||void 0===d?void 0:d.filter(function(e){return e.entityId!==m}))||[],b=g.emails||[],k=v.length+b.length>=2,x=null==h?void 0:h.pin,C=null==h?void 0:h.board,j=null==h?void 0:h.user,S=y?"default":"subtle",w=(0,o.ZP)(),P=(x||C||j)&&!_,R=h&&(null===(p=h.sender)||void 0===p?void 0:p.entityId)===m,A=h&&(null===(f=h.sender)||void 0===f?void 0:f.firstName)||"",F=(0,l.Yc)()?y?"#ffffff":"#a5a5a5":y?"#111111":"#767676",I=R?(0,u.jsx)(r.Z,{color:F}):(0,u.jsx)(s.Z,{color:F}),K=k?R?"".concat(w._('You: ', 'mWeb.ConversationsPage.lastMessageText', 'text that suggest the viewing user sent a text in the chat')," ").concat(_):"".concat(A,": ").concat(_):_;return(0,u.jsxs)(a.kC,{alignItems:"center",children:[P&&(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:S}},marginEnd:1,children:I}),(0,u.jsxs)(a.xv,{color:S,lineClamp:1,children:[P&&(x?R?w._('You sent a Pin', 'mWeb.ConversationsPage.userSentAPin', 'text that suggest the viewing user sent a pin in the conversation'):k?(0,i.nk)(w._('{{ lastMessageSenderFirstName }} sent a Pin', 'mWeb.ConversationsPage.recipientSentAPinInGroup', 'text that suggest a recipient in the group chat sent a pin, lastMessageSenderFirstName: the name of the user that sent the last message in the chat '),{lastMessageSenderFirstName:null==h?void 0:null===(n=h.sender)||void 0===n?void 0:n.firstName}):w._('Sent a Pin', 'mWeb.ConversationsPage.recipientSentAPinInOneOnOne', 'text that suggest the recipient sent a pin in the 1:1 conversation'):C?R?w._('You sent a board', 'mWeb.ConversationsPage.userSentABoard', 'text that suggest the viewing user sent a board in the conversation'):k?(0,i.nk)(w._('{{ lastMessageSenderFirstName }} sent a board', 'mWeb.ConversationsPage.recipientSentABoardInGroup', 'text that suggest a recipient in the group chat sent a board, lastMessageSenderFirstName: the name of the user that sent the last message in the chat '),{lastMessageSenderFirstName:null==h?void 0:null===(t=h.sender)||void 0===t?void 0:t.firstName}):w._('Sent a board', 'mWeb.ConversationsPage.recipientSentABoardInOneOnOne', 'text that suggest the recipient sent a board in the 1:1 conversation'):j?R?w._('You sent a profile', 'mWeb.ConversationsPage.userSentAProfile', 'text that suggest the viewing user sent a profile in the conversation'):k?(0,i.nk)(w._('{{ lastMessageSenderFirstName }} sent a profile', 'mWeb.ConversationsPage.recipientSentAProfileInGroup', 'text that suggest a recipient in the group chat sent a profile, lastMessageSenderFirstName: the name of the user that sent the last message in the chat '),{lastMessageSenderFirstName:null==h?void 0:null===(c=h.sender)||void 0===c?void 0:c.firstName}):w._('Sent a profile', 'mWeb.ConversationsPage.recipientSentAProfileInOneOnOne', 'text that suggest the recipient sent a profile in the 1:1 conversation'):null),_&&K]})]})}},900492:function(e,n,t){"use strict";t.d(n,{Ge:function(){return p},JS:function(){return u},OF:function(){return b},P_:function(){return c},Q_:function(){return m},b8:function(){return h},eR:function(){return v},h2:function(){return f},h6:function(){return g}});var a,l=t(252071),r=t(400416),s=t(235581);function o(e,n,t,a,l,r,s){try{var o=e[r](s),i=o.value}catch(e){t(e);return}o.done?n(i):Promise.resolve(i).then(a,l)}function i(e){return function(){var n=this,t=arguments;return new Promise(function(a,l){var r=e.apply(n,t);function s(e){o(r,a,l,s,i,"next",e)}function i(e){o(r,a,l,s,i,"throw",e)}s(void 0)})}}function u(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,n){return{type:"USER_FOLLOW",payload:{id:e,value:n}}},d=function(e,n){return{type:"USER_BLOCK",payload:{id:e,value:n}}},p=function(e){var n,t=e.id,a=e.orbacSubjectId,r=e.blockSource,s=e.blockContext,o=e.logContextEvent;return n=i(regeneratorRuntime.mark(function e(n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(d(t,!0)),e.next=3,l.Z.create("UserBlockResource",{blocked_user_id:t,orbac_subject_id:a,block_source:r,block_context:s}).callCreate().catch(function(){return n(d(t,!1))});case 3:return i=e.sent,o({event_type:54,object_id_str:t}),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}},f=function(e,n){var t;return t=i(regeneratorRuntime.mark(function t(a){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(d(e,!1)),t.next=3,l.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return a(d(e,!0))});case 3:return r=t.sent,n({event_type:55,object_id_str:e}),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}};function g(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var m=function(e,n){return function(){return l.Z.create("UserStateResource",{state:e,value:n}).callCreate()}},h=function(e,n,t){return function(a,l){(0,r.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){t({event_type:48,object_id_str:l().session.userId}),e(),(0,s.Z)()},n)}},y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150";return e&&"https://i.pinimg.com/".concat(n,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},_=(a=i(regeneratorRuntime.mark(function e(n,t,a){var r,s,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.create("VIPResource",{upload_ids:[n]}).callGet();case 2:(r=e.sent).resource_response.data[n]?(o=(s=r.resource_response.data[n]).status,u=s.signature,"processing"===o||"registered"===o?setTimeout(i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_(n,t,a);case 1:case"end":return e.stop()}},e)})),5e3):"succeeded"===o?t(y(u)):a()):a();case 4:case"end":return e.stop()}},e)})),function(e,n,t){return a.apply(this,arguments)}),v=function(e){return new Promise(function(n,t){if("string"==typeof e){if(e.startsWith("data")){var a;(a=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,t=e.split(";"),a=t[0].split(":")[1],l=atob(t[1].split(",")[1]),r=[],s=0;s<l.length;s+=n){for(var o=l.slice(s,s+n),i=Array(o.length),u=0;u<o.length;u+=1)i[u]=o.charCodeAt(u);var c=new Uint8Array(i);r.push(c)}return new Blob(r,{type:a})}(e),new Promise(function(e,n){var t,r,s,o;t="pinimage",r=function(){},s=function(n){e(n)},o=function(e){n(e)},new FormData().append("img",a),l.Z.create("VIPResource",{type:t}).callCreate().then(function(e){if(e.resource_response.data){var n=e.resource_response.data,t=n.upload_id,l=n.upload_url,i=n.upload_parameters,u=new XMLHttpRequest;u.open("POST",l,!0),u.onload=function(){var e;(e=u.status)>=200&&e<400?(r(100),_(t,s,o)):o()},u.upload.onprogress=function(e){r(Math.round(100*e.loaded/e.total))};var c=new FormData;for(var d in i)c.append(d,i[d]);c.append("file",a),u.send(c)}},function(){o()})})).then(function(e){return n(e)})}}else t("Invalid Image")})},b=function(e){return(0,r.Z)({url:"/v3/register/exists/",data:{email:e}})}},818281:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var a=t(297949),l=t(559028),r=t(770443),s="100%";function o(e){var n=e.collaborators;if(n.length<3)return null;var t=n[0],o=n[1],i=n[2];return(0,r.jsxs)(a.xu,{height:s,position:"relative",width:s,children:[o&&(0,r.jsx)(a.xu,{bottom:!0,height:"55%",left:!0,position:"absolute",width:"55%",children:(0,r.jsx)(l.qE,{name:o.defaultDisplayName,outline:!0,src:o.src})}),t&&(0,r.jsx)(a.xu,{display:"flex",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,r.jsx)(a.xu,{height:"55%",width:"55%",children:(0,r.jsx)(l.qE,{name:t.defaultDisplayName,outline:!0,src:t.src})})}),i&&(0,r.jsx)(a.xu,{bottom:!0,height:"55%",position:"absolute",right:!0,width:"55%",children:(0,r.jsx)(l.qE,{name:i.defaultDisplayName,outline:!0,src:i.src})})]})}},761230:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var a=t(559028),l=t(360420),r=t(818281),s=t(770443);function o(e){var n=e.recipients,t=void 0===n?[]:n;switch(t.length){case 0:return null;case 1:return(0,s.jsx)(a.qE,{name:t[0].defaultDisplayName,size:"fit",src:t[0].src});case 2:return(0,s.jsx)(l.Z,{collaborators:t,isMobileConversationAvatar:!0});default:return(0,s.jsx)(r.Z,{collaborators:t})}}},368576:function(e,n,t){"use strict";t.d(n,{Z:function(){return eQ}});var a,l,r,s,o,i,u=t(282480),c=t(545007),d=t(711284),p=t(868073),f=t(297949),g=t(252071),m=t(488792),h=t(194093),y=t(559028),_=t(476198),v=t(838150),b=t(532321),k=t(330812),x=t(144326),C=t(240760),j=t(297728),S=t(730212),w=t(961754),P=t(950443),R=t(901450),A=t(410150),F=t(383399),I=t(758339),K=t(770443);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach(function(n){Q(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function U(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}function E(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Z(a.key),a)}}function z(e,n,t){return n&&E(e.prototype,n),t&&E(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&B(e,n)}function B(e,n){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function N(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,a=M(e);return t=n?Reflect.construct(a,arguments,M(this).constructor):a.apply(this,arguments),function(e,n){if(n&&("object"===L(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,t)}}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,n,t){return(n=Z(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){var n=function(e,n){if("object"!==L(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!==L(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===L(n)?n:String(n)}var G=function(e){q(t,e);var n=N(t);function t(){var e;U(this,t);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return Q(D(e=n.call.apply(n,[this].concat(l))),"state",{modalIsOpen:!0}),Q(D(e),"onSubmit",function(){var n=e.props,t=n.handleBlock,a=n.contactRequest.entityId;t&&t(a),e.closeModal()}),Q(D(e),"onCancel",function(){var n=e.props.handleCancel;n&&n(),e.closeModal()}),Q(D(e),"closeModal",function(){e.setState({modalIsOpen:!1})}),e}return z(t,[{key:"render",value:function(){var e=this.state.modalIsOpen,n=this.props.contactRequest,t=n.username,a=n.fullName;return(0,K.jsxs)(I.ZP,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,onDismiss:this.closeModal,type:"block_modal",children:[(0,K.jsx)(f.xu,{paddingX:3,paddingY:5,children:(0,K.jsx)(f.X6,{accessibilityLevel:1,align:"center",size:"500",children:(0,C.nk)(this.props.i18n._('Block {{ full_name }}?', 'BlockPreviewModal.modal.header', 'Modal Header confirmation before user fully blocks another user (full_name) from a contact request'),{full_name:a})})}),(0,K.jsx)(f.xu,{marginBottom:6,paddingX:6,children:(0,K.jsx)(f.xv,{align:"center",children:(0,C.nk)(this.props.i18n._('If you block {{full_name}} ({{username}}), you can still view each other\u2019s profiles, but you can\u2019t message, follow or save each other\u2019s Pins.', 'BlockPreviewModal.modal.body', 'Modal body confirmation before user fully blocks another user (username and full_name) from a contact request'),{full_name:a,username:t})})}),(0,K.jsx)(f.xu,{alignItems:"start",display:"flex",justifyContent:"center",marginBottom:2,children:(0,K.jsx)(f.xu,{children:(0,K.jsxs)(f.kC,{gap:{row:2,column:0},justifyContent:"start",children:[(0,K.jsx)(f.zx,{color:"gray",fullWidth:!0,onClick:this.onCancel,size:"lg",text:this.props.i18n._('Cancel', 'BlockPreviewModal.modal.cancel', 'cancel button for blocking a user')}),(0,K.jsx)(f.zx,{color:"red",fullWidth:!0,onClick:this.onSubmit,size:"lg",text:this.props.i18n._('Block', 'BlockPreviewModal.modal.block', 'block button for blocking a user')})]})})})]})}}]),t}(u.PureComponent);function V(e){var n=(0,x.ZP)();return(0,K.jsx)(G,T(T({},e),{},{i18n:n}))}var H=function(e){q(t,e);var n=N(t);function t(){var e;U(this,t);for(var a=arguments.length,l=Array(a),r=0;r<a;r++)l[r]=arguments[r];return Q(D(e=n.call.apply(n,[this].concat(l))),"state",{modalIsOpen:!0}),Q(D(e),"onSubmit",function(){var n=e.props,t=n.handleUnblock,a=n.contactRequest.entityId;t&&t(a),e.closeModal()}),Q(D(e),"onCancel",function(){var n=e.props.handleCancel;n&&n(),e.closeModal()}),Q(D(e),"closeModal",function(){e.setState({modalIsOpen:!1})}),e}return z(t,[{key:"render",value:function(){var e=this.state.modalIsOpen,n=this.props.contactRequest.fullName;return(0,K.jsxs)(I.ZP,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,onDismiss:this.closeModal,type:"unblock_modal",children:[(0,K.jsx)(f.xu,{paddingX:3,paddingY:5,children:(0,K.jsx)(f.X6,{accessibilityLevel:1,align:"center",size:"500",children:(0,C.nk)(this.props.i18n._('Unblock {{ full_name }}?', 'UnblockPreviewModal.modal.header', 'Modal Header confirmation before user unblocks another user (full_name) from a contact request'),{full_name:n})})}),(0,K.jsx)(f.xu,{marginBottom:6,paddingX:6,children:(0,K.jsx)(f.xv,{align:"center",children:this.props.i18n._('You\u2019ll be able to follow, save, and comment on each other\u2019s Pins again', 'UnblockPreviewModal.modal.body', 'Modal body confirmation before user unblocks another user from a contact request')})}),(0,K.jsx)(f.xu,{alignItems:"start",display:"flex",justifyContent:"center",marginBottom:2,children:(0,K.jsx)(f.xu,{children:(0,K.jsxs)(f.kC,{gap:{row:2,column:0},justifyContent:"start",children:[(0,K.jsx)(f.zx,{color:"gray",fullWidth:!0,onClick:this.onCancel,size:"lg",text:this.props.i18n._('Cancel', 'UnblockPreviewModal.modal.cancel', 'cancel button for blocking a user')}),(0,K.jsx)(f.zx,{color:"red",fullWidth:!0,onClick:this.onSubmit,size:"lg",text:this.props.i18n._('Unblock', 'UnblockPreviewModal.modal.block', 'block button for blocking a user')})]})})})]})}}]),t}(u.PureComponent);function W(e){var n=(0,x.ZP)();return(0,K.jsx)(H,T(T({},e),{},{i18n:n}))}var Y=t(144138),X=t(793874),J=t(931397),$=t(969119),ee=t(830766),en=t(483948);function et(e){return function(e){if(Array.isArray(e))return el(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ea(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,n){if(e){if("string"==typeof e)return el(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return el(e,n)}}function el(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var er=function(e){var n=function(e){return new Date((null==e?void 0:e.type)==="contactrequest"?e.createdAt||e.created_at||0:e.created_at||0)};return et(e).sort(function(e,t){return n(e)>n(t)?-1:n(t)>n(e)?1:0})},es=void 0!==a?a:a=t(983987),eo=void 0!==l?l:l=t(181507),ei=(0,v.Z)({useGraphQLAdapter:function(e){var n,t,a,l,r,s,o,i=(0,d.useFragment)(es,e),u=(0,k.Z)(eo,{},{suspendOnRefetch:!1}),c=u.data,p=u.refetch;(0,$.Z)(function(){return p()});var f=(null===(n=c.v3UserBoardInvitesQuery)||void 0===n?void 0:n.__typename)==="V3UserBoardInvites"&&(null===(t=c.v3UserBoardInvitesQuery)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.__typename)==="V3UserBoardInvitesDataConnectionContainer"&&(null===(l=c.v3UserBoardInvitesQuery)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:null===(s=r.connection)||void 0===s?void 0:null===(o=s.edges)||void 0===o?void 0:o.filter(Boolean).map(function(e){return e.node}).filter(Boolean))||[];return{boardInvitesList:f,contactRequestsList:i,boardInvitesRef:f,contactRequestsRef:i,boardInvitesGraphQLRefetch:p}},useLegacyAdapter:function(){return(0,J.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}}),(0,J.Z)({name:"ContactRequestsResource",options:{current_user:!0}}),{boardInvitesList:(0,en.Z)(),contactRequestsList:Object.values((0,c.v9)(function(e){return e.contactRequests})||{}),boardInvitesRef:null,contactRequestsRef:null,boardInvitesGraphQLRefetch:null}}});function eu(e){var n=(0,x.ZP)();return(0,K.jsx)(ei,{input:e.graphQLRef?{kind:"GraphQL",data:e.graphQLRef}:{kind:"Legacy",data:null},children:function(t){var a,l=t.data,r=l.boardInvitesList,s=l.contactRequestsList,o=l.boardInvitesRef,i=l.contactRequestsRef,u=l.boardInvitesGraphQLRefetch,c=[].concat(et(r||[]),et(s||[])),d=(c=er(c)).length,p=[],g=[],m=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ea(e))){t&&(e=t);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==t.return||t.return()}finally{if(o)throw r}}}}(c);try{for(m.s();!(a=m.n()).done;){var h=a.value;"contactrequest"===h.type&&h.conversation&&!h.board?p.push(h):g.push(h)}}catch(e){m.e(e)}finally{m.f()}var y=(0,K.jsxs)(f.xv,{color:"subtle",size:"200",children:[g.length>0&&(0,C.nk)(n._('{{ boardInvitesLength }} boards', 'inbox.InviteSubSection.BareInviteSubSection.boardInvitesCount', 'counter to show how many board invites a user has, boardInvitesLength: the number of board invites a user has '),{boardInvitesLength:g.length}),g.length>0&&p.length>0&&" \xb7 ",p.length>0&&(0,C.nk)(n._('{{ messageRequestsLength }} messages', 'inbox.InviteSubSection.BareInviteSubSection.messageRequestCount', 'counter to show how many message requests a user has, messageRequestsLength: the number of message requests a user has'),{messageRequestsLength:p.length})]});return d>0?(0,K.jsxs)(f.xu,{marginBottom:6,marginTop:6,maxWidth:488,children:[(0,K.jsx)(f.xu,{marginStart:4,children:(0,K.jsx)(f.xv,{inline:!0,size:"300",children:n._('Requests ', 'mWeb.Inbox.InviteSubSection.invitesSubheader', 'Sub-header for requests on messaging inbox view')})}),(0,K.jsx)(ee.Z,{boardInvitesGraphQLRef:null!=o?o:null,boardInvitesGraphQLRefetch:u,contactRequestsGraphQLRef:i,contactRequestsGraphQLRefetch:e.contactRequestsGraphQLRefetch,isInboxRequestsSectionView:!0,numberOfRequestToShow:1}),d>1&&(0,K.jsx)(f.xu,{marginEnd:4,marginStart:4,children:(0,K.jsx)(f.Tg,{href:"/inbox/requests",children:(0,K.jsxs)(f.kC,{children:[(0,K.jsx)(f.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,X.Yc)()?"#4A4A4A":"#E9E9E9"}},display:"flex",height:48,justifyContent:"center",marginEnd:4,rounding:"circle",width:48,children:(0,K.jsx)(f.JO,{accessibilityLabel:n._('View all requests', 'inbox.InviteSubSection.BareInviteSubSection.allRequests', 'accessibility label for icon that links to see all requests for user'),color:"default",icon:"envelope",size:22})}),(0,K.jsxs)(f.kC,{direction:"column",flex:"grow",justifyContent:"center",children:[(0,K.jsx)(f.xu,{marginBottom:1,children:(0,K.jsx)(f.xv,{size:"300",children:n._('View all requests', 'inbox.InviteSubSection.BareInviteSubSection.allRequests', 'link to see all requests for user')})}),(0,K.jsx)(f.xu,{children:y})]}),(0,K.jsx)(f.xu,{alignItems:"center",display:"flex",flex:"none",height:48,justifyContent:"center",marginStart:2,children:(0,K.jsx)(f.JO,{accessibilityLabel:n._('arrow', 'mWeb.Messaging.Inbox.ArrowIcon', 'Accessiblity Label for arrow that directs user to see all of their requests.'),color:"default",icon:"arrow-forward",size:12})})]})})})]}):null}})}function ec(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var ed=(0,u.lazy)(function(){return Promise.all([t.e(97270),t.e(20316),t.e(27473),t.e(29925),t.e(52900)]).then(t.bind(t,607743))});function ep(e){var n,t=e.inviteSource,a=e.viewParameter,l=function(e){if(Array.isArray(e))return e}(n=(0,u.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,l,r,s,o=[],i=!0,u=!1;try{for(r=(t=t.call(e)).next;!(i=(a=r.call(t)).done)&&(o.push(a.value),2!==o.length);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw l}}return o}}(n,2)||function(e,n){if(e){if("string"==typeof e)return ec(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ec(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=l[0],s=l[1],o=(0,x.ZP)(),i=o._('Invite your friends', 'inbox.InviteToFollowInboxEntryPoint.text', 'Title text to show users they can invite their friends to start chatting'),c=o._('Connect to start chatting', 'inbox.InviteToFollowInboxEntryPoint.subtext', 'Subtext to show users they can invite their friends to start chatting ');return(0,K.jsxs)(f.xu,{children:[r&&(0,K.jsx)(u.Suspense,{children:(0,K.jsx)(ed,{inviteSource:t,onDismiss:function(){return s(!1)},viewParameter:a})}),(0,K.jsx)(f.iP,{onFocus:function(){return s(!0)},children:(0,K.jsxs)(f.xu,{direction:"row",display:"flex",paddingX:4,children:[(0,K.jsx)(f.hU,{accessibilityLabel:"person-add",bgColor:"lightGray",icon:"person-add"}),(0,K.jsxs)(f.xu,{padding:4,children:[(0,K.jsx)(f.xu,{marginBottom:1,children:(0,K.jsx)(f.xv,{weight:"bold",children:i})}),(0,K.jsx)(f.xv,{color:"subtle",children:c})]})]})})]})}var ef=t(162598),eg=t(5755),em=t(922664),eh=t(500238),ey=t(732988),e_=t(475193),ev=t(982962),eb=t(102786),ek=t(621862),ex=t(900492),eC=t(761230);function ej(){var e=(0,p.k6)(),n=(0,x.ZP)();return(0,K.jsxs)(f.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",width:"100%",children:[(0,K.jsx)(f.X6,{children:n._('Share ideas with friends', 'Header text for sharing ideas with friends', 'Header text for sharing ideas with friends')}),(0,K.jsx)(f.xu,{marginTop:6,children:(0,K.jsx)(f.zx,{color:"red",onClick:function(){return e.push("/inbox/compose/")},text:n._('New message', 'Button text for starting a new message', 'Button text for starting a new message')})})]})}function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(e,n){if(e){if("string"==typeof e)return eP(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eP(e,n)}}function eP(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}function eR(e,n,t,a,l,r,s){try{var o=e[r](s),i=o.value}catch(e){t(e);return}o.done?n(i):Promise.resolve(i).then(a,l)}function eA(e){return function(){var n=this,t=arguments;return new Promise(function(a,l){var r=e.apply(n,t);function s(e){eR(r,a,l,s,o,"next",e)}function o(e){eR(r,a,l,s,o,"throw",e)}s(void 0)})}}function eF(e,n){return(eF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function eI(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eK(e){return(eK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eL(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function eO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eL(Object(t),!0).forEach(function(n){eT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eL(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eT(e,n,t){return(n=eU(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function eU(e){var n=function(e,n){if("object"!==eS(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!==eS(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===eS(n)?n:String(n)}var eE=void 0!==r?r:r=t(809014),ez=void 0!==s?s:s=t(986786),eq=(0,v.Z)({useGraphQLAdapter:function(){var e,n=(0,d.useLazyLoadQuery)(eE,{}),t=(0,d.usePaginationFragment)(ez,n),a=t.data,l=t.loadNext,r=t.isLoadingNext,s=t.hasNext,o=a.v3GetConversationsQuery;return{conversations:(o&&"V3GetConversations"===o.__typename&&!!o.data&&"V3GetConversationsDataConnectionContainer"===o.data.__typename&&(null===(e=o.data.connection)||void 0===e?void 0:e.edges)||[]).map(function(e){return null==e?void 0:e.node}).filter(function(e){return!!e}).map(function(e){var n;return eO(eO({},e),{},{users:"users"in e&&e.users&&"connection"in e.users&&(null===(n=e.users.connection)||void 0===n?void 0:n.edges)&&e.users.connection.edges.map(function(e){return null==e?void 0:e.node}).filter(function(e){return!!e})||null})}),loadNext:function(){l(30)},isLoadingNext:r,hasNext:s}},useLegacyAdapter:function(){var e=(0,w.Z)({name:"ConversationsResource",options:{field_set_key:"default"}}),n=e.isFetching,t=e.fetchMore,a=e.isAtEnd;return{conversations:(0,eh.Z)().map(function(e){var n,t,a,l,r,s,o,i,u,c;return{emails:null!==(n=e.emails)&&void 0!==n?n:null,entityId:null!==(t=e.id)&&void 0!==t?t:"",lastMessage:e.last_message?{text:null!==(a=e.last_message.text)&&void 0!==a?a:null,sender:e.last_message.sender?{entityId:null!==(l=e.last_message.sender.id)&&void 0!==l?l:"",firstName:null!==(r=e.last_message.sender.first_name)&&void 0!==r?r:null}:null,board:null!==(s=e.last_message.board&&{__typename:"Board"})&&void 0!==s?s:null,pin:null!==(o=e.last_message.pin&&{__typename:"Pin"})&&void 0!==o?o:null,user:null!==(i=e.last_message.user&&{__typename:"User"})&&void 0!==i?i:null,createdMs:null!==(u=e.last_message.created_ms.toString())&&void 0!==u?u:null}:null,unread:null!==(c=e.unread)&&void 0!==c?c:null,users:e.users.map(function(e){var n,t,a,l,r,s;return{entityId:null!==(n=e.id)&&void 0!==n?n:"",firstName:null!==(t=e.first_name)&&void 0!==t?t:null,fullName:null!==(a=e.full_name)&&void 0!==a?a:null,imageLargeUrl:null!==(l=e.image_large_url)&&void 0!==l?l:null,isDefaultImage:null!==(r=e.is_default_image)&&void 0!==r?r:null,username:null!==(s=e.username)&&void 0!==s?s:null}})}}),loadNext:t,isLoadingNext:n,hasNext:!a}}}),eB=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&eF(e,n)}(l,e);var n,t,a=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=eK(l);return e=n?Reflect.construct(t,arguments,eK(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"===eS(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return eI(e)}(this,e)});function l(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return eT(eI(e=a.call.apply(a,[this].concat(t))),"state",{newsBadgeCount:0,unreadMessageCount:0}),eT(eI(e),"getBadging",function(){g.Z.create("NewsHubBadgeResource",{}).callGet().then(function(n){var t=n.resource_response.data;e.setState({newsBadgeCount:t.news_hub_count,unreadMessageCount:t.conversations_unseen_count})})}),eT(eI(e),"onBlock",function(n,t){var a=e.props,l=a.showBlockUnblockModalContactRequest,r=a.updateContactRequestStatus,s=a.blockUser,o=a.blockUserWithToast,i=a.contactRequests;l&&l(null,null);var u=i[n]?i[n].sender:{};if(s&&u){var c=u.firstName||u.username?u.firstName||u.username||"":e.props.i18n._('User', 'mweb.inbox.tab.messages.block.user', 'Placeholder if there is no first name for blocking a user'),d=u.entityId?u.entityId:null;d&&(t?o({id:d,firstName:null!=c?c:"",conversationId:n}):s({id:null!=d?d:"",conversationId:n})),r(n,!0,!0)}}),eT(eI(e),"onUnblock",function(n){var t,a=e.props,l=a.showBlockUnblockModalContactRequest,r=a.updateContactRequestStatus,s=a.unblockUser,o=a.contactRequests,i=a.showToast;l&&l(null,null);var u=null===(t=o[n])||void 0===t?void 0:t.sender;if(s&&u){var c=u.entityId?u.entityId:null;c&&s(c),r(n,!0,!1);var d=u.firstName||u.username,p=(0,C.nk)(e.props.i18n._('You have unblocked {{ name }}', 'conversationsPage.mapDispatch.unblockUserToast', 'Toast confirming that you\'ve unblocked a user'),eO({name:d},b.tx)).join("");i(function(e){var n=e.hideToast;return(0,K.jsx)(_.ZP,{onHide:n,text:p})})}}),eT(eI(e),"onBlockUnblockModalCancel",function(){var n=e.props.showBlockUnblockModalContactRequest;n&&n(null,null)}),eT(eI(e),"onReport",function(n){var t,a,l,r=e.props,s=r.contactRequests,o=r.inbox,i=r.showToast,u=null===(t=o.blockModalContactRequest)||void 0===t?void 0:t.contactRequestId,c=u&&s[u]?null===(a=s[u])||void 0===a?void 0:null===(l=a.conversation)||void 0===l?void 0:l.entityId:void 0;g.Z.create("ConversationReportResource",{conversation_id:c,reason:n}).callCreate().then(function(){var n=e.props.i18n._('Thanks! Your feedback helps keep Pinterest safe.', 'ContactRequest.UserReportedToast', 'Confirmation toast after user is report');i(function(e){var t=e.hideToast;return(0,K.jsx)(_.ZP,{onHide:t,text:n})})},function(){});var d=e.props.i18n._('Thanks! Your feedback helps keep Pinterest safe.', 'conversationPage.UserReportedToast', 'Confirmation toast after user is report');i(function(e){var n=e.hideToast;return(0,K.jsx)(_.ZP,{onHide:n,text:d})})}),e}return t=[{key:"componentDidMount",value:function(){this.props.logContextEvent({event_type:7161,view_type:42,view_parameter:203}),this.getBadging()}},{key:"renderContactSuggestions",value:function(){var e=this.props,n=e.contactSuggestions,t=e.addConversation,a=e.viewerId,l=e.i18n,r=e.history,s=l._('Say hello \uD83D\uDE00', 'ConversationsPage.ContactSuggestions.defaultCopy', 'text under contact name that sugegest user to start a conversation');return n.length>0?(0,K.jsxs)(f.xu,{marginStart:4,marginTop:8,children:[(0,K.jsx)(f.xv,{size:"300",children:l._('Contacts', 'ConversationsPage.ContactSuggestions.header', 'header for the contacts section on inbox view')}),(0,K.jsx)(f.xu,{children:n.map(function(e,n){var l,o=(l=eA(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a&&e.id)){n.next=5;break}return n.next=3,t({user_ids:[a,e.id]});case 3:n.next=8;break;case 5:if(!(a&&"email"in e&&e.email)){n.next=8;break}return n.next=8,t({user_ids:[a],emails:[e.email]});case 8:case"end":return n.stop()}},n)})),function(){return l.apply(this,arguments)}),i="email"in e&&e.email?e.email:"full_name"in e&&e.full_name||"first_name"in e&&e.first_name||"";return i?(0,K.jsxs)(f.xu,{"data-test-id":"contact-conversation",display:"flex",marginTop:4,children:[(0,K.jsx)(f.iP,{fullWidth:!1,onTap:function(){"username"in e&&e.username&&r.push("/".concat(e.username,"/"))},children:(0,K.jsx)(f.xu,{display:"flex",flex:"none",height:48,marginEnd:4,width:48,children:(0,K.jsx)(y.qE,{name:i,src:"image_large_url"in e&&e.image_large_url||""})})}),(0,K.jsx)(f.iP,{onTap:function(){o()},children:(0,K.jsxs)(f.kC,{children:[(0,K.jsxs)(f.kC,{direction:"column",flex:"grow",justifyContent:"center",children:[(0,K.jsx)(f.xu,{marginBottom:1,children:(0,K.jsx)(f.xv,{lineClamp:1,children:i})}),(0,K.jsx)(f.xu,{children:(0,K.jsx)(f.xv,{color:"subtle",lineClamp:1,children:s})})]}),(0,K.jsx)(f.kC,{alignItems:"center",flex:"none",height:48,justifyContent:"center",width:48,children:(0,K.jsx)(f.JO,{accessibilityLabel:"icon",color:"default",icon:"arrow-forward",size:12})})]})},n)]}):null})})]}):null}},{key:"renderConversationItem",value:function(e){var n,t,a=this.props,l=a.clearMessageBadge,r=a.locale,s=a.viewerId,o=(null===(n=e.users)||void 0===n?void 0:n.filter(function(e){return e.entityId!==s}))||[],i=e.emails||[],u=o.length+i.length,c=o.map(function(e){var n,t,a;return{defaultDisplayName:null!==(n=e.firstName)&&void 0!==n?n:"",fullName:null!==(t=e.fullName||e.firstName)&&void 0!==t?t:"",src:e.isDefaultImage?"":null!==(a=e.imageLargeUrl)&&void 0!==a?a:void 0}}),d=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ew(e))){t&&(e=t);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==t.return||t.return()}finally{if(o)throw r}}}}(i);try{for(d.s();!(t=d.n()).done;){var p=t.value;c.push({defaultDisplayName:p,fullName:p,src:""})}}catch(e){d.e(e)}finally{d.f()}var g=u>=2?c.map(function(e){return e.defaultDisplayName}).join(", "):c[0].fullName,m=e.lastMessage,h=parseInt((null==m?void 0:m.createdMs)||"0",10),y=(0,Y.Z)(new Date(h),r),_=(e.unread||0)>0;return(0,K.jsx)(f.Tg,{href:"/conversation/".concat(e.entityId),onTap:function(){return l(e.entityId)},tapStyle:"none",children:(0,K.jsxs)(f.xu,{alignItems:"center","data-test-id":"conversation-list-item",direction:"row",display:"flex",marginTop:4,children:[(0,K.jsx)(f.xu,{display:"flex",flex:"none",height:48,marginEnd:4,width:48,children:(0,K.jsx)(eC.Z,{recipients:c})}),(0,K.jsxs)(f.kC,{direction:"column",flex:"grow",children:[(0,K.jsxs)(f.xu,{display:"flex",marginBottom:1,children:[(0,K.jsx)(f.kC,{flex:"grow",children:(0,K.jsx)(f.xv,{lineClamp:1,size:"300",weight:_?"bold":"normal",children:g})}),(0,K.jsx)(f.xu,{alignItems:"center",display:"flex",flex:"none",paddingX:2,children:(0,K.jsx)(f.xv,{align:"end",color:_?"default":"subtle",size:"100",children:y})})]}),(0,K.jsxs)(f.kC,{children:[(0,K.jsx)(f.kC,{alignItems:"center",flex:"grow",children:(0,K.jsx)(ev.Z,{conversation:e,viewerId:s})}),(0,K.jsx)(f.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"end",minWidth:40,paddingX:2,children:(0,K.jsx)(f.xu,{color:_?"primary":"transparent",height:8,rounding:"circle",width:8})})]})]})]})},e.entityId)}},{key:"render",value:function(){var e,n,t,a,l,r=this,s=this.props,o=s.contactRequests,i=s.inbox,c=s.shouldShowContactSuggestionsSection,d=s.graphQLRef,p=s.contactRequestsGraphQLRefetch,g=s.shouldShowPrivateInviteFlow,m=s.isUserUnder16,h=this.state,y=h.newsBadgeCount,_=h.unreadMessageCount,v=null==i?void 0:null===(e=i.blockModalContactRequest)||void 0===e?void 0:e.modalAction,b=null==i?void 0:null===(n=i.blockModalContactRequest)||void 0===n?void 0:n.contactRequestId,k=_>0?{href:"/inbox/",text:this.props.i18n._('Inbox', 'mweb.inbox.tab.messages.heading', 'Heading for messages tab'),indicator:"dot"}:{href:"/inbox/",text:this.props.i18n._('Inbox', 'mweb.inbox.tab.messages.heading', 'Heading for messages tab')},x=y>0?{href:"/notifications/",text:this.props.i18n._('Updates', 'mweb.inbox.tab.updates.heading', 'Heading for updates tab'),indicator:"dot"}:{href:"/notifications/",text:this.props.i18n._('Updates', 'mweb.inbox.tab.updates.heading', 'Heading for updates tab')};return(0,K.jsx)(f.xu,{"data-test-id":"conersation-page-container",children:(0,K.jsxs)(u.Fragment,{children:[(0,K.jsx)(ey.Z,{text:this.props.i18n._('Inbox', 'inbox.messagesPage.heading', 'Accessibility hidden heading for messages inbox')}),(0,K.jsx)(f.Le,{top:0,children:(0,K.jsx)(f.xu,{color:"default","data-test-id":"inbox-tabs",display:"flex",justifyContent:"center",width:"100%",children:(0,K.jsx)(e_.Z,{activeIndex:1,tabs:[x,k]})})}),(0,K.jsx)(eq,{input:d?{kind:"GraphQL",data:null}:{kind:"Legacy",data:null},children:function(e){var n=e.data,t=n.conversations,a=n.loadNext,l=n.isLoadingNext,s=n.hasNext,o=g&&m&&!c&&t&&0===t.length;return(0,K.jsxs)(u.Fragment,{children:[!o&&(0,K.jsx)(f.kC,{alignItems:"stretch",justifyContent:"center",children:(0,K.jsx)(f.xu,{maxWidth:488,paddingX:4,width:"100%",children:(0,K.jsx)(f.Tg,{href:"/inbox/compose/",tapStyle:"none",children:(0,K.jsxs)(f.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,K.jsx)(f.hU,{accessibilityLabel:r.props.i18n._('Compose new message', 'inbox.messagesPage.newMessage.icon.accessibilityLabel', 'Button to compose conversation'),bgColor:"red",icon:"compose",iconColor:"white",size:"lg"}),(0,K.jsx)(f.xu,{flex:"grow",marginStart:2,children:(0,K.jsx)(f.xv,{size:"300",weight:"bold",children:r.props.i18n._('New message', 'inbox.messagesPage.newMessage.label', 'Button to compose new conversation')})})]})})})}),(0,K.jsx)(f.kC,{alignItems:"center",direction:"column",children:(0,K.jsxs)(f.xu,{maxWidth:488,width:"100%",children:[(0,K.jsx)(f.xu,{children:(0,K.jsx)(eu,{contactRequestsGraphQLRefetch:p,graphQLRef:d})}),(0,K.jsx)(f.xu,{maxWidth:488,paddingX:2,width:"100%",children:t?(0,K.jsxs)(f.xu,{marginStart:2,children:[t.length>0&&(0,K.jsx)(f.xu,{marginTop:6,children:(0,K.jsx)(f.xv,{size:"300",children:r.props.i18n._('Messages', 'ConversationsPage.messagesSubHeader', 'subheader for messages section')})}),(0,K.jsx)(f.gr,{fetchMore:a,isAtEnd:!s,isFetching:l}),t.map(function(e){return(0,K.jsx)(f.xu,{children:r.renderConversationItem(e)},e.entityId)})]}):(0,K.jsx)(ej,{})}),(0,K.jsx)(f.xu,{children:c&&r.renderContactSuggestions()}),g&&(0,K.jsx)(ep,{inviteSource:"inbox_invite_friends",viewParameter:203})]})})]})}}),"block"===v&&b&&(null===(t=o[b])||void 0===t?void 0:t.sender)&&(0,K.jsx)(V,{contactRequest:{username:o[b].sender.username,entityId:o[b].sender.entityId,fullName:o[b].sender.fullName},handleBlock:function(){return r.onBlock(b,!0)},handleCancel:this.onBlockUnblockModalCancel}),"unblock"===v&&b&&(null===(a=o[b])||void 0===a?void 0:a.sender)&&(0,K.jsx)(W,{contactRequest:{username:o[b].sender.username,entityId:o[b].sender.entityId,fullName:o[b].sender.fullName},handleCancel:this.onBlockUnblockModalCancel,handleUnblock:function(){return r.onUnblock(b)}}),"report"===v&&b&&(null===(l=o[b])||void 0===l?void 0:l.sender)&&(0,K.jsx)(ef.Z,{handleBlock:function(){return r.onBlock(b)},handleCancel:this.onBlockUnblockModalCancel,handleReport:this.onReport,userToReport:{username:o[b].sender.username,firstName:o[b].sender.firstName,fullName:o[b].sender.fullName}})]})})}}],function(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eU(a.key),a)}}(l.prototype,t),Object.defineProperty(l,"prototype",{writable:!1}),l}(u.PureComponent),eN=void 0!==o?o:o=t(661549),eD=void 0!==i?i:i=t(38652),eM=(0,v.Z)({useGraphQLAdapter:function(){var e,n,t,a=(0,k.Z)(eN,{},{suspendOnRefetch:!1}),l=a.data,r=a.refetch,s=l.v3GetUserContactRequestsByUserQuery,o=((null==s?void 0:s.__typename)==="V3GetUserContactRequestsByUser"&&(null===(e=s.data)||void 0===e?void 0:e.__typename)==="V3GetUserContactRequestsByUserDataConnectionContainer"&&null!==(n=null===(t=s.data.connection)||void 0===t?void 0:t.edges)&&void 0!==n?n:[]).filter(Boolean).map(function(e){return null==e?void 0:e.node}).filter(Boolean),i=(0,d.useFragment)(eD,o),u={};return null==i||i.filter(Boolean).forEach(function(e){e&&(u[e.entityId]=e)}),{contactRequests:u,graphQLRef:i,refetch:r}},useLegacyAdapter:function(){var e=(0,c.v9)(function(e){return e.contactRequests}),n={};return Object.entries(e||{}).forEach(function(e){var t,a,l,r,s,o,i=function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,l,r,s,o=[],i=!0,u=!1;try{for(r=(t=t.call(e)).next;!(i=(a=r.call(t)).done)&&(o.push(a.value),2!==o.length);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw l}}return o}}(e,2)||ew(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=i[0],c=i[1];return n[u]={entityId:null!==(t=c.id)&&void 0!==t?t:"",sender:c.sender?{entityId:null!==(a=c.sender.id)&&void 0!==a?a:"",firstName:null!==(l=c.sender.first_name)&&void 0!==l?l:null,fullName:null!==(r=c.sender.full_name)&&void 0!==r?r:null,username:null!==(s=c.sender.username)&&void 0!==s?s:null}:null,conversation:c.conversation?{entityId:null!==(o=c.conversation.id)&&void 0!==o?o:""}:null}}),{contactRequests:n,graphQLRef:null,refetch:null}}}),eQ=function(){var e,n=(0,c.I0)(),t=(0,x.ZP)(),a=(0,R.F9)().showToast,l=(0,m.Z)(),r=(0,A.ZP)(),s=(0,j.F)().checkExperiment,o=(0,c.v9)(function(e){return e.inbox}),i=(0,S.B)().locale,u=(0,p.k6)(),d=(0,F.Z)(),f=d.isAuth,g=d.isLimitedLogin,y=d.id,v=d.isPrivateProfile,b=d.isUnder16,k=(0,w.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}).data,I=!!(k&&k.length>0),L=(0,em.Z)().clearMessageBadge,O=(0,eg.Z)(),T=(e=eA(regeneratorRuntime.mark(function e(n){var t,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(n);case 3:(t=e.sent)&&(l=t.id,u.push("/conversation/".concat(l))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(function(n){var t,a=n.hideToast;return(0,K.jsx)(_.ZP,{onHide:a,text:null!==(t=(0,h.Z)(e.t0,"message"))&&void 0!==t?t:""})});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(n){return e.apply(this,arguments)});if(!f)return(0,K.jsx)(p.l_,{to:"/"});if(g)return(0,K.jsx)(p.l_,{to:"/login"});if("desktop"===r)return(0,K.jsx)(p.l_,{to:"/"});var U=function(e){var t=e.id,a=e.conversationId;return n((0,ex.Ge)({id:t,blockSource:"message_request",blockContext:a,logContextEvent:l}))},E=function(e){var n=e.id,l=e.firstName;return U({id:n,conversationId:e.conversationId}).then(function(){a(function(e){var n=e.hideToast;return(0,K.jsx)(_.ZP,{onHide:n,text:(0,C.nk)(t._('You\'ve blocked {{ name }}', 'conversationsPage.mapDispatch.blockUserToast', 'Toast confirming that you\'ve blocked a user'),{name:l}).join(" ")})})})},z=f&&v;return(0,K.jsx)(P.Z,{children:(0,K.jsx)(eM,{input:s("graphql_migration_inbox_growth_web").anyEnabled?{kind:"GraphQL",data:null}:{kind:"Legacy",data:null},children:function(e){var r=e.data,s=r.contactRequests,c=r.graphQLRef,d=r.refetch;return(0,K.jsx)(eB,{addConversation:T,blockUser:U,blockUserWithToast:E,clearMessageBadge:L,contactRequests:s,contactRequestsGraphQLRefetch:d,contactSuggestions:k||[],graphQLRef:c,history:u,i18n:t,inbox:o,isUserUnder16:!!b,locale:i,logContextEvent:l,shouldShowContactSuggestionsSection:I,shouldShowPrivateInviteFlow:z,showBlockUnblockModalContactRequest:function(e,t){return n((0,ek.z)(e,t))},showToast:a,unblockUser:function(e){return n((0,ex.h2)(e,l))},updateContactRequestStatus:function(e,t,a){return n((0,eb.O)(e,t,a))},viewerId:y||""})}})})}},44280:function(e,n,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/inbox",function(){return t(368576).Z}])}},function(e){e.O(0,[97270,97949,15787,99317,74044,50289,32322,29081,77870,65272],function(){return e(e.s=44280)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/inbox-03d462f3b9bff1c7.js.map