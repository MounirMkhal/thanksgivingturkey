(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[81621,44724,9781,94700],{746377:function(e,t,n){var r={"./":[478255,9],"./CZ":[342666,9,42666],"./CZ.tsx":[342666,9,42666],"./DA":[76072,9,76072],"./DA.tsx":[76072,9,76072],"./DE":[975840,9,75840],"./DE.tsx":[975840,9,75840],"./ENUK":[297500,9,97500],"./ENUK.tsx":[297500,9,97500],"./ENUS":[183143,9,83143],"./ENUS.tsx":[183143,9,83143],"./ESAR":[942864,9,42864],"./ESAR.tsx":[942864,9,42864],"./ESES":[152225,9,52225],"./ESES.tsx":[152225,9,52225],"./ESMX":[127197,9,27197],"./ESMX.tsx":[127197,9,27197],"./FI":[445663,9,45663],"./FI.tsx":[445663,9,45663],"./FR":[859190,9,59190],"./FR.tsx":[859190,9,59190],"./GR":[110981,9,10981],"./GR.tsx":[110981,9,10981],"./HI":[331821,9,31821],"./HI.tsx":[331821,9,31821],"./HU":[599423,9,99423],"./HU.tsx":[599423,9,99423],"./ID":[404598,9,4598],"./ID.tsx":[404598,9,4598],"./IT":[495776,9,95776],"./IT.tsx":[495776,9,95776],"./JP":[67314,9,67314],"./JP.tsx":[67314,9,67314],"./KR":[898653,9,98653],"./KR.tsx":[898653,9,98653],"./MS":[407063,9,7063],"./MS.tsx":[407063,9,7063],"./NL":[576246,9,76246],"./NL.tsx":[576246,9,76246],"./NO":[707163,9,7163],"./NO.tsx":[707163,9,7163],"./PL":[453400,9,53400],"./PL.tsx":[453400,9,53400],"./PTBR":[206014,9,6014],"./PTBR.tsx":[206014,9,6014],"./PTPT":[465487,9,65487],"./PTPT.tsx":[465487,9,65487],"./RO":[13249,9,13249],"./RO.tsx":[13249,9,13249],"./RU":[578145,9,78145],"./RU.tsx":[578145,9,78145],"./SK":[920433,9,20433],"./SK.tsx":[920433,9,20433],"./SV":[599975,9,99975],"./SV.tsx":[599975,9,99975],"./TH":[320578,9,20578],"./TH.tsx":[320578,9,20578],"./TL":[673582,9,73582],"./TL.tsx":[673582,9,73582],"./TR":[628383,9,28383],"./TR.tsx":[628383,9,28383],"./UA":[944656,9,44656],"./UA.tsx":[944656,9,44656],"./VT":[996345,9,96345],"./VT.tsx":[996345,9,96345],"./ZHCN":[134225,9,34225],"./ZHCN.tsx":[134225,9,34225],"./ZHTW":[439357,9,33049],"./ZHTW.tsx":[439357,9,33049],"./index":[478255,9],"./index.tsx":[478255,9],"./localeToFilename":[23759,9],"./localeToFilename.ts":[23759,9],"./types":[200750,7,750],"./types.ts":[200750,7,750]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then(function(){return n.t(o,16|t[1])})}o.keys=function(){return Object.keys(r)},o.id=746377,e.exports=o},754318:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCanPerformAction_board",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],type:"Board",abstractKey:null};o.hash="416539a057718ff36ac5d9d06916c2d4",t.default=o},50165:function(e,t,n){"use strict";n.d(t,{$:function(){return b},r:function(){return y}});var r=n(282480),o=n(498490),i=n(989820),a=n(297728),c=n(730212),l=n(961754),u=n(770443);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,o.Z)("PinRep"),p=f.Provider,b=f.useHook;function y(e){var t=e.children,n=(0,c.B)().isAuthenticated,o=(0,a.F)().checkExperiment,d=(0,i.Ow)(1000069).experience,f=s((0,r.useState)(!0),2),b=f[0],y=f[1],h=s((0,r.useState)(!1),2),m=h[0],v=h[1],g=s((0,r.useState)(!1),2),_=g[0],P=g[1],j=s((0,r.useState)(null),2),x=j[0],w=j[1],S=s((0,r.useState)(null),2),O=S[0],E=S[1],A=(0,i.oS)(1000069),I=o("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}).anyEnabled,C=(0,l.Z)(n&&I?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,r.useEffect)(function(){if(!n){y(!1);return}d&&(!d||(null==d?void 0:d.experience_id)===500417&&null!=d&&d.display_data.hide_footer)?A.viewExperience(1000069,500417):y(!1),v(!0)},[d]);var T=(0,r.useMemo)(function(){return{hasMetSaveRequirementOnUseCaseFeed:_,hasSimplifiedPinGridExpLoaded:m,hidePinRepFooter:b,quickSaveBoardId:C,setHasMetSaveRequirementOnUseCaseFeed:P,setUseCaseFeedOriginalPinId:E,setUseCaseFeedRepinId:w,useCaseFeedOriginalPinId:O,useCaseFeedRepinId:x}},[_,m,b,C,P,E,w,O,x]);return(0,u.jsx)(p,{value:T,children:t})}},717307:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(297728),o=n(730212),i=n(410150);function a(){var e=(0,o.B)().isAuthenticated,t=(0,i.HG)(),n=(0,r.F)().checkExperiment,a=!1;return e&&t&&(a=n("dweb_grid_loading_state").anyEnabled),a}},550347:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(297949),o=n(144326),i=n(770443);function a(e){var t=e.children,n=e.onClick,a=e.isSelected,c=(0,o.ZP)(),l=a?c._('Drag and drop selected item', 'BulkEditPinWrapper.tapArea.selectedAccessibilityLabel', 'Label for selected item that can be dragged and dropped.'):c._('Drag and drop deselected item', 'BulkEditPinWrapper.tapArea.deselectedAccessibilityLabel', 'Label for deselected item that can be dragged and dropped.');return(0,i.jsxs)(r.xu,{position:"relative",children:[(0,i.jsx)(r.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,i.jsx)(r.iP,{accessibilityLabel:l,fullHeight:!0,fullWidth:!0,onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),n()},rounding:2})}),(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:t})]})}},992951:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};function o(e){var t=e.window,n=e.duration,o=e.run,i=r(),a=0,c=null,l=function e(){var l=r()-i,u=l-a;if(n===1/0)o(0,l,u);else{var s=l/n;if(s>=1){o(1,l,u);return}o(s,l,u)}a=l,c=t.requestAnimationFrame(e)};return{start:function(){c=t.requestAnimationFrame(l)},cancel:function(){c&&(t.cancelAnimationFrame(c),c=null)}}}},873725:function(e,t,n){"use strict";n.d(t,{P:function(){return l},Z:function(){return s}});var r,o=n(282480);n(711284);var i=n(265780),a=n(934397),c=n(47848),l=function(e){var t,n,r=e.action,o=e.viewer,c=e.board;return!!c&&((0,i.Z)(o,null===(t=c.owner)||void 0===t?void 0:t.entityId)||(0,a.Z)(c.collaboratedByMe,o)&&!!(null!==(n=c.collaboratorPermissions)&&void 0!==n&&n.includes(r)))},u=void 0!==r?r:r=n(754318);function s(e){var t,n,r=e.boardKey,i=(0,c.Z)(u,r),a=null!==(t=null==i?void 0:null===(n=i.owner)||void 0===n?void 0:n.entityId)&&void 0!==t?t:"",s=(0,o.useMemo)(function(){return null==i?void 0:i.collaboratorPermissions},[null==i?void 0:i.entityId]);return{canPerformAction:(0,o.useCallback)(function(e){return l({action:e.action,viewer:e.viewer,board:{collaboratedByMe:null==i?void 0:i.collaboratedByMe,collaboratorPermissions:s,owner:a?{entityId:a}:null}})},[null==i?void 0:i.collaboratedByMe,s,a])}}},700198:function(e,t,n){"use strict";var r=n(282480),o=n(102636);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,n,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=l(f);return e=t?Reflect.construct(n,arguments,l(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(c(e=d.call.apply(d,[this].concat(n))),"observer",null),u(c(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component);t.Z=d},993657:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(282480),o=n(297949),i=n(992951),a=n(272109),c=n(241716),l=n(770443);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=f(a);return e=t?Reflect.construct(n,arguments,f(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return p(d(e=r.call.apply(r,[this].concat(n))),"state",{visible:!1}),p(d(e),"setRef",function(t){e.element||(e.element=t,null==t||t.addEventListener("dragover",e.handleDragOver),null==t||t.addEventListener("dragleave",e.handleDragLeave))}),p(d(e),"handleDragOver",function(){var t=e.props.placement;if(!e.scrollAnimationManager){var n="top"===t?-1:1;e.scrollAnimationManager=(0,i.Z)({window:window,duration:1/0,run:function(e,t,r){window.scrollTo(0,window.scrollY+(t<500?.8:1.2000000000000002)*n*r)}}),e.scrollAnimationManager.start()}}),p(d(e),"handleDragLeave",function(){e.scrollAnimationManager&&e.scrollAnimationManager.cancel()}),p(d(e),"element",null),p(d(e),"visibleTimeout",null),e}return n=[{key:"componentDidMount",value:function(){var e=this;this.visibleTimeout=window.setTimeout(function(){return e.setState({visible:!0})},500)}},{key:"componentWillUnmount",value:function(){var e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.placement,r=this.state.visible;return(0,l.jsx)(o.xu,{bottom:"bottom"===n,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:r?"visible":"hidden"}},height:t,left:!0,position:"fixed",right:!0,top:"top"===n,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function h(e){var t=e.noStickyHeader?0:c.hu;return(0,l.jsx)(a.Z,{children:(0,l.jsx)(o.mh,{children:(0,l.jsxs)(o.xu,{children:[(0,l.jsx)(y,{height:120+t,placement:"top"}),(0,l.jsx)(y,{height:120,placement:"bottom"})]})})})}},584359:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(282480),o=n(422466),i=n(576271),a=n(770443);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"},d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(o);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.connectDragSource,o=t.connectDropTarget,i=t.isDragging,c=t.isDraggingInternal,l=t.isDropTargetOnly,u=o((0,a.jsx)("div",{ref:function(t){return e.targetEl=t},style:{opacity:i||c?0:1},children:n}));return l?u:r(u)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);t.Z=(0,i.compose)((0,o.GR)(function(e){return e.type},{hover:function(e,t,n){var r=e.index;(0,e.onDragHover)(r,function(e,t){var n=t.targetEl;if(!(n&&n instanceof HTMLElement))return null;var r=e.getClientOffset(),o=r.x,i=r.y,a=n.getBoundingClientRect();return{positionRelativeToCenter:{x:o-(a.left+a.right)/2,y:i-(a.top+a.bottom)/2},boundingBox:{width:a.width,height:a.height}}}(t,n))}},function(e){return{connectDropTarget:e.dropTarget()}}),(0,o.Ej)(function(e){return e.type},{beginDrag:function(e){var t=e.index;return(0,e.onDragBegin)(t),{index:t}},endDrag:function(e,t){return(0,e.onDragEnd)(t.didDrop())}},function(e,t){return{connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}}))(d)},65709:function(e,t,n){"use strict";var r=n(422466),o=n(576271),i=n(517159);t.Z=function(e){return function(t){return(0,o.compose)(i.Z,(0,r.GR)(e,{},function(e,t){return{connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}}))(t)}}},766546:function(e,t,n){"use strict";var r=n(282480);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(d,e);var t,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=c(d);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return l(a(e=s.call.apply(s,[this].concat(n))),"ref",(0,r.createRef)()),l(a(e),"observer",null),l(a(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}(d.prototype,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.Component);t.Z=s},836350:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(545007);function o(e){return(null==e?void 0:e[1000069])&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function i(){var e=(0,r.v9)(function(e){return e.experiences});return!!e&&o(e)}},98891:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){var o=function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o.splice(t,1)[0];return o.splice(n,0,i),o}n.d(t,{Z:function(){return o}})},573372:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(713211),o=n(937304);function i(e){var t=e.bubbleId,n=e.pinId,i=e.query,a=e.referringSource,c=e.storyCategory,l=e.storyId,u=e.title,s=[0,24,21,26].includes(c),d=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:l,top_pin_id:n}),f=s&&u?(0,r.x)({title:u,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return s?f:"/search/pins/".concat(d?"?"+d:"")}},78892:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(184309),o=/\{\s*(\w+)\s*\}/g;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t,n=e.args,i=e.format,a=(n||[]).reduce(function(e,t,n){return c(c({},e),{},l({},n,t.text))},{});return t=i||"",(0,r.Z)(o,t,a)}},509781:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(282480),o=n(297949),i=n(700198),a=n(136061),c=n(766546),l=n(297728),u=n(730212),s=n(655201),d=n(616949),f=(0,n(498490).Z)("timeSpentContext"),p=f.Provider,b=f.useMaybeHook,y=n(603667),h=n(66560),m=n(770443);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(l,e);var t,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(l);return e=t?Reflect.construct(n,arguments,x(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return j(e)}(this,e)});function l(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),w(j(t=a.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),w(j(t),"getContext",function(){var e=t.props,n=e.clientTrackingParams,r=e.component,o=e.element,i=e.objectId,a=e.timeSpentContext,c=e.view,l=e.viewParameter;return{view:c||(null==a?void 0:a.view),viewParameter:l||(null==a?void 0:a.viewParameter),component:r||(null==a?void 0:a.component),element:o,objectId:i||(null==a?void 0:a.objectId),clientTrackingParams:n||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),w(j(t),"getLoggerContext",function(){var e=_({},t.getContext());return delete e.getParentUuid,e}),w(j(t),"getParentId",function(){var e=t.props,n=e.timeSpentContext,r=e.shouldUseGrandparentId;if(void 0!==r&&r&&n&&n.getGrandparentUuid){var o=n.getGrandparentUuid();if(o)return o}return n&&n.getParentUuid?n.getParentUuid():void 0}),w(j(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),w(j(t),"getTimedPair",function(){return t.state.timedPair}),w(j(t),"setTimedPair",function(e,n){t.setState({timedPair:e},function(){n&&n()})}),w(j(t),"isRegistered",!1),w(j(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(j(t)),t.isRegistered=!0}),w(j(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(j(t)),t.isRegistered=!1)}),w(j(t),"handleVisibilityChange",function(e){var n=e[0].intersectionRatio,r=e[0].intersectionRect,o=r.bottom,i=r.left,a=r.right,c=r.top;n>0?t.registerComponent():0===n&&(0===o&&0===i&&0===a&&0===c?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new d.Z(t.getLoggerContext())},t}return n=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.intersectionObserverExpEnabled,a=e.intersectionObserverBoxHeight;return n?(0,m.jsx)(p,{value:this.getContext(),children:(0,m.jsx)(c.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:function(e){return(0,m.jsx)(o.xu,{ref:e,height:null!=a?a:"100%",children:r.Children.only(t)})}})}):(0,m.jsx)(p,{value:this.getContext(),children:(0,m.jsx)(i.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r.Children.only(t)})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}(l.prototype,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);function E(e){var t,n,o=(0,a.Hv)(),i=b(),c=(0,y.Z)(),s=(0,h.H0)(),d=(0,u.B)(),f=d.requestIdentifier,p=d.isAuthenticated,v=_({app_instance_id:(void 0===f?"":f).slice(0,8)},null!==(t=e.auxData)&&void 0!==t?t:{}),g=(0,l.F)().checkExperiment;if(p)switch(e.view){case 42:n=g("web_intersection_observer_migration_timespent_inbox_auth").anyEnabled;break;case 675:n=g("web_intersection_observer_migration_timespent_closeup_media_viewer_auth").anyEnabled;break;default:n=g("web_intersection_observer_migration_timespent_auth").anyEnabled}else n=g("web_intersection_observer_migration_timespent_unauth").anyEnabled;return(0,r.useEffect)(function(){null==c||c.setHistoryStackContext(o)},[o,c]),(0,r.useEffect)(function(){null==c||c.setPins(null!=s?s:{})},[s,c]),c?(0,m.jsx)(O,_(_({},e),{},{auxData:v,intersectionObserverExpEnabled:n,timeSpentContext:i,timeSpentManager:c,children:e.children})):e.children}E.displayName="TimeSpent";var A=E},616949:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r,o=n(453503),i=n(589701);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor(1e6*window.performance.now())}:function(){return 1e6*Date.now()},u=(Object.defineProperty(r=function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),c(this,"start",function(){return n.startTime=l(),n.startTime}),c(this,"end",function(){return n.endTime=l(),n.duration=n.startTime?n.endTime-n.startTime:null,n.duration});try{this.uuid=(0,o.Z)()}catch(e){this.uuid=(0,i.Z)()}t&&Object.assign(this,t)},"prototype",{writable:!1}),r);t.Z=u},386270:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(545007),o=[1000069,1000075],i={};function a(){var e;return e=(0,r.v9)(function(e){return e.experiences}),o.forEach(function(t){e[t]&&(void 0===i[t]||i[t].id!==e[t].id)&&(i[t]=e[t])}),i}},333171:function(e,t,n){"use strict";var r=n(383399),o=n(501912),i=n(801621);t.Z=function(){var e=(0,r.Z)(),t=(0,o.Z)();return(0,i.lJ)(e,t)}},646885:function(e,t,n){"use strict";var r=n(144326),o=n(770443);t.Z=function(){var e=(0,r.ZP)();return(0,o.jsx)("div",{className:"errorMessage",children:(0,o.jsx)("div",{className:"standaloneErrorPage",children:(0,o.jsx)("div",{children:e._('Whoops! We couldn\u2019t find that page.', ' - ', ' -- ')})})})}},195408:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(282480),o=n(297949),i=n(559028),a=n(144326),c=n(788388),l=n(750077),u=n(573372),s=n(205906),d=n(207630),f=n(383399),p=n(810655),b=n(770443);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=(0,r.lazy)(function(){return n.e(2033).then(n.bind(n,502033))});function v(e){var t=e.bubble,n=e.contextLogData,v=e.disableTabIndex,g=e.handleReport,_=e.height,P=e.imgSignature,j=e.isHovered,x=e.onClick,w=e.onMouseEnter,S=e.onMouseLeave,O=e.referringSource,E=e.searchBoxRenderStopwatch,A=e.showFlag,I=e.slotIndex,C=e.storyId,T=e.viewParameter,D=e.viewType,B=e.width,k=(0,a.ZP)(),Z=(0,f.Z)(),R=t.id,z=t.action,M=t.aux_fields,L=t.cover_images,F=t.dominant_colors,H=t.identifier_icon_type,U=t.title,N=t.story_category,K=t.curator,V=L&&L[0]&&(L[0]["280x280"]||L[0]["236x"]),G=(0,d.Z)(U&&U.format||"",U&&U.args||{}),W=F&&F.length?F[0]:"gray",q=(null==z?void 0:z.url)||(0,u.Z)({storyCategory:N,query:G,referringSource:O,bubbleId:R,storyId:C,title:U.format,pinId:null==M?void 0:M.image_pin_id});return(0,b.jsx)(c.F,{contextLogData:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({story_id:C},n),impressionAuxFields:{storyCategory:N,story_id:C},impressionType:"Article",loggingId:R,slotIndex:I,viewParameter:T,viewType:D,children:function(e){var t=e.impressionTrackerRef;return(0,b.jsx)(o.xu,{ref:t,children:(0,b.jsx)(p.Z,{backgroundColor:W,coverImage:V,disableTabIndex:v,height:_,id:R,isHovered:j,onClick:x,onMouseEnter:w,onMouseLeave:S,searchBoxRenderStopwatch:E,url:q,width:B,children:function(e){var t=e.isHovered;return(0,b.jsxs)(r.Fragment,{children:[K&&26!==N&&(0,b.jsx)(o.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,b.jsx)(i.qE,{name:K.full_name,outline:!0,size:"xs",src:K.image_small_url})}),H&&H!==s.J&&(0,b.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,b.jsx)(o.JO,{accessibilityLabel:k._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,s.Z)(H),size:12})}),(0,b.jsx)(o.xu,{alignItems:26===N?"end":"center","data-test-id":"discover-bubble",display:"flex",height:_,justifyContent:"center",padding:3,position:"absolute",top:!0,width:B||"100%",children:(0,b.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[_>200?(0,b.jsx)(o.X6,{align:"center",color:"light",size:"500",children:G}):(0,b.jsx)(o.xv,{align:"center",color:"light",weight:"bold",children:G}),K&&26===N&&(0,b.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,b.jsx)(o.xu,{marginEnd:2,children:(0,b.jsx)(i.qE,{name:K.full_name,outline:!0,size:"xs",src:K.image_small_url})}),(0,b.jsx)(o.xv,{color:"light",size:"100",children:K.full_name})]})]})}),Z.isAuth&&Z.isEmployee&&A?(0,b.jsx)(o.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,b.jsx)(l.Z,{children:(0,b.jsx)(m,{handleReport:g,imgSignature:P||"",isVisible:t})})}):null]})}})})}})}},810655:function(e,t,n){"use strict";n.d(t,{A:function(){return c},Z:function(){return l}});var r=n(282480),o=n(297949),i=n(770443);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l(e){var t,n,l,u=e.backgroundColor,s=e.children,d=e.coverImage,f=e.disableTabIndex,p=e.height,b=e.id,y=e.isHovered,h=e.onClick,m=e.onMouseDown,v=e.onMouseEnter,g=e.onMouseLeave,_=e.searchBoxRenderStopwatch,P=e.url,j=e.width,x=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=x[0],S=x[1],O=function(){v?v():S(!0)},E=function(){g?g():S(!1)},A=y||w,I=A?c.hoverOverlay:c.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:P,onBlur:E,onFocus:O,onMouseDown:m,onMouseEnter:O,onMouseLeave:E,onTap:function(){null==h||h(b)},rounding:4,tabIndex:f?-1:void 0,children:(0,i.jsx)(o.zd,{height:p,rounding:4,width:j||"100%",children:null!=d&&d.url?(0,i.jsxs)(o.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!==(n=d.height)&&void 0!==n?n:1,naturalWidth:null!==(l=d.width)&&void 0!==l?l:1,onLoad:function(){null==_||_.stop()},role:"presentation",src:d.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:I},height:"100%",width:"100%"}),"function"==typeof s?s({isHovered:A}):s]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},618989:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(297949),o=n(573706),i=n(679482),a=n(788388),c=n(78892),l=n(205906),u=n(115642),s=n(195408),d=n(770443);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=i.yF;function h(e){var t=e.contextLogData,n=e.bubbles,i=e.id,f=e.referringSource,p=e.slotIndex,h=e.storyType,m=e.title,v=e.titleIcon,g=e.viewType,_=e.viewParameter,P=(0,o.v)().logContextEvent,j=(0,u.x4)().closeupWithinMasonryEnabled,x=null==n?void 0:n.map(function(e){return e.type+":"+e.id}).join("|"),w=b(b({story_type:h},t),{},{content_ids:x});return(0,d.jsx)(a.F,{componentType:200,contextLogData:w,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:p,viewParameter:_,viewType:g,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsxs)(r.xu,{ref:t,children:[m&&(0,d.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof v&&v!==l.J&&(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,d.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,l.Z)(v),size:14})}),(0,d.jsx)(r.xv,{weight:"bold",children:(0,c.Z)(m)})]}),null==n?void 0:n.map(function(e,t){return(0,d.jsx)(r.xu,{flex:"none",paddingY:1,children:(0,d.jsx)(s.Z,{bubble:e,contextLogData:w,height:103,onClick:function(e){P({event_type:101,object_id_str:e,view_type:g,view_parameter:_,component:200,aux_data:w})},referringSource:f,slotIndex:t,storyId:i,viewParameter:_,viewType:g,width:j?"100%":y})},"bubble-".concat(e.id))})]})}})}},478255:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(282480),o=n(297949),i=n(144326),a=n(730212),c=n(950443),l=n(23759),u=n(770443);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t,d=e.height,f=e.onCtaDidLoad,p=e.width,b=(0,i.ZP)(),y=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=y[0],m=y[1],v=(0,a.B)().locale,g=(0,l.default)(v),_=function(e){m((0,r.lazy)(function(){return n(746377)("./".concat(e))}))};(0,r.useEffect)(function(){g&&"none"!==g&&_(g)},[g]),(0,r.useEffect)(function(){h&&f()},[h]);var P=b._('Open Pinterest app, then go to the search tab, then tap the camera icon located in the search bar to scan the Pincode', 'PincodeCTA.instruction', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label'),j=(0,u.jsx)(o.xv,{align:"center",children:P});return"none"===g?j:h?(0,u.jsx)(c.Z,{fallback:j,children:(0,u.jsx)(h,{height:d,title:P,width:p})}):(0,u.jsx)(o.$j,{accessibilityLabel:b._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},23759:function(e,t,n){"use strict";function r(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}n.r(t),n.d(t,{default:function(){return r}})},644170:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r,o,i,a=n(282480),c=n(297949),l=n(573706),u=n(144326);function s(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.ontimeout=n,r.onreadystatechange=function(){if(4===r.readyState){if(200!==r.status){n();return}var e=new FileReader;e.onloadend=function(){var r=e.result;"string"==typeof r?t(r.split(/,/)[1]):n()},e.readAsDataURL(r.response)}},r.open("GET",e,!0),r.timeout=3e4,r.responseType="blob",r.send()})}function d(e,t){return new Promise(function(n,r){var o=document.createElement("div");o.innerHTML=e.innerHTML,(function e(t,n){return t instanceof Element?t instanceof window.SVGImageElement?function(e,t){var n=e.href.baseVal;if(n.startsWith("data:"))return Promise.resolve();var r=t?t(n):n;return Promise.resolve(r).then(s).then(function(e){return"data:".concat(function(e){var t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(r),";base64,").concat(e)}).then(function(t){return new Promise(function(n,r){e.onerror=r,e.href.baseVal=t,window.requestAnimationFrame(n)})})}(t,n):Promise.all(Array.from(t.childNodes).map(function(t){return e(t,n)})):Promise.resolve(t)})(o,t).then(function(){var t=new Image;t.onload=function(){window.requestAnimationFrame(function(){return n(t)})},t.onerror=r;var i=o&&o.querySelector("svg");i&&(/^[0-9]+$/.test(i.getAttribute("width")||"")||i.setAttribute("width","".concat(e.scrollWidth)),/^[0-9]+$/.test(i.getAttribute("height")||"")||i.setAttribute("height","".concat(e.scrollHeight)));var a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(a.trim()))})})}var f=n(478255),p=n(770443);function b(e){var t=e.getThumbnailImageSrcSet,n=e.images,r=e.onTouch,o=(0,u.ZP)();return(0,p.jsx)(c.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(n).map(function(e,n){var i,a,l,u;return(0,p.jsx)(c.xu,{padding:1,children:(0,p.jsx)(c.st,{children:(0,p.jsx)(c.iP,{fullWidth:!1,onTap:function(){return r("logo"===e?"logo":n-1)},rounding:2,children:(0,p.jsx)(c.zd,{height:85,rounding:"circle",width:85,children:"logo"===e?(0,p.jsx)(c.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:85}):(0,p.jsx)(c.Ee,{alt:o._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:e.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(a=e.width)&&void 0!==a?a:1,src:null!==(l=e.url)&&void 0!==l?l:"",srcSet:t&&t(null!==(u=e.url)&&void 0!==u?u:"")})})})})},"logo"===e?e:e.url)})})}var y=n(961754),h=n(559656).x_d;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var S="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent((i=o||0,'\n  <svg xmlns="http://www.w3.org/2000/svg" width="'.concat(222,'" height="').concat(r||222,'" x="').concat(0,'" y="').concat(i,'" viewBox="').concat("0 0 222 222",'">\n    <path d="').concat("M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",'" fill="').concat(h,'" fill-rule="evenodd" />\n  </svg>')).trim()));function O(e,t,n){return'\n    <image id="image"\n      x="'.concat(100+("right"===t?300:0),'"\n      y="').concat(100+("bottom"===n?300:0),'"\n      width="').concat(600/("row"===t?1:2),'"\n      height="').concat(600/("column"===n?1:2),'"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="').concat(e,'"\n      preserveAspectRatio="xMidYMid slice"\n    />')}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=j(o);return e=t?Reflect.construct(n,arguments,j(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return x(P(e=r.call.apply(r,[this].concat(n))),"handleFetchChange",function(){var t=e.props,n=t.pincodeImageResource;(0,t.onFetchingChange)(n.isFetching)}),e}return n=[{key:"componentDidMount",value:function(){this.props.pincodeImageResource.isFetching||this.handleFetchChange()}},{key:"componentDidUpdate",value:function(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.imageUrls,o=t.size,i=t.pincodeImageResource,a=i.data,l=i.isLoaded;return(0,p.jsxs)(c.kC,{alignItems:"center",height:o,justifyContent:"center",width:o,children:[l&&!!a&&(0,p.jsx)("div",{className:n,dangerouslySetInnerHTML:{__html:(e=function(e){switch(e.length){case 0:case 1:return;case 2:return[O(e[0],"left","column"),O(e[1],"right","column")].join("");case 3:return[O(e[0],"left","column"),O(e[1],"right","top"),O(e[2],"right","bottom")].join("");default:return[O(e[0],"left","top"),O(e[1],"right","top"),O(e[2],"left","bottom"),O(e[3],"right","bottom")].join("")}}(r))?a.replace(/<image[^>]*>/,e):a},style:{width:o,height:o}}),(0,p.jsx)(c.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!a})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(a.Component);function A(e){var t=(0,u.ZP)(),n=(0,y.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||S}}});return(0,p.jsx)(E,g(g({},e),{},{i18n:t,pincodeImageResource:n}))}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L="pincodeMain",F="pincodeCTA",H=function(e,t){var n=document.createElement("canvas");n.width=3544,n.height=3544;var r=Math.round(.1*n.width),o=Math.round(.05*n.width),i=n.width-2*r,a=n.width-2*o,c=n.height-i,l=z(t.width/t.height>a/c?[a,a/t.width*t.height]:[c/t.height*t.width,c],2),u=l[0],s=l[1],d=n.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,n.width,n.height),d.drawImage(e,r,0,i,i),d.drawImage(t,(n.width-u)/2,i+(n.height-i-s)/2,u,s),n},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=k(o);return e=t?Reflect.construct(n,arguments,k(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return B(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return Z(B(e=r.call.apply(r,[this].concat(n))),"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),Z(B(e),"getCustomHeroImages",function(){var t=e.props,n=t.images,r=t.customizable,o=e.state.pickedImageIndex;if(!r)return n;var i="logo"!==o&&n[o];return i?[i]:[]}),Z(B(e),"normalizeUrl",function(t){return(e.props.getMainImageURL||function(e){return e})(t).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),Z(B(e),"handleFetchChange",function(t){e.setState({isFetchingPincodeImage:t})}),Z(B(e),"handleCancelButtonClick",function(){return e.setState({isPickingHeroImage:!1})}),Z(B(e),"handleEditButtonClick",function(){return e.setState({isPickingHeroImage:!0})}),Z(B(e),"handleSelectImage",function(t){return e.setState({isPickingHeroImage:!1,pickedImageIndex:t})}),Z(B(e),"downloadPincodeImage",function(){var t=B(e).previewNode,n=e.state,r=n.ctaIsLoaded,o=n.isFetchingPincodeImage,i=n.isDownloading;if(t&&r&&!o&&!i){var a=t.querySelector(".".concat(L)),c=t.querySelector(".".concat(F));if(a&&c){var l=e.props,u=l.getDownloadImageURL,s=l.id;(0,l.logContextEvent)({event_type:7078,component:13141,object_id_str:s}),e.setState({isDownloading:!0}),Promise.all([d(a,u),d(c)]).then(function(e){var t=z(e,2);return H(t[0],t[1])}).then(function(t){var n;return n="pincode_".concat(e.props.id,".png"),new Promise(function(e,r){new Promise(function(e,n){if(t.toBlob){t.toBlob(e);return}var r="";try{r=t.toDataURL("image/png")}catch(e){n()}for(var o=window.atob(r.split(",")[1]),i=o.length,a=new Uint8Array(i),c=0;c<i;c+=1)a[c]=o.charCodeAt(c);e(new window.Blob([a],{type:"image/png"}))}).then(function(e){return window.URL.createObjectURL(e)}).then(function(t){var r=document.createElement("a");r.download=n,r.href=t,r.style.display="none",window.document.body.appendChild(r),window.requestAnimationFrame(function(){r.addEventListener("click",function n(){window.requestAnimationFrame(function(){window.URL.revokeObjectURL(t),r.removeAttribute("href"),r.removeEventListener("click",n),window.document.body.removeChild(r),e()})}),r.click()})}).catch(r)})}).then(function(){e.setState({isDownloading:!1})}).catch(function(){e.setState({errorFlyoutIsOpen:!0})})}}}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.isLoadingImages,o=t.images,i=t.getThumbnailImageSrcSet,a=t.customizable,l=this.state,u=l.ctaIsLoaded,s=l.errorFlyoutIsOpen,d=l.isFetchingPincodeImage,y=l.isDownloading;return l.isPickingHeroImage?(0,p.jsx)(c.xu,{color:"default",padding:4,rounding:2,width:350,children:(0,p.jsxs)(c.xu,{children:[(0,p.jsx)(c.xu,{paddingY:1,children:(0,p.jsx)(c.X6,{lineClamp:1,size:"500",children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,p.jsx)(c.iz,{}),(0,p.jsx)(b,{getThumbnailImageSrcSet:i,images:o,onTouch:this.handleSelectImage}),(0,p.jsx)(c.xu,{padding:1,children:(0,p.jsx)(c.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker')})})]})}):(0,p.jsx)(c.xu,{color:"default",marginBottom:4,paddingX:4,rounding:2,width:350,children:(0,p.jsxs)(c.xu,{children:[(0,p.jsx)(c.xu,{ref:function(t){e.previewNode=t},children:(0,p.jsxs)(c.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[r?(0,p.jsx)(c.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,p.jsx)(c.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,p.jsx)(A,{className:L,id:n,imageUrls:this.getCustomHeroImages().map(function(t){var n;return e.normalizeUrl(null!==(n=t.url)&&void 0!==n?n:"")}),onFetchingChange:this.handleFetchChange,size:230}),(0,p.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,p.jsx)("div",{className:F,children:(0,p.jsx)(f.default,{height:78,onCtaDidLoad:function(){return e.setState({ctaIsLoaded:!0})},width:300})})})]})}),(0,p.jsxs)(c.xu,{marginTop:2,padding:1,children:[a&&o.length>0&&(0,p.jsx)(c.xu,{paddingY:1,children:(0,p.jsx)(c.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image')})}),u&&(0,p.jsxs)(c.xu,{paddingY:1,children:[(0,p.jsx)(c.xu,{ref:function(t){e.downloadButton=t},children:(0,p.jsx)(c.zx,{color:"red",disabled:r||d||y,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image')})}),s&&(0,p.jsx)(c.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:function(){return e.setState({errorFlyoutIsOpen:!1})},shouldFocus:!1,size:"sm",children:(0,p.jsx)(c.xu,{"data-test-id":"error-flyout-content",padding:3,children:(0,p.jsx)(c.qb,{title:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported'),type:"problem"})})})]})]})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(a.PureComponent);function N(e){var t=(0,l.v)().logContextEvent,n=(0,u.ZP)();return(0,p.jsx)(U,T(T({},e),{},{i18n:n,logContextEvent:t}))}},587586:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(282480),o=n(297949),i=n(573706),a=n(758339),c=n(144326),l=n(770443);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){var t=e.children,n=e.objectId,d=e.onHide,f=(0,i.v)().logContextEvent,p=(0,c.ZP)(),b={component:13141,object_id_str:n};return(0,r.useEffect)(function(){f({event_type:6359})},[n]),(0,l.jsx)(a.ZP,{accessibilityModalLabel:p._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:p._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:function(){d(),f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({event_type:6358},b))},size:"sm",children:(0,l.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:t})})}},719535:function(e,t,n){"use strict";n.d(t,{L:function(){return c},q:function(){return l}});var r=n(252071),o=n(119437),i=n(701842),a=n(403764);function c(e){return function(t){var n=e.inSelectAll,c=e.selectedPinIds,l=e.orbacSubjectId,u=e.source,s=u.boardId,d=u.sectionId;return t((0,o.xQ)(s)),t((0,i.EX)({feedId:d||s,feedType:d?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,inverseSelection:n,itemIds:c,itemType:"pin"})),r.Z.create(n?"BulkEditSelectAllResource":"BulkEditResource",{board_id:s,section_id:d,pin_ids:c,orbac_subject_id:l}).callDelete()}}var l=function(e){var t=e.pinId,n=e.boardId,o=e.boardSectionId,i=e.clientTrackingParams;return function(e,a){var c=r.Z.create("PinResource",{id:t,client_tracking_params:i}).callDelete();return e({type:"PIN_DELETE",payload:{pinId:t,boardId:n,boardSectionId:o,userId:a().session.userId}}),c}}},707709:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},o:function(){return d}});var r=n(282480),o=n(297949),i=n(488792),a=n(803611),c=n(679482),l=n(144326),u=n(383399),s=n(770443),d="AddPinRep";function f(e){var t=e.ctaText,n=e.handleClick,d=e.height,f=e.iconSize,p=e.textSize,b=e.component,y=(0,i.Z)(),h=(0,l.ZP)(),m=(0,u.Z)(),v=(0,a.Z)();return(0,r.useEffect)(function(){y({event_type:120,component:null!=b?b:0,element:10643})},[y,b]),(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.Tg,{href:"/pin-builder/",onTap:function(){if(v){v();return}m.isPartner&&y({event_type:101,component:0,element:10643}),n&&n()},children:(0,s.jsxs)(o.st,{children:[(0,s.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:d||c.yF,justifyContent:"center",rounding:2,width:d||void 0,children:(0,s.jsx)(o.xu,{color:"default",height:f||40,rounding:"circle",width:f||40,children:(0,s.jsx)(o.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:f||40})})}),(0,s.jsx)(o.xu,{padding:2,children:(0,s.jsx)(o.xv,{color:"subtle",size:p||"300",weight:"bold",children:t||h._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},790169:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(545007),o=n(618989),i=n(707709),a=n(297949),c=n(573706),l=n(609073),u=n(969119),s=n(66560),d=n(123321),f=n(770443);function p(e){var t,n=e.storyId,o=(0,r.v9)(function(e){return e.desktopStories[n]}),i=(null==o?void 0:o.story_type)==="shop_tool_saved_products_module"?o:void 0,p=(0,c.v)().logContextEvent,b=(0,s.S6)(),y=(0,d.t)();return((0,u.Z)(function(){if(i){var e;p({event_type:13,component:15162,view_parameter:3069,view_type:5,aux_data:{board_id:null===(e=i.aux_fields)||void 0===e?void 0:e.board_id,board_session_id:y,module_id:i.id}})}}),i)?(i.objects=null==i?void 0:null===(t=i.objects)||void 0===t?void 0:t.map(function(e){return"pin"===e.type&&b(e.id||"")||e}),(0,f.jsx)(a.xu,{marginTop:0,children:(0,f.jsx)(l.default,{component:15162,gutterWidth:8,story:i,storyKey:{type:"deprecated",data:i},styleOverrides:{justifyContent:"start"},surface:"BoardShoppingModule",view:5,viewParameter:3069})})):null}var b=n(615209);function y(e){var t=e.story,n=t.action,r=n.text,o=n.url,i=t.custom_properties,c=i.image,l=i.image_alt;return(0,f.jsxs)(a.xu,{position:"relative",children:[(0,f.jsx)(a.zd,{height:285,rounding:4,width:228,children:(0,f.jsx)(a.Ee,{alt:l,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:c})}),(0,f.jsx)(a.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:228,children:(0,f.jsx)(a.ZP,{color:"white",fullWidth:!0,href:o,text:r})})]})}function h(e){var t=(0,r.v9)(function(t){return t.desktopStories[e.storyId]});if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,f.jsx)(o.default,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,f.jsx)(y,{story:t});case"add_pin":return(0,f.jsx)(i.Z,{});case"board_shop_tool_module":return e.inBoardOrganizationMode?null:(0,f.jsx)(b.Z,{storyId:e.storyId});case"shop_tool_saved_products_module":return(0,f.jsx)(p,{storyId:e.storyId});default:return null}}},776688:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,o=n(282480),i=n(297949),a=n(873725),c=n(640498),l=n(573706),u=n(989820),s=n(144326),d=n(383399),f=n(501912),p=n(801621),b=n(66560);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n){var r;return(r=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===y(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(h(r={},c.ZP.BulkAction.MOVE,401),h(r,c.ZP.BulkAction.COPY,402),h(r,c.ZP.BulkAction.DELETE,403),h(r,c.ZP.BulkAction.CREATE_SECTION,12061),r),v=n(770443);function g(e){var t=e.inSelectAll,n=e.onShowBulkEditBoardPicker,r=e.selectedPinCount,y=e.board,h=e.selectedPinIds,g=(0,l.v)().logContextEvent,_=(0,s.ZP)(),P=(0,d.Z)(),j=(0,b.S6)(),x=(0,f.Z)(),w=function(e){var t,n;return!!(null!==(t=j(e))&&void 0!==t&&null!==(n=t.access)&&void 0!==n&&n.includes("write"))},S=(0,a.Z)({boardKey:{type:"deprecated",data:y}}).canPerformAction,O=!(S({action:5,viewer:P})||(0,p.KY)(P,y,x))&&!!h.find(w),E=!(S({action:2,viewer:P})||(0,p.KY)(P,y,x))&&!!h.find(w),A=(0,o.useRef)(),I=(0,o.useRef)(),C=(0,o.useRef)(),T=function(e){var t=m[e];t&&g({event_type:101,component:69,element:t}),n(e)},D=0===r||!t&&r>1e3,B={MOVE:_._('Move Pins', 'BoardPage.FloatingActionBar.MoveButton', 'button triggering a modal to move Pins across boards'),CREATE_SECTION:_._('Create a Section', 'BoardPage.FloatingActionBar.CreateSectionButton', 'button triggering a modal to create a new board section'),DELETE:_._('Delete Pins', 'BoardPage.ActionBar.DeleteButton', 'button triggering a modal to delete Pins')},k={MOVE:_._('Move', 'BoardPage.FloatingActionBar.MoveHoverText', 'Hover text describing Move button'),CREATE_SECTION:_._('Create section', 'BoardPage.FloatingActionBar.CreateSectionHoverText', 'Hover text describing Create Section button'),DELETE:_._('Delete', 'BoardPage.FloatingActionBar.DeleteHoverText', 'Hover text describing Delete button')};return(0,v.jsxs)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{left:"50%",right:"50%"}},marginBottom:10,position:"fixed",children:[(0,v.jsxs)(i.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,v.jsx)(i.xG,{ref:A,accessibilityLabel:B.MOVE,accessibilityPopupRole:"dialog",disabled:D||E,icon:"move-pin",onClick:function(){return T(c.ZP.BulkAction.MOVE)},tooltip:{text:k.MOVE,idealDirection:"up"}}),(0,v.jsx)(i.xG,{ref:I,accessibilityLabel:B.CREATE_SECTION,accessibilityPopupRole:"dialog",disabled:D||E,icon:"add-section",onClick:function(){return T(c.ZP.BulkAction.CREATE_SECTION)},tooltip:{text:k.CREATE_SECTION,idealDirection:"up"}}),(0,v.jsx)(i.xG,{ref:C,accessibilityLabel:B.DELETE,accessibilityPopupRole:"dialog",disabled:D||O,icon:"trash-can",onClick:function(){return T(c.ZP.BulkAction.DELETE)},tooltip:{text:k.DELETE,idealDirection:"up"}})]}),I&&!D&&(0,v.jsx)(u.Qp,{anchor:I.current,experienceIds:[502733],idealDirection:"up",placementId:1000326,showCaret:!0})]})}},806382:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(282480),o=n(950443),i=n(961754),a=n(644170),c=n(770443),l="474x",u=function(e){return function(t){return t.replace(/pinimg\.com\/\d+x\d*\//,"pinimg.com/".concat(e,"/"))}},s=function(e){return["236x",l,"736x"].map(function(t,n){return"".concat(u(t)(e)," ").concat(n+1,"x")}).join(", ")};function d(e){var t=e.boardId,n=e.customizable,r=(0,i.Z)({name:"BoardFeedResource",options:{board_id:t,field_set_key:"images_only_item",filter_section_pins:!1,page_size:n?60:4}}),o=!r.isLoaded,d=(r.data||[]).filter(function(e){return"pin"===e.type}).map(function(e){return e.images["236x"]});return(0,c.jsx)(a.Z,{customizable:n,getDownloadImageURL:u("1200x"),getMainImageURL:u(l),getThumbnailImageSrcSet:s,id:t,images:d,isLoadingImages:o})}var f=n(587586),p=n(995544),b=(0,r.lazy)(function(){return Promise.all([n.e(36075),n.e(36060),n.e(96988),n.e(52736)]).then(n.bind(n,896988))}),y=(0,r.lazy)(function(){return n.e(23539).then(n.bind(n,623539))}),h=(0,r.lazy)(function(){return n.e(50120).then(n.bind(n,350120))}),m=(0,r.lazy)(function(){return Promise.all([n.e(62315),n.e(24452)]).then(n.bind(n,930619))}),v=(0,r.lazy)(function(){return n.e(74053).then(n.bind(n,974053))}),g=(0,r.lazy)(function(){return n.e(23451).then(n.bind(n,823451))}),_=(0,r.lazy)(function(){return n.e(96812).then(n.bind(n,696812))}),P=(0,r.lazy)(function(){return n.e(29023).then(n.bind(n,629023))}),j=(0,r.lazy)(function(){return Promise.all([n.e(76893),n.e(82098)]).then(n.bind(n,82098))}),x=(0,r.lazy)(function(){return n.e(29260).then(n.bind(n,829260))}),w=(0,r.lazy)(function(){return Promise.all([n.e(76893),n.e(41543)]).then(n.bind(n,841543))}),S=(0,r.lazy)(function(){return n.e(44792).then(n.bind(n,544792))}),O=(0,r.lazy)(function(){return n.e(34902).then(n.bind(n,634902))});function E(e){var t,n,r=e.actions,i=e.board,a=e.boardSection,l=e.bulkEditSelectedPins,u=e.currentModal,s=e.groupPinsData,E=e.inSelectAll,A=e.onClearModal,I=e.mergeConfirmationModalProps,C=r.completeCreateSectionAction,T=r.completeMoveAction,D=r.onBoardArchiveChange,B=r.onBoardDelete,k=r.onBoardLeave,Z=r.onBoardSectionDelete,R=r.onBoardSectionSave,z=r.onConfirmMergeSection,M=r.onCopyPinsToBoard,L=r.onDeletePins,F=r.onBoardMerge;switch(u){case p.s.boardArchiveConfirmation:return D?(0,c.jsx)(o.Z,{children:(0,c.jsx)(g,{board:i,onClose:A,onConfirm:D,shouldArchive:!0})}):null;case p.s.boardUnarchiveConfirmation:return D?(0,c.jsx)(o.Z,{children:(0,c.jsx)(g,{board:i,onClose:A,onConfirm:D,shouldArchive:!1})}):null;case p.s.boardEdit:return(0,c.jsx)(o.Z,{children:(0,c.jsx)(m,{boardId:i.id,onBoardDelete:B,onBoardLeave:k,onClose:A})});case p.s.bulkDelete:return L?(0,c.jsx)(o.Z,{children:(0,c.jsx)(P,{onClearModal:A,onCompleteBulkDelete:L,pinCountToDelete:l&&l.length||0})}):null;case p.s.bulkCopy:return M?(0,c.jsx)(o.Z,{children:(0,c.jsx)(j,{currentBoardId:i.id,onClearModal:A,onCopyToBoard:M,pinCountToCopy:l&&l.length||0})}):null;case p.s.collaboratorsAndPermissions:return(0,c.jsx)(o.Z,{children:(0,c.jsx)(b,{board:i,onDismiss:A})});case p.s.editSection:return a?(0,c.jsx)(o.Z,{children:(0,c.jsx)(w,{board:i,boardSection:a,onClearModal:A,onDeleteSection:Z,onSaveSection:R})}):null;case p.s.mergeBoard:return F?(0,c.jsx)(o.Z,{children:(0,c.jsx)(v,{onCancel:A,onSubmit:F,sourceBoardId:i.id})}):null;case p.s.createSection:case p.s.moveSection:return!!l&&!!T&&(0,c.jsx)(o.Z,{children:(0,c.jsx)(x,{board:i,boardSection:a,inSelectAll:!!E,onClearModal:A,onCompleteMove:T,selectedPinIds:l,showCreateOnly:u===p.s.createSection})});case p.s.sectionMergeConfirm:return I&&z?(0,c.jsx)(o.Z,{children:(0,c.jsx)(S,{onCancel:A,onConfirm:z,source:I.source,target:I.target})}):null;case p.s.followers:return(0,c.jsx)(o.Z,{children:(0,c.jsx)(_,{boardId:i.id,followersCount:null!==(t=i.follower_count)&&void 0!==t?t:0,onDismiss:A})});case p.s.pincode:return(0,c.jsx)(f.Z,{objectId:i.id,onHide:A,children:(0,c.jsx)(d,{boardId:i.id,customizable:!!(null!==(n=i.owner)&&void 0!==n&&n.is_partner)})});case p.s.jumpstartBoard:return(0,c.jsx)(o.Z,{children:(0,c.jsx)(y,{board:i,onDismiss:A})});case p.s.simpleCreateSection:return C?(0,c.jsx)(o.Z,{children:(0,c.jsx)(h,{onClose:A,onSectionCreate:C,selectedBoard:i})}):null;case p.s.groupPins:return(0,c.jsx)(o.Z,{children:(0,c.jsx)(O,{boardId:i.id,clusterId:null==s?void 0:s.clusterId,onDismiss:A,suggestedSectionTitle:(null==s?void 0:s.suggestedSectionName)||""})});default:return null}}},995544:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var r={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},76675:function(e,t,n){"use strict";n.d(t,{o:function(){return s},u:function(){return d}});var r,o,i=n(640498),a=n(785020),c=n(995544);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){var r;return(r=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(u(r={},i.ZP.BulkAction.DELETE,c.s.bulkDelete),u(r,i.ZP.BulkAction.MOVE,c.s.moveSection),u(r,i.ZP.BulkAction.COPY,c.s.bulkCopy),u(r,i.ZP.BulkAction.CREATE_SECTION,c.s.createSection),r),d=(u(o={},i.ZP.BulkAction.DELETE,function(e){return a.Z.showError(e._('Select the Pins you want to delete.', 'bulkEditActionMaps.DeleteActionError', 'Bulk editing error'))}),u(o,i.ZP.BulkAction.MOVE,function(e){return a.Z.showError(e._('Select the Pins you want to move.', 'bulkEditActionMaps.MoveBoardPickerError', 'Bulk editing error'))}),u(o,i.ZP.BulkAction.COPY,function(e){return a.Z.showError(e._('Select the Pins you want to copy.', 'bulkEditActionMaps.CopyBoardPickerError', 'Bulk editing error'))}),o)},162629:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(640498),o=n(240760);function i(e,t,n,i,a){var c="";return e===r.ZP.BulkAction.DELETE?c=1===t?n._('Got it! Hang tight while we delete this Pin...', 'getBulkActionToastText.BulkDeleteToast', 'Toast message for bulk pins delete.'):n._('Got it! Hang tight while we delete all those Pins...', 'getBulkActionToastText.BulkDeleteToastPlural', 'Toast message for bulk pins delete.'):e===r.ZP.BulkAction.COPY?c=1===t?n._('Got it! Hang tight while we copy this Pin...', 'getBulkActionToastText.BulkCopyToast', 'Toast message for bulk pins copy.'):n._('Got it! Hang tight while we copy all those Pins...', 'getBulkActionToastText.BulkCopyToastPlural', 'Toast message for bulk pins copy.'):a&&(c=i?n._('Got it! Hang tight while we move all those Pins...', 'getBulkActionToastText.MovePinsToast', 'Toast message for bulk pins move.'):(0,o.nk)(n._('Moved to {{sectionName}}', 'getBulkActionToastText.MovePinsToSectionToast', 'Toast for successfully moving pins to a section within a board'),{sectionName:a.title}).join("")),c}},609914:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(265780);function o(e){var t,n=e.board,o=e.viewer;return(0,r.Z)(o,null===(t=n.owner)||void 0===t?void 0:t.id)?3069:3070}},287387:function(e,t,n){"use strict";n.d(t,{Z:function(){return el}});var r=n(282480),o=n(545007),i=n(297949),a=n(717307),c=n(50165),l=n(550347),u=n(584359),s=n(836350),d=n(682661),f=n(66560),p=n(753652),b=function(e){return null===e},y=function(e){return e?164:5},h=function(e){return"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type)},m=function(e,t){return e+(e>=t?1:0)},v=(0,p.Q6)(function(e){return e}),g=n(553901),_=n(770443);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){var t=e.allowReordering,n=e.auxData,o=e.boardSectionId,i=e.gridItem,a=e.handlePinDragBegin,c=e.handlePinDragEnd,p=e.handlePinDragHover,b=e.index,h=e.isEggsUi,m=e.isShoppingAffordancesExp,v=e.lfvExperiences,P=e.onBulkEditPinClick,j=e.source,w=e.target,S=e.viewParameter,O=i.inBulkEditMode,E=i.isCollaborator,A=i.isGroupBoard,I=i.isOwnBoard,C=i.isSelected,T=i.itemKey.id,D={pinId:T,duploQueryRef:null,isShoppingAffordancesExp:m,imageOnlyOption:!I&&(0,s.Z)(v)?"image-only":"default",attributionOption:A?"show":"hide",pinImageCrop:"none",surface:O?"BulkEditMode":"BaseBoardPinGrid",slotIndex:b,viewParameter:S,viewType:y(o),auxData:n},B=(0,f.S6)()(T);if(!I&&!E)return h&&B?(0,_.jsx)(g.Z,{eventContext:{viewType:5,viewParameter:S,element:14583},isEggsUi:!0,pinKey:{type:"deprecated",data:B},children:function(e){var t=e.savedInfo;return B?(0,_.jsx)(r.Fragment,{children:(0,_.jsx)(d.ZP,x(x({},D),{},{isEggsUi:h,saveButtonOptions:{savedInfo:x(x({},t),{},{pinId:T}),type:"inline"}}))}):null}}):(0,_.jsx)(d.ZP,x({},D));var k="no-selection";O&&(k=C?"selected":"deselected");var Z=(0,_.jsx)(d.ZP,x(x({},D),{},{disableHover:-1!==j||O,selectionState:k}));return O&&(Z=(0,_.jsx)(l.Z,{isSelected:C,onClick:function(){return P(T)},children:Z})),t&&(Z=(0,_.jsx)(u.Z,{index:b,isDragging:w===b,onDragBegin:a,onDragEnd:c,onDragHover:p,type:u.y.Pin,children:Z})),Z}var S=n(573706),O=n(993657),E=n(989820),A=n(400416),I=n(776919),C=n(587435),T=n(679482),D=n(144326),B=n(297728),k=n(829413),Z=n(98891),R=n(386270),z=n(333171),M=n(549799);function L(e){var t=e.isSection,n=(0,D.ZP)(),r=t?n._('There aren\u2019t any Pins in this section yet', 'EmptyBoard.EmptyText.section', 'Statement that there are no pins in the section'):n._('There aren\u2019t any Pins on this board yet', 'EmptyBoard.EmptyText.board', 'Statement that there are no pins on the board');return(0,_.jsx)(M.Z,{children:(0,_.jsx)(i.xu,{"data-test-id":"empty-text",paddingY:8,children:(0,_.jsx)(i.xv,{color:"default",size:"300",children:r})})})}function F(e){var t=e.hasSections,n=e.isSection;return(0,_.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!n&&t?null:(0,_.jsx)(L,{isSection:n})})}var H=n(605810),U=n(119437),N=n(508629),K=n(701842),V=n(403764),G=n(790169);function W(e){var t=e.boardSectionId,n=e.gridItem,r=e.index,o=e.inBoardOrganizationMode,a=e.paddingBottom,c=e.renderPinItem,l=e.viewParameter,u=n.itemKey,s=null;switch(u.type){case"story":s=(0,_.jsx)(G.Z,{inBoardOrganizationMode:o,slot:r,storyId:u.id,viewParameter:l,viewType:y(t)});break;case"pin":s=(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:a}},children:c(n,r)});break;default:s=null}return(0,_.jsx)(i.xu,{children:s},"".concat(u.type,":").concat(u.id))}var q=(0,n(65709).Z)(u.y.Pin)(function(e){var t=e.allowReordering,n=e.children,r=e.connectDropTarget,o=e.index,i=e.isDragWithinBounds;return t&&r?r((0,_.jsx)("div",{style:{opacity:-1===o||i?1:.5},children:n})):n});function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){eo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Q(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function en(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e,t,n){return(t=ei(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(a,e);var t,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=er(a);return e=t?Reflect.construct(n,arguments,er(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return en(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eo(en(e=o.call.apply(o,[this].concat(n))),"state",{reorderSource:-1,reorderTarget:-1}),eo(en(e),"masonryRef",{current:null}),eo(en(e),"handlePinAdded",function(t){var n=e.props,r=n.board,o=n.boardSectionId,i=n.dispatch;t===r.id&&(i((0,U.xQ)(r.id)),o&&i((0,N.Z)(o)))}),eo(en(e),"handlePinDragBegin",function(t){return e.setState({reorderSource:t})}),eo(en(e),"handlePinDragHover",function(t){t!==e.state.reorderTarget&&e.setState({reorderTarget:t})}),eo(en(e),"handlePinDragEnd",function(t){var n=e.props,r=n.board,o=n.boardSectionId,i=n.dispatch,a=n.feed,c=n.viewParameter,l=n.orbacSubjectId,u=e.state,s=u.reorderSource,d=u.reorderTarget;if(a&&t&&-1!==d&&-1!==s&&d!==s){var f,p=e.hiddenItemIndex,b=function(e){if(Array.isArray(e))return e}(f=-1===p?[s,d]:[m(s,p),m(d,p)])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(f,2)||Q(f,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=b[0],v=b[1],g=(0,Z.Z)(a,h,v),_=a[h].id;i((0,K._f)({feedType:o?V.Z.BOARD_SECTION_PINS:V.Z.BOARDFEED,feedId:o||r.id,itemType:"pin",targetItemId:a[v].id,sourceItemId:a[h].id}));var P=g.filter(function(e){return"pin"===e.type}).map(function(e){return e.id}),j=P.indexOf(_),x=j-1,w=j+1,S={pin:_};x>=0&&x<P.length&&(S=X(X({},S),{},{before_pin:P[x]})),w>=0&&w<P.length&&(S=X(X({},S),{},{after_pin:P[w]})),l&&(S=X(X({},S),{},{orbac_subject_id:l})),(0,A.Z)({url:"/v3/boards/".concat(r.id,"/reorder_pin/"),method:"POST",data:S}).then(function(){return e.props.logContextEvent({event_type:7122,object_id_str:_,view_type:y(o),view_parameter:c})})}e.setState({reorderSource:-1,reorderTarget:-1})}),eo(en(e),"handleFetchMore",function(){var t=e.props.resource,n=t.fetchMore,r=t.isAtEnd,o=t.isFetching;r||o||n()}),eo(en(e),"renderPinItem",function(t,n){var r=e.props,o=r.board,i=r.boardSectionId,a=r.isEggsUi,c=r.isShoppingAffordancesExp,l=r.lfvExperiences,u=r.onBulkEditPinClick,s=r.viewer,d=r.viewParameter,f=e.state,p=f.reorderSource,b=f.reorderTarget,y={board_id:o.id,board_pin_count:o.pin_count};return(0,_.jsx)(w,{allowReordering:e.allowReordering,auxData:y,boardSectionId:i,gridItem:t,handlePinDragBegin:e.handlePinDragBegin,handlePinDragEnd:e.handlePinDragEnd,handlePinDragHover:e.handlePinDragHover,index:n,isEggsUi:a,isShoppingAffordancesExp:c,lfvExperiences:l,onBulkEditPinClick:u,source:p,target:b,viewer:s,viewParameter:d})}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.feed,n=e.resource,r=n.isFetching,o=n.refresh;b(t)&&!r&&o()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.feed,r=t.resource,o=r.isFetching,i=r.refresh;!b(n)||b(e.feed)||o||i()}},{key:"allowReordering",get:function(){var e=this.props,t=e.board.collaborated_by_me,n=e.isOwnBoard;return!e.isPinGridSorted&&(n||void 0!==t&&t)}},{key:"hiddenItemIndex",get:function(){var e=this.props,t=e.denseViewSelected,n=e.feed;return t?(n||[]).findIndex(h):-1}},{key:"render",value:function(){var e=this,t=this.props,n=t.bulkEditSelectedPins,o=t.board,a=t.boardSectionId,c=t.boardShopModuleId,l=t.desktopStories,u=t.featuredBoardStoryId,s=t.feed,d=t.feedStoryId,f=t.footerStoryId,p=t.denseViewSelected,b=t.hasSimplifiedPinGridExpLoaded,y=t.inBoardOrganizationMode,h=t.inFluidGridExp,m=t.inSectionOrganizationMode,g=t.isDragWithinBounds,P=t.isInGridLoadingStateExp,j=t.inSelectAll,x=t.renderFeaturedBoardsStory,w=t.renderFooterStory,S=t.renderMoreIdeas,E=t.renderBoardShopModule,A=t.boardShopModuleIndex,C=t.resource,D=C.isAtEnd,B=C.isFetching,R=C.refresh,z=C.isLoaded,M=t.isOwnBoard,L=t.refreshFilteredFeed,U=o.access,N=o.collaborated_by_me,K=void 0!==N&&N,V=o.collaborator_count,G=o.section_count,$=this.state,J=$.reorderSource,Q=$.reorderTarget;if((!s||!s.find(function(e){return"pin"===e.type}))&&!P)return B?(0,_.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0}):(z&&s&&0===s.length&&L&&L(),K&&!(null!=s&&s.length)&&(o.pin_count||0)>0&&R(),(0,_.jsxs)(r.Fragment,{children:[z&&s&&0===s.length&&(0,_.jsx)(F,{hasSections:!!G,isSection:!!a}),w&&f&&w(f),x&&u&&x(u),S&&d&&S(d)]}));var ee=this.allowReordering,et=ee&&J!==Q&&-1!==J&&-1!==Q,en=s||[],er=this.hiddenItemIndex;if(-1!==er&&(en=[].concat(Y(en.slice(0,er)),Y(en.slice(er+1)))),et&&(en=(0,Z.Z)(en,J,Q)),!en.length&&!P)return(0,_.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0});var eo={inBulkEditMode:y||m,inDenseView:p||!1,isGroupBoard:(void 0===V?0:V)>0,userCanEdit:(U||[]).includes("write"),isOwnBoard:M,isCollaborator:K},ei=!1,ea=en.map(function(e){var t;return y||"story"!==e.type||(null==l?void 0:null===(t=l[e.id])||void 0===t?void 0:t.story_type)!=="board_shop_tool_module"||(ei=!0),v(X(X({},eo),{},{itemKey:e}))}),ec=p?2*T.$H/3:void 0,el=!B&&D&&!(null!=s&&s.length);return(0,_.jsx)(H.H,{value:{onPinCreate:function(t){var n=t.boardId;return e.handlePinAdded(n)},onPinDelete:function(){var t;return ei&&(null===(t=e.masonryRef.current)||void 0===t?void 0:t.reflow())}},children:(0,_.jsxs)(i.xu,{"data-test-id":"base-board-pin-grid",minHeight:p?800:"",children:[c&&!y&&0===A&&E&&E(c,!0),(0,_.jsx)(q,{allowReordering:ee,index:Q,isDragWithinBounds:g,children:b&&(0,_.jsx)(k.Z,{isAtEndOfFeed:D,isPlaceholderGrid:P,itemCount:ea.length,children:(0,_.jsx)(I.default,{_getColumnSpanConfig:ei?function(e){var t,n;return"story"===e.itemKey.type&&(null==l?void 0:null===(t=l[e.itemKey.id])||void 0===t?void 0:t.story_type)==="board_shop_tool_module"?3:null!==(n=e.itemKey.columnSpan)&&void 0!==n?n:1}:void 0,columnWidth:p?T.Lo:void 0,gutterWidth:h?void 0:ec,isFetching:B,items:ea,layout:"basic",loadItems:this.handleFetchMore,masonryRef:this.masonryRef,renderItem:function(t){var r=t.data,o=t.itemIdx,a=eo.inBulkEditMode,c="pin"===r.itemKey.type&&!!(null!=n&&n.includes(r.itemKey.id));return(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:p?-6:0}},children:(0,_.jsx)(W,{boardSectionId:e.props.boardSectionId,gridItem:X(X({},r),{},{isSelected:a&&(j?!c:c)}),inBoardOrganizationMode:y,index:o,paddingBottom:e.props.denseViewSelected?6:0,renderPinItem:e.renderPinItem,viewParameter:e.props.viewParameter})})},useLoadingState:P&&!el},"".concat(String(p),"-").concat(String(y),"-").concat(String(m)))})}),ee&&-1!==J&&(0,_.jsx)(O.Z,{}),(B||!b)&&!P&&(0,_.jsx)(i.xu,{paddingY:3,position:"relative",children:(0,_.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Loading Board Feed', ' - ', ' -- '),show:!0})}),D&&!y&&c&&(null!=A?A:0)>=ea.length-1&&0!==A&&E&&E(c),D&&f&&w&&w(f),D&&u&&x&&x(u),D&&d&&S&&S(d)]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ei(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component),ec=(0,E.RL)(1000182)(function(e){var t=(0,S.v)().logContextEvent,n=(0,D.ZP)(),i=(0,B.F)().checkExperiment,l=(0,z.Z)(),u=(0,c.$)().hasSimplifiedPinGridExpLoaded,s=(0,R.Z)(),d=(0,o.v9)(function(e){return e.desktopStories}),f=(0,a.Z)(),p=(0,C.Z)().anyEnabled,b=e.board,y=e.boardSectionId,h=e.isOwnBoard,m=e.resource,v=b.is_featured_for_active_campaign,g=b.layout,P=!h&&"featured_board"===g&&i("dweb_presence_shopping_affordances_auth").anyEnabled;return(0,r.useEffect)(function(){m.isAtEnd&&t({event_type:15145,view_type:y?164:5,view_parameter:h?3069:3070,aux_data:{board_id:b.id,board_pin_count:b.pin_count,board_section_id:y,board_section_count:b.section_count}})},[b,y,h,t,m]),(0,_.jsx)(ea,X(X({},e),{},{desktopStories:d,hasSimplifiedPinGridExpLoaded:u,i18n:n,inFluidGridExp:p,isEggsUi:v&&i("web_easy_gift_guide_saving").anyEnabled,isInGridLoadingStateExp:f,isShoppingAffordancesExp:P,lfvExperiences:s,logContextEvent:t,orbacSubjectId:l}))});ec.displayName="BaseBoardPinGrid";var el=ec},702742:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(545007),o=n(961754),i=n(383399),a=n(501912),c=n(801621),l=n(599911),u=n(403764),s=n(287387),d=n(74665),f=n(280757),p=n(648242),b=n(770443);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=(0,i.Z)(),n=(0,a.Z)(),y=(0,c.lJ)(t,n),h=(0,o.Z)({name:"BoardSectionPinsResource",options:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{currentFilter:n,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:r}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,y)}),v=(0,o.Z)({name:"BoardsResource",options:(0,l.Z)(e.viewer.username,!0)}),g=(0,r.v9)(function(t){var n=t.feeds,r=t.desktopStories;return(0,d.Z)(n["".concat(u.Z.BOARD_SECTION_PINS,":").concat(e.boardSectionId)],r)});return(0,b.jsx)(s.Z,m(m(m({},e),g),{},{boardsResource:v,renderFeaturedBoardsStory:function(t){return(0,b.jsx)(f.Z,{isOwnBoard:e.isOwnBoard,storyId:t})},renderMoreIdeas:function(t){return e.isOwnerOrCollaborator?null:(0,b.jsx)(p.default,{storyId:t})},resource:h}))}v.displayName="BoardSectionPinGrid";var g=v},448654:function(e,t,n){"use strict";function r(e,t){var n=e.url,r=t.slug;return"".concat(null!=n?n:"").concat(null!=r?r:"","/")}n.d(t,{Z:function(){return r}})},615209:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(545007),o=n(297949),i=n(573706),a=n(609073),c=n(969119),l=n(66560),u=n(123321),s=n(770443);function d(e){var t,n=e.storyId,d=e.isTopVariant,f=(0,r.v9)(function(e){return e.desktopStories[n]}),p=(0,r.v9)(function(e){return e.boardsections}),b=(null==f?void 0:f.story_type)==="board_shop_tool_module"?f:void 0,y=(0,i.v)().logContextEvent,h=(0,l.S6)(),m=(0,u.t)(),v=Object.keys(p).length>0;return((0,c.Z)(function(){if(b){var e;y({event_type:13,component:15088,view_parameter:3069,view_type:5,aux_data:{board_id:null===(e=b.aux_fields)||void 0===e?void 0:e.board_id,board_session_id:m,module_id:b.id}})}}),b)?(b.objects=null==b?void 0:null===(t=b.objects)||void 0===t?void 0:t.map(function(e){return"pin"===e.type&&h(e.id||"")||e}),(0,s.jsx)(o.xu,{marginTop:v&&void 0!==d&&d?11:0,children:(0,s.jsx)(a.default,{component:15088,gutterWidth:8,story:b,storyKey:{type:"deprecated",data:b},surface:"BoardShoppingModule",view:5,viewParameter:3069})})):null}},280757:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(545007),o=n(297949),i=n(179735),a=n(770443),c=(0,i.Z)(function(){return n.e(84370).then(n.bind(n,285595))},void 0,"app-common-react-components-FeaturedBoards-FeaturedBoardsModule");function l(e){var t=e.isOwnBoard,n=e.storyId,i=(0,r.v9)(function(e){return e.desktopStories[n]}),l=i&&"featured_boards"===i.story_type?i:void 0;return l?(0,a.jsx)(o.xu,{marginTop:3,padding:2,children:(0,a.jsx)(c,{renderAsStory:!0,slotIndex:-1,story:l,surface:"Board",viewParameter:t?3069:3070,viewType:5})}):null}},652642:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(297949),o=n(144326),i=n(770443);function a(e){var t=e.isCollaborative,n=e.noSelection,a=e.onDeselectAll,c=e.onSelectAll,l=(0,o.ZP)();return n&&t?null:(0,i.jsx)(r.zx,{fullWidth:!0,onClick:n?c:a,size:"lg",text:n?l._('Select all', ' - ', ' -- '):l._('Deselect all', ' - ', ' -- ')})}var c=n(240760);function l(e){var t=e.selectedPinCount,n=(0,o.ZP)(),a=n._('Select Pins to start', 'board.selectedPinCountText.selectPinsText', 'Description telling user to select Pins to begin organization'),l=0===t?a:(0,c.nk)(n.ngettext('{{ pinCount }} Pin selected', '{{ pinCount }} Pins selected', t, 'Number of pins selected when performing bulk action on the board page', 'Number of pins selected when performing bulk action on the board page'),{pinCount:t});return(0,i.jsx)(r.xv,{children:l})}function u(e){var t=e.isCollaborative,n=e.onDeselectAll,o=e.onSelectAll,c=e.selectedPinCount;return(0,i.jsx)("div",{className:"gridCentered",children:(0,i.jsx)(r.xu,{paddingX:3,children:(0,i.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,i.jsx)(r.xu,{children:(0,i.jsx)(l,{selectedPinCount:c})}),(0,i.jsx)(r.xu,{children:(0,i.jsx)(a,{isCollaborative:t,noSelection:!c,onDeselectAll:n,onSelectAll:o})})]})})})}var s=n(873725),d=n(383399),f=n(584288),p=n(66560);function b(e){var t=e.children,n=e.paddingY,o=void 0===n?0:n,a=e.board,c=e.selectedPinIds,l=(0,p.AF)(),u=(0,d.Z)(),b=!(0,(0,s.Z)({boardKey:{type:"deprecated",data:a}}).canPerformAction)({action:5,viewer:u})&&!!c.find(function(e){return!!(l[e]&&l[e].access)&&!l[e].access.includes("write")});return(0,i.jsx)(f.c,{children:function(e){return(0,i.jsx)(r.Le,{top:e,zIndex:new r.Ry(2),children:(0,i.jsx)(r.xu,{color:"default",display:"flex",justifyContent:"center",paddingY:o,children:(0,i.jsx)(r.xu,{width:"100%",children:t({removeIsDisabled:b})})})})}})}function y(e){var t=e.board,n=e.hideDone,r=e.inSelectAll,o=e.onDeselectAll,a=e.onDone,c=e.onSelectAll,l=e.onShowBulkEditBoardPicker,s=e.selectedPinCount,d=e.selectedPinIds;return(0,i.jsx)(b,{board:t,paddingY:4,selectedPinIds:d,children:function(e){var d=e.removeIsDisabled;return(0,i.jsx)(u,{hideDone:n,inSelectAll:r,isCollaborative:!!t.is_collaborative,onDeselectAll:o,onDone:a,onSelectAll:c,onShowBulkEditBoardPicker:l,removeIsDisabled:d,selectedPinCount:s})}})}},549799:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(297949),o=n(770443);function i(e){var t=e.children;return(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:t})}},648242:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(545007),o=n(179735),i=n(770443),a=(0,o.Z)(function(){return Promise.all([n.e(97270),n.e(97949),n.e(85085),n.e(72006)]).then(n.bind(n,385254))},void 0,"app-www-BoardMoreIdeasPage-MoreIdeasTabContentPageDefault");function c(e){var t=e.storyId,n=(0,r.v9)(function(e){return e.desktopStories[t]});return(n&&"board_ideas_feed"===n.story_type?n:void 0)?(0,i.jsx)(a,{surface:"board"}):null}},395792:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(410150),o=n(383399),i=n(558943),a=n(282480),c=n(545007),l=n(868073),u=n(297949),s=n(144326),d=n(961754),f=n(380734),p=n(646885),b=n(252071),y=n(265780),h=n(640498),m=n(785020),v=n(989820),g=n(476198),_=n(509781),P=n(901450),j=n(501912),x=n(333171),w=n(801621),S=n(462888),O=n(719535),E=n(776688),A=n(806382),I=n(76675),C=n(162629),T=n(609914),D=n(702742),B=n(652642),k=n(770443);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||R(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=(0,v.RL)(1000326)(function(e){var t,n,r=e.board,i=e.section,u=(0,s.ZP)(),d=(0,c.I0)(),f=(0,o.Z)(),p=(0,x.Z)(),v=(0,j.Z)(),M=null===(t=(0,S.xZ)())||void 0===t?void 0:t.boardPinDensity,L=(0,c.v9)(function(e){var t,n,r,o=e.boardsections[null!==(t=i.id)&&void 0!==t?t:""],a=null!==(n=i.pin_count)&&void 0!==n?n:0;return null!==(r=null==o?void 0:o.pin_count)&&void 0!==r?r:a}),F=(0,l.k6)(),H=(0,P.F9)().showOneToast,U=Z((0,a.useState)(null),2),N=U[0],K=U[1],V=Z((0,a.useState)(!1),2),G=V[0],W=V[1],q=Z((0,a.useState)([]),2),$=q[0],Y=q[1],J=function(e,t,n){var r=(0,C.Z)(e,t,u,G,n);H(function(e){var t=e.hideToast;return(0,k.jsx)(g.ZP,{duration:3e3,onHide:t,text:r})})},X=function(e){G||$.length>0?K(I.o[e]):I.u[e](u)},Q=G?L-$.length:$.length,ee=(0,T.Z)({board:r,viewer:f}),et=(r.access||[]).includes("write"),en=(0,y.Z)(f,null===(n=r.owner)||void 0===n?void 0:n.id)||(0,w.KY)(f,r,v),er=en||r.collaborated_by_me;return(0,k.jsx)(_.Z,{objectId:r.id,view:5,viewParameter:ee,children:(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(B.Z,{board:r,hideDone:!0,inSelectAll:G,onDeselectAll:function(){W(!1),Y([])},onSelectAll:function(){W(!0),Y([])},onShowBulkEditBoardPicker:X,selectedPinCount:Q,selectedPinIds:$}),(0,k.jsx)(D.Z,{board:r,boardSectionId:i.id,bulkEditSelectedPins:$,denseViewSelected:et&&"dense"===M,inSectionOrganizationMode:!0,inSelectAll:G,isOwnBoard:en,isOwnerOrCollaborator:er,onBulkEditPinClick:function(e){var t=$.includes(e)?$.filter(function(t){return t!==e}):[].concat(function(e){if(Array.isArray(e))return z(e)}($)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}($)||R($)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);G&&t.length===L?(W(!1),Y([])):Y(t)},viewer:f,viewParameter:ee}),(0,k.jsx)(E.Z,{board:r,inSelectAll:G,onShowBulkEditBoardPicker:X,selectedPinCount:Q,selectedPinIds:$}),N&&(0,k.jsx)(A.Z,{actions:{completeMoveAction:function(){K(null),W(!1),Y([])},onBoardSectionDelete:function(){var e;F.replace(null!==(e=r.url)&&void 0!==e?e:"")},onBoardSectionSave:function(e){var t=e.slug;K(null);var n=r.url?"".concat(r.url).concat(t,"/"):"";F.replace(n)},onCopyPinsToBoard:function(e){if(G){m.Z.showError(u._('Sorry, can\'t take copy action in Select All', 'BoardPageContainer.SelectAllCopyError', 'Error message when trying to copy pins while in select all mode'));return}b.Z.create("BulkEditResource",{board_id:e,pin_ids:$,orbac_subject_id:p}).callCreate();var t=$.length;W(!1),Y([]),J(h.ZP.BulkAction.COPY,t)},onDeletePins:function(){d((0,O.L)({inSelectAll:G,selectedPinIds:$,orbacSubjectId:p,source:{boardId:r.id,sectionId:i.id}}));var e=$.length;W(!1),Y([]),J(h.ZP.BulkAction.DELETE,e)}},board:r,boardSection:i,bulkEditSelectedPins:$,currentModal:N,inSelectAll:G,mergeConfirmationModalProps:null,onClearModal:function(){return K(null)}})]})})}),L=n(448654),F=n(513183),H=n(233687);function U(){var e,t=(0,s.ZP)(),n=(0,l.UO)(),r=n.username,o=n.slug,i=n.section_slug,b=(0,d.Z)({name:"BoardSectionResource",options:{board_slug:(0,f.$)(o||""),section_slug:(0,f.$)(i||""),username:(0,f.$)(r||"")}}),y=b.data,h=b.error,m=b.isLoaded,v=null==y?void 0:null===(e=y.board)||void 0===e?void 0:e.id,g=(0,c.v9)(function(e){return v&&(e.boards||{})[v]})||null;return((0,H.Z)(g),h)?(0,k.jsx)(p.Z,{}):m&&y?(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(u.$j,{accessibilityLabel:t._('Loading organize page', 'BoardOrganizeToolPage.Spinner', 'Accessibility label on spinner'),show:!g}),!!y&&!!g&&(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(F.Z,{headerText:t._('Select and reorder', 'BoardOrganizeToolPage.Heading.SelectAndReorder', 'Title of organize page'),url:(0,L.Z)(g,y)}),(0,k.jsx)(M,{board:g,section:y})]})]}):null}var N=function(){var e=(0,r.HG)(),t=(0,o.Z)(),n=t&&t.isAuth;return e&&n?(0,k.jsx)(U,{}):(0,k.jsx)(i.Z,{})}},589701:function(e,t,n){"use strict";var r,o,i=n(237331),a=n(102311),c=0,l=0;t.Z=function(e,t,n){var u=t&&n||0,s=t||Array(16),d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=e.random||(e.rng||i.Z)();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=(p[6]<<8|p[7])&16383)}var b=void 0!==e.msecs?e.msecs:Date.now(),y=void 0!==e.nsecs?e.nsecs:l+1,h=b-c+(y-l)/1e4;if(h<0&&void 0===e.clockseq&&(f=f+1&16383),(h<0||b>c)&&void 0===e.nsecs&&(y=0),y>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");c=b,l=y,o=f;var m=((268435455&(b+=122192928e5))*1e4+y)%4294967296;s[u++]=m>>>24&255,s[u++]=m>>>16&255,s[u++]=m>>>8&255,s[u++]=255&m;var v=b/4294967296*1e4&268435455;s[u++]=v>>>8&255,s[u++]=255&v,s[u++]=v>>>24&15|16,s[u++]=v>>>16&255,s[u++]=f>>>8|128,s[u++]=255&f;for(var g=0;g<6;++g)s[u+g]=d[g];return t||(0,a.Z)(s)}},795232:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/[username]/[slug]/[section_slug]/_tools/organize",function(){return n(395792).Z}])}},function(e){e.O(0,[97270,97949,15787,99317,74044,59656,89820,50289,5710,78020,84091,9073,32859,62255,95882,81507,53173,17031,18288,28282,17159,11280,30515],function(){return e(e.s=795232)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/[slug]/[section_slug]/_tools/organize-5b60c0a63c6e091d.js.map