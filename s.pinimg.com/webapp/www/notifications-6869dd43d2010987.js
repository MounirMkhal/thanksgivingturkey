(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6254,12080],{886553:function(e,t,n){"use strict";n.d(t,{CV:function(){return x},E8:function(){return w},JN:function(){return o},K0:function(){return d},Nk:function(){return g},OY:function(){return i},Rr:function(){return s},TK:function(){return f},WC:function(){return u},XE:function(){return a},Zu:function(){return h},af:function(){return S},al:function(){return c},c9:function(){return l},fL:function(){return P},hg:function(){return _},ig:function(){return v},kW:function(){return m},ou:function(){return r},tr:function(){return p},vq:function(){return j},wY:function(){return y},xJ:function(){return b}});var r="show_pmp_survey",i="smb_marketing_plan",o=1300,a=15,l=["ADVERTISER_LOW_LEAD_SCORE","ADVERTISER_HIGH_LEAD_SCORE","ADVERTISER_SPENDING"],s=["ADVERTISER_SPENDING","SHOPIFY_SPENDER","MERCHANT_SPENDER"],c=["SHOPIFY_BUSINESS","SHOPIFY_SPENDER"],u=1000567,d=506403,f=506429,p=505471,m=506430,_=506432,h=506461,y=506441,b=506445,v=506446,x=506447,g=506448,w=506454,j=506455,P=506456,S=506464},827567:function(e,t,n){"use strict";var r=n(282480),i=n(886553),o=n(989820),a=n(770443),l=(0,r.lazy)(function(){return n.e(34514).then(n.bind(n,434514))});t.Z=function(e){var t=e.placementId;return(0,a.jsx)(o.a3,{eligibleIds:[500818,i.K0],placementId:t,children:function(e){var t=e.complete,n=e.dismiss;return(0,a.jsx)(r.Suspense,{children:(0,a.jsx)(l,{onComplete:t,onDismiss:n})})}})}},853960:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(282480),i=n(297949),o=n(886553),a=n(449112),l=n(989820),s=n(758339),c=n(135296),u=n(296209),d=n(697254),f=n(179735),p=n(770443);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,l,"next",e)}function l(e){_(o,r,i,a,l,"throw",e)}a(void 0)})}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=(0,f.Z)(function(){return n.e(43923).then(n.bind(n,39127))},{ssr:!1}),x=(0,f.Z)(function(){return n.e(70182).then(n.bind(n,770182))},{ssr:!1}),g=(0,f.Z)(function(){return Promise.all([n.e(92373),n.e(99302)]).then(n.bind(n,227585))},{ssr:!1}),w=(0,f.Z)(function(){return Promise.all([n.e(75504),n.e(72339)]).then(n.bind(n,75504))},{ssr:!1}),j=(0,f.Z)(function(){return n.e(37533).then(n.bind(n,237533))},{ssr:!1}),P=(0,f.Z)(function(){return Promise.all([n.e(48575),n.e(22036)]).then(n.bind(n,178103))},{ssr:!1}),S=(0,f.Z)(function(){return n.e(80851).then(n.bind(n,180851))},{ssr:!1}),O=(0,f.Z)(function(){return n.e(12812).then(n.bind(n,112812))},{ssr:!1}),I=(0,f.Z)(function(){return n.e(28807).then(n.bind(n,928807))},{ssr:!1}),E=(0,f.Z)(function(){return n.e(84381).then(n.bind(n,984381))},{ssr:!1}),T=[505420,o.xJ,506249,o.ig,505933,o.CV,506173,506124,506436];function A(e){var t=e.placementId;return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(l.a3,{eligibleIds:[501312,500331,o.Zu,502271,504032,504569,o.vq,504721,505039,o.fL,505093,505420,o.xJ,506249,o.ig,505933,o.CV,506173,506124,506436],placementId:t,children:function(e){var n=e.complete,r=e.dismiss,l=e.experience,f=l.experience_id,m=l.display_data,_=function(e){switch(e){case 504721:return O;case o.vq:case 504569:return S;case 504032:return I;case 502271:return x;case o.fL:case 505039:return g;case 505093:return E;default:return v}}(f),y=function(e){switch(e){case 504721:return 660;case o.Zu:case 500331:return"md";default:return"sm"}}(f);return(0,p.jsxs)(i.xu,{children:[!T.includes(f)&&(0,p.jsx)(s.ZP,{accessibilityModalLabel:"",onDismiss:r,size:y,children:(0,p.jsx)(_,b(b({},(0,c.Z)(u.Z)(m)),{},{experienceId:f,handleComplete:n,handleDismiss:r,placementId:t}))}),506124===f&&(0,p.jsx)(w,b({handleComplete:n,handleDismiss:r,isDesktop:!0,isGooglePrimary:!0},(0,c.Z)(u.Z)(m))),(506173===f||506436===f)&&(0,p.jsx)(w,b({handleComplete:n,handleDismiss:r,isDesktop:!0,isGooglePrimary:!1},(0,c.Z)(u.Z)(m))),505420===f&&(0,p.jsx)(P,{experienceId:505420,onSubmitSurvey:h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251}),f===o.xJ&&(0,p.jsx)(P,{experienceId:o.xJ,onSubmitSurvey:h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251}),506249===f&&(0,p.jsx)(P,{experienceId:506249,onSubmitSurvey:h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251}),f===o.ig&&(0,p.jsx)(P,{experienceId:o.ig,onSubmitSurvey:h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251}),505933===f&&(0,p.jsx)(j,{handleComplete:function(){n(),(0,a.Z)((0,d.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:r,onAdsReportingSurface:!1}),f===o.CV&&(0,p.jsx)(j,{handleComplete:function(){n(),(0,a.Z)((0,d.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:r,onAdsReportingSurface:!1})]})}})})}},278531:function(e,t,n){"use strict";function r(e,t,n){var r=t;"tl-PH"===t&&(r="fil-PH");try{return e.toLocaleDateString(r,n)}catch(t){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}}n.d(t,{Z:function(){return r}})},677117:function(e,t,n){"use strict";var r=n(770443),i=(0,r.jsxs)("svg",{fill:"none",height:"156",viewBox:"0 0 156 156",width:"156",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M6.73597 118.92C-6.85813 112.364 3.39896 74.1199 9.06316 60.4621C16.6599 60.4621 34.886 40.5078 43.0491 24.1182C65.7059 20.0211 103.223 32.1097 118.016 29.2416C132.81 26.3735 153.334 64.4095 156 94.286V132.186C156 141.918 81.5324 135.259 70.5371 132.186C59.5419 129.113 23.7286 127.114 6.73597 118.92Z",fill:"#D3E6F4"}),(0,r.jsx)("path",{d:"M122.876 65.6959L109.637 96.4489C114.439 106.483 114.166 121.969 111.732 128.794L20.124 94.765C21.828 89.9869 34.1086 76.6429 44.1069 72.1068L53.3339 39.8634C53.3339 39.8634 81.2047 14.6653 99.3003 21.3872C106.031 23.8876 113.537 27.6322 117.839 36.2895C117.839 36.2895 123.669 60.1554 122.876 65.6959Z",fill:"#1F4F60"}),(0,r.jsx)("path",{d:"M77.5664 126.922C74.7434 134.837 64.1584 135.852 58.4133 136.037C57.9123 136.053 49.808 129.362 49.808 129.362C48.2419 125.427 48.0668 120.458 49.4821 116.489L64.2544 119.658L77.5664 126.922Z",fill:"#1F4F60"}),(0,r.jsx)("path",{d:"M143.149 38.668L140.613 46.8725L133.858 47.613L140.613 52.4263V58.1843L145.258 53.869L153.987 52.4263L146.526 47.613L145.258 43.5471L143.149 38.668Z",fill:"#FFCF7F"}),(0,r.jsx)("path",{d:"M102.8 16.0723L98.5471 24.1121L92.5938 25.0173L98.5471 29.8305L99.3483 35.5886L103.993 31.2733L112.723 29.8305L103.993 25.0173V20.9514L102.8 16.0723Z",fill:"#FFCF7F"}),(0,r.jsx)("path",{d:"M117.081 58.2247L122.494 38.668L125.602 56.8515L135.871 63.3778L123.614 67.3762L121.385 73.6091L117.081 80.7823V69.2873L104.671 59.7252L117.081 58.2247Z",fill:"#FFCF7F"})]});t.Z=i},183159:function(e,t,n){"use strict";var r=n(297949),i=n(679482),o=n(675625),a=n(410150),l=n(770443);t.Z=function(e){var t=e.children,n=e.roundedForLargeDevice,s="phone"!==(0,a.ZP)()&&n;return(0,o.V)()?(0,l.jsx)(r.xu,{marginEnd:-i.D6,marginStart:-i.D6,overflow:s?"hidden":void 0,rounding:s?6:void 0,children:(0,l.jsx)(o.C,{value:!1,children:t})}):t}},556712:function(e,t,n){"use strict";n.d(t,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return o},dS:function(){return s},og:function(){return i}});var r=64,i=3,o=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},982553:function(e,t,n){"use strict";n.d(t,{JZ:function(){return f},Qs:function(){return d},jr:function(){return p}});var r=n(609326),i=n(118755),o=n(297728),a=n(730212),l=n(864723),s=n(410150),c={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122,dweb_unauth_google_fedcm_button_flow_eap:130,mweb_unauth_google_fedcm_button_flow_eap:131},u=function(e,t,n,r){return e?n>=(r?c.auth_dweb_google_fedcm_onetap_modal:c.dweb_unauth_google_fedcm_button_flow_eap)&&(r?t("auth_dweb_google_fedcm_onetap_modal").anyEnabled:t("dweb_unauth_google_fedcm_button_flow_eap").anyEnabled):n>=(r?c.auth_mweb_google_fedcm_onetap_modal:c.mweb_unauth_google_fedcm_button_flow_eap)&&(r?t("auth_mweb_google_fedcm_onetap_modal").anyEnabled:t("mweb_unauth_google_fedcm_button_flow_eap").anyEnabled)},d=function(e){return e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!l.ZP.getItem(r.tr)},f=function(e,t,n,r){var o,a=n.browserVersion?parseInt(n.browserVersion.split(".")[0],10):0;return(0,i.i7)(null!==(o=n.browserName)&&void 0!==o?o:"")&&(e&&u(e,t,a,r)||!e&&"android"===n.platform&&u(e,t,a,r))},p=function(e){var t=(0,s.HG)(),n=(0,o.F)().checkExperiment,r=(0,a.B)().userAgent;return d(e)&&f(t,n,r,e.isAuth)}},922664:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=(0,n(498490).Z)("Conversations"),i=r.Provider,o=r.useHook;t.Z=o},988285:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(282480),i=n(989820),o=n(750077),a=n(383399),l=n(154887),s=n(770443),c=(0,r.lazy)(function(){return n.e(84087).then(n.bind(n,2823))});function u(e){var t=e.placementId,n=(0,a.Z)();return"enabled_banner_bottom"===(0,l.kh)(n)?(0,s.jsx)(i.a3,{eligibleIds:[506465],placementId:t,children:function(e){var t=e.complete,n=e.dismiss;return(0,s.jsx)(o.Z,{children:(0,s.jsx)(c,{complete:t,dismiss:n})})}}):null}},154887:function(e,t,n){"use strict";n.d(t,{Lr:function(){return c},gW:function(){return l},kh:function(){return d},po:function(){return u},sA:function(){return s}});var r=n(609326),i=n(297728),o=n(864723),a=n(410150),l="fade",s=function(){return"\n  @keyframes ".concat(l," {\n    0% {\n      opacity: 1;\n    }\n    75% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 0;\n      display: none;\n    }\n  }\n")};function c(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];o.ZP.setItem(r.sz,JSON.stringify(e))}function u(){return JSON.parse(null===o.ZP||void 0===o.ZP?void 0:o.ZP.getItem(r.sz))}var d=function(e){var t,n,r=(0,i.F)().checkExperiment,o=(0,a.HG)();return!r("auth_dweb_google_fedcm_onetap_modal",{dangerouslySkipActivation:!0}).group&&o&&e.isAuth&&null!==(t=e.socialNetwork)&&void 0!==t&&null!==(n=t.gplus)&&void 0!==n&&n.connected&&!u()?r("dweb_google_auth_gesture_collection").group:""}},475193:function(e,t,n){"use strict";var r=n(282480),i=n(868073),o=n(297949),a=n(770443);t.Z=(0,r.memo)(function(e){var t=e.tabs,n=e.activeIndex,r=(0,i.k6)();return(0,a.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:2,width:"100%",children:(0,a.jsx)(o.mQ,{activeTabIndex:n,onChange:function(e){var n=e.event,i=e.activeTabIndex,o=e.dangerouslyDisableOnNavigation;n.preventDefault(),o(),r.push((t[i]||t[0]).href)},tabs:t})})})},212443:function(e,t,n){"use strict";n.d(t,{C:function(){return d},f:function(){return u}});var r=n(282480),i=n(498490),o=n(770443);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,i.Z)("MostRecentPin"),c=s.Provider,u=s.useHook;function d(e){var t=e.children,n=a((0,r.useState)(),2),i=n[0],l=n[1],s=a((0,r.useState)(),2),u=s[0],d=s[1],f=(0,r.useCallback)(function(e){d([e].concat((u?u.slice(0,10):[]).filter(function(t){return t!==e})))},[u]),p=(0,r.useMemo)(function(){return{id:i,plpImageSignatures:u,setMostRecentPinId:l,setMostRecentPinImage:f}},[i,u,f]);return(0,o.jsx)(c,{value:p,children:t})}},891880:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(282480),i=n(477058),o=n(785220),a=n(49985),l=n(770443);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=d(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(i);return e=t?Reflect.construct(n,arguments,p(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),r.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setCurrentPageData)({viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.setCurrentPageData,r=t.viewData,i=t.viewParameter,a=t.viewType;i===e.viewParameter&&a===e.viewType&&(0,o.ZP)(r,e.viewData)||n({viewData:r,viewParameter:i,viewType:a})}},{key:"componentWillUnmount",value:function(){this.props.clearCurrentPageData()}},{key:"render",value:function(){var e=this.props,t=e.auxData,n=e.children,r=e.component,i=e.objectIdStr,o=e.viewData,s=e.viewParameter,c=e.viewType,u=e.clientTrackingParams;return(0,l.jsx)(a.Z,{auxData:t,clientTrackingParams:u,component:r,objectIdStr:i,viewData:o,viewParameter:s,viewType:c,children:n})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function _(e){var t=(0,i.sV)(),n=t.setViewContextData,r=t.clearViewContextData;return(0,l.jsx)(m,u(u({},e),{},{clearCurrentPageData:r,setCurrentPageData:n}))}},49985:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(282480),i=n(488792),o=n(1006);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=function(e,t){var n,r=Object.keys(n={event_type:13,view_type:e.viewType,view_parameter:e.viewParameter,view_data:e.viewData,aux_data:e.auxData,object_id_str:e.objectIdStr,component:e.component,clientTrackingParams:e.clientTrackingParams,element:e.element}).reduce(function(e,t){return void 0===n[t]&&delete e[t],e},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n));-1===Object.keys(r).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),t(r)};function c(e){var t=e.auxData,n=e.clientTrackingParams,o=e.children,a=e.component,l=e.element,c=e.objectIdStr,u=e.viewData,d=e.viewParameter,f=e.viewType,p=(0,i.Z)(),m=JSON.stringify(t),_=JSON.stringify(u);return(0,r.useEffect)(function(){s(e,p)},[p,m,n,a,l,c,_,d,f]),r.Children.only(o)}},636085:function(e,t,n){"use strict";var r,i=n(573706),o=n(415787);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(l(r={},13,function(e){return!!e.view_parameter}),l(r,9105,function(e){return!!e.view_parameter}),l(r,9104,function(e){return!!e.view_parameter}),l(r,10357,function(e){return!!e.view_parameter}),l(r,10358,function(e){return!!e.view_parameter}),l(r,10359,function(e){return!!e.view_parameter}),l(r,10360,function(e){return!!e.view_parameter}),l(r,15748,function(e){return!!e.view_parameter}),l(r,110,function(e){return!!e.view_parameter}),l(r,102,function(e){return!!e.element&&!!e.view_parameter}),l(r,101,function(e){return!!e.element&&!!e.view_parameter}),l(r,15749,function(e){return!!e.element&&!!e.view_parameter}),l(r,4104,function(e){return!!e.view_parameter&&!e.element}),l(r,4105,function(e){return!!e.view_parameter&&!e.element}),l(r,8900,function(e){return!!e.view_parameter&&!e.element}),l(r,9626,function(e){return!!e.view_parameter&&!e.element}),l(r,9625,function(e){return!!e.view_parameter&&!e.element}),l(r,46,function(e){return!!e.view_parameter&&!e.element}),l(r,45,function(e){return!!e.view_parameter&&!e.element}),r),c=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13,14572,14573,14574,14575,14576,15900],u=[259,3120,3139,172,3596,3542,261,171,260,4052,4053],d=function(e){var t,n=e.event_type,r=e.element,i=e.view_parameter;return Object.keys(s).includes("".concat(n))&&(!r||c.includes(r))&&(!i||u.includes(i))?(null===(t=s[n])||void 0===t?void 0:t.call(s,e))?-1===[213,24,260].indexOf(e.view_type||0)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}:{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}};t.Z=function(){var e=(0,i.v)().logContextEvent;return function(t){var n=t.event_type,r=t.element,i=t.view_parameter,a=t.component,l=t.view_type,s=t.aux_data,c=d(t);if(c){console.error(c.message),(0,o.nP)("webapp.track_nux_invalid_parameters",{sampleRate:1,tags:{code:c.code,component:a,event_type:n,element:r,view_type:l,view_parameter:i}});return}e({component:a,event_type:n,element:r,view_parameter:i,view_type:l,aux_data:s})}}},351643:function(e,t,n){"use strict";n.d(t,{Z:function(){return ei}});var r=n(282480),i=n(868073),o=n(297949),a=n(716738),l=n(989820),s=n(770443),c=function(){return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(l.RK,{placementId:11}),(0,s.jsx)(l.LS,{placementId:11}),(0,s.jsx)(l.k6,{placementId:1000503}),(0,s.jsx)(l.H6,{placementId:1000541})]})},u=n(758339),d=n(144326);function f(e){var t=e.onDismiss,n=e.onComplete,r=e.titleText,i=e.detailedText,a=e.dismissButtonText,l=e.completeButtonText,c=(0,d.ZP)();return(0,s.jsx)(u.ZP,{accessibilityModalLabel:i,closeOnOutsideClick:!1,onDismiss:t,size:"sm",children:(0,s.jsx)(o.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",width:"100%",children:(0,s.jsxs)(o.xu,{marginTop:2,children:[(0,s.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:10,children:(0,s.jsx)(o.JO,{accessibilityLabel:c._('Pinterest logo icon', 'Pinterest logo icon', 'Pinterest logo icon'),color:"brandPrimary",icon:"pinterest",size:40})}),(0,s.jsx)(o.xu,{marginEnd:3,marginStart:3,marginTop:6,overflow:"hidden",rounding:2,children:(0,s.jsxs)(o.xu,{color:"default",paddingX:4,paddingY:2,children:[(0,s.jsx)(o.kC,{alignItems:"start",justifyContent:"between",children:(0,s.jsxs)(o.xu,{flex:"grow",children:[(0,s.jsx)(o.X6,{align:"center",size:"500",children:r}),(0,s.jsx)(o.xu,{paddingY:4,children:(0,s.jsxs)(o.xv,{align:"center",children:[" ",i," "]})})]})}),(0,s.jsx)(o.xu,{display:"flex",justifyContent:"end",marginBottom:12,marginTop:8,children:(0,s.jsxs)(o.kC,{gap:{row:2,column:0},justifyContent:"end",children:[(0,s.jsx)(o.zx,{color:"gray",onClick:t,size:"lg",text:a}),(0,s.jsx)(o.zx,{color:"red",onClick:n,size:"lg",text:l})]})})]})})]})})})}function p(e){var t=e.onComplete,n=e.onDismiss,i=e.titleText,o=e.detailedText,a=e.dismissButtonText,l=e.completeButtonText;return(0,s.jsx)(r.Fragment,{children:(0,s.jsx)(f,{completeButtonText:l,detailedText:o,dismissButtonText:a,onComplete:t,onDismiss:n,titleText:i})})}var m=function(e){var t=e.placementId,n=e.experience;return n&&n.display_data?(0,s.jsx)(l.a3,{eligibleIds:[503750],placementId:t,children:function(e){var t=e.complete,r=e.dismiss;return(0,s.jsx)(p,{completeButtonText:n.display_data.complete_button_text,detailedText:n.display_data.detailed_text,dismissButtonText:n.display_data.dismiss_button_text,onComplete:t,onDismiss:r,titleText:n.display_data.title_text})}}):null},_=n(827567),h=n(853960),y=n(602185),b=n(135296),v=n(296209),x=n(179735);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=["placementId"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=(0,x.Z)(function(){return n.e(56371).then(n.bind(n,27956))},{ssr:!1});function O(e){var t=e.placementId,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,w);return(0,s.jsx)(l.a3,{disableAutoView:!0,eligibleTypes:[9],placementId:t,children:function(e){var t=e.complete,r=e.dismiss,i=e.view,o=e.experience.display_data;return(0,s.jsx)(y.Z,{name:"SafeSuspense_ExperienceNuxContainer_NuxContainer",children:(0,s.jsx)(S,P(P({},(0,b.Z)(v.Z,!0)(o)),{},{handleComplete:t,handleDismiss:r,handleView:i},n))})}})}var I=n(295393),E=n(988285),T=n(545007),A=n(644828),C=n(573706),D=n(468808),Z=n(750077),N=n(383399),z=n(636085),L=n(437355);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R=(0,r.lazy)(function(){return n.e(56371).then(n.bind(n,27956))});function U(e){var t,n=e.hideFollowedInterests,i=(0,C.v)().logContextEvent,o=(0,T.I0)(),a=(0,N.Z)(),c=(0,l.oS)(11),u=c.completeExperience,d=c.dismissExperience,f=c.experienceForPlacement,p=c.viewExperience,m=(null==f?void 0:f.experience_id)===500278,_=(0,b.Z)(v.Z,!0)((null==f?void 0:f.display_data)||{}),h=_.steps,x=_.refresh_homefeed_background,g=void 0!==x&&x,w=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=w[0],P=w[1],S=(0,z.Z)(),O=function(){o((0,D.U)("UserHomefeedResource",{options:(0,A.Z)({inNux:!0,staticFeed:!1,viewerIsPartner:a.isAuth&&a.isPartner})},null))};return(0,r.useEffect)(function(){j&&d(11,500278)},[j,d]),m?(0,s.jsx)(y.Z,{name:"SafeSuspense_RenuxContainer_NuxContainer",children:(0,s.jsx)(Z.Z,{children:(0,s.jsx)(R,{handleComplete:function(){i({event_type:101,component:17,element:96,view_type:213}),m&&u(11,500278);var e=Math.floor(new Date().getTime()/1e3);o((0,L.Q_)("USM_RELAUNCH_NUX_COMPLETED",e)),O()},handleDismiss:function(e){i({event_type:101,component:17,element:1150,view_type:213}),m&&(P(!0),"NuxPicker"===e&&S({event_type:9626,view_type:213,view_parameter:172})),g&&O()},handleView:function(){m&&p(11,500278)},hasDismissedModal:j,hideFollowedInterests:n||!1,isRenux:!0,steps:h})})}):null}var F=function(e){var t=e.experience,n=e.isNux;return(0,s.jsxs)(r.Fragment,{children:[n||t&&t.display_data&&t.display_data.is_partner_renux?(0,s.jsx)(O,{placementId:11}):(0,s.jsx)(U,{hideFollowedInterests:!0}),(0,s.jsx)(l.iH,{placementId:11}),(0,s.jsx)(h.Z,{placementId:11}),(0,s.jsx)(l.u3,{placementId:11}),(0,s.jsx)(l.b9,{placementId:11}),(0,s.jsx)(l._f,{placementId:11}),(0,s.jsx)(l.nj,{placementId:11}),(0,s.jsx)(I.Z,{placementId:11}),(0,s.jsx)(_.Z,{placementId:11}),(0,s.jsx)(m,{experience:t,placementId:11}),(0,s.jsx)(E.default,{placementId:11})]})},H=n(212515),M=n(982553),B=n(297728),Y=n(915571),W=n(288544),V=n(978993),G=n(868808),X=n(922664),J=n(415787);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee=(0,x.Z)(function(){return n.e(89870).then(n.bind(n,62052))},{ssr:!1}),et=(0,x.Z)(function(){return Promise.all([n.e(6473),n.e(94817)]).then(n.bind(n,821685))},{ssr:!1}),en=(0,r.lazy)(function(){return Promise.all([n.e(13377),n.e(24698)]).then(n.bind(n,713377))});function er(e){var t=e.experience,l=(0,i.TH)(),u=(0,N.Z)(),d=(0,i.$B)().params,f=(0,X.Z)(),p=f.conversationOpen,m=f.dropdownOpen;(0,H.Q)({view_type:1,view_parameter:92});var _=(0,G.mB)(l.search),h=_.conversation_id,b=_.tab,v=d.conversation_id||h;(0,r.useEffect)(function(){v&&p(v)},[v]),(0,r.useEffect)(function(){"inbox"===b&&m()},[b]),(0,r.useEffect)(function(){var e=document.getElementById("rum-config");null!==e&&(window.pinterest_rum_client_config=JSON.parse(e.textContent),n.e(4442).then(n.bind(n,425109)).then(function(e){e.default()}))},[]);var x=u.isAuth?u.email:"",g=(0,(0,B.F)().checkExperiment)("m10n_measurement_pinterest_tag_us").anyEnabled;(0,r.useEffect)(function(){g&&window.pintrk&&window.pintrk("track","pagevisit",{lead_type:"Pinterest homefeed",em:x})},[g,x]);var w=(0,M.jr)(u),j=null==t?void 0:t.experience_id,P=10105===j;return[500787,500894].includes(j)?(0,s.jsx)(y.Z,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxFullscreenContainer",children:(0,s.jsx)(et,{experienceId:500787,fromBizHub:!0,placementId:11})}):(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(F,{experience:t,isNux:P}),P?(0,s.jsx)(y.Z,{name:"SafeSuspense_AuthHomePage_BackgroundPinImages",children:(0,s.jsx)(ee,{inNux:P,isFlexible:!0})}):(0,s.jsxs)(r.Fragment,{children:[w&&(0,s.jsx)(Z.Z,{children:(0,s.jsx)(en,{})}),(0,s.jsx)(a.Z,{experience:t})]}),(0,s.jsx)(c,{})]})}var ei=(0,l.RL)(11,function(){return{using_pwa:(0,Y.So)(window),completed_mini_renux:"true"===(0,V.qn)("completedMiniRenux")}})(function(e){var t,n=e.experience,i=null==n?void 0:n.experience_id,o=10105===i,a=[500787,500894].includes(i),l=o||a,c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return q(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1];return null===u&&d(o),o&&!1===u&&((0,J.nP)("home_product.homefeed.incorrect_in_nux_state_for_first_load",{sampleRate:.1,tags:{appType:"web"}}),d(!0)),l?(0,s.jsx)(er,Q({},e)):(0,s.jsx)(W.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:(0,s.jsx)(er,Q({},e))})})},441020:function(e,t,n){"use strict";n.d(t,{Z:function(){return eg}});var r=n(868073),i=n(730212),o=n(410150),a=n(351643),l=n(282480),s=n(297949),c=n(252071),u=n(573706),d=n(967232),f=n(278531),p=n(956340),m=n(400416),_=n(677117),h=n(758339),y=n(936437),b=n(144326),v=n(556712),x=n(775383),g=n(881746),w=n(297728),j=n(961754),P=n(509781),S=n(868808),O=n(720398),I=n(969119),E=n(383399),T=n(891880),A=n(776919),C=n(198561),D=n(797149),Z=n(183159),N=n(87416),z=n(561223),L=n(770443),k=function(e,t){var n=e?new Set([e.substring(e.lastIndexOf("/")+1)]):new Set;return(t&&t["170x"]||[]).filter(function(e){var t,r=null===(t=e.url)||void 0===t?void 0:t.substring(e.url.lastIndexOf("/")+1);return!n.has(r)&&(n.add(r),!0)})},R=function(e){var t=e.board,n=t.has_custom_cover?t.image_cover_hd_url||t.image_cover_url:"";if(!n&&t.cover_images&&(n=t.cover_images["400x300"]&&t.cover_images["400x300"].url||t.cover_images["222x"]&&t.cover_images["222x"].url||t.cover_images["216x146"]&&t.cover_images["216x146"].url),!(n=n||t.image_cover_url))return null;var r=k(n,t.images).map(function(e){return{color:e.dominant_color,src:e.url,term:null}});return r.length<4?null:(0,L.jsx)(s.zd,{rounding:4,wash:!0,children:(0,L.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"50%"}},position:"relative",children:(0,L.jsxs)(s.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:[(0,L.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",width:"100%",children:(0,L.jsx)(s.zd,{height:"100%",wash:!0,width:"100%",children:(0,L.jsx)(s.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:n})})}),(0,L.jsx)(s.xu,{flex:"none",width:1}),(0,L.jsx)(z.Z,{columnNum:2,direction:"column",images:r.slice(0,4),rowNum:2,wash:!0})]})})})},U=function(e){var t=e.interests.map(function(e){return{color:e.color,src:e.src,term:e.term}});return t.length<2?null:(0,L.jsx)(s.zd,{rounding:4,children:(0,L.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"50%"}},position:"relative",children:(0,L.jsx)(s.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,L.jsx)(z.Z,{columnNum:2,images:t,rowNum:1,textOverlay:!0})})})})},F=function(e){var t=e.pins;if(t.length<1)return null;var n=Math.min(t.length,3);return(0,L.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"50%"}},position:"relative",children:(0,L.jsx)(s.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,L.jsx)(s.xu,{flex:"none",width:"".concat(100*n/3,"%"),children:(0,L.jsx)(s.zd,{height:"100%",rounding:4,children:(0,L.jsx)(z.Z,{columnNum:n,images:t.map(function(e){return{color:e.color,src:e.src,term:null}}),rowNum:1,wash:!0})})})})})},H=function(e){var t=e.searches.map(function(e){return{color:e.color,src:e.src,term:e.term}});if(t.length<3)return null;if(t.length<4){var n=Array.from({length:4-t.length},function(){return{color:null,empty:!0,src:null,term:null}});t.push.apply(t,n)}return(0,L.jsx)(s.zd,{rounding:4,children:(0,L.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"50%"}},position:"relative",children:(0,L.jsx)(s.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,L.jsx)(z.Z,{columnNum:2,images:t,rowNum:2,textOverlay:!0})})})})};function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var W=[D.gb.ROW_WITH_COUNT_2,D.gb.MINI_PIN_GRID_2],V=[D.gb.MINI_BOARD_GRID,D.gb.MINI_BOARD_GRID_WITH_ICON],G=[D.gb.MINI_SEARCH_GRID],X=[D.gb.MINI_INTEREST_GRID],J=function(e){var t=e.handleTouchNotification,n=e.inRedesignExp,r=e.notification,i=(0,E.Z)().id,o=r.encoded_display_mode,a=r.content_items,l=null,c="";if((0,C.Y0)(o,W)){var u=a.map(function(e){var t,n,r=e.content_object;return{color:r.background_color,src:null===(t=r.images)||void 0===t?void 0:null===(n=t["290x"])||void 0===n?void 0:n.url}});c="pins",l=(0,L.jsx)(F,{pins:u})}else if((0,C.Y0)(o,V)){var d,f=a.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==M(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.content_object)})[0];if(!f)return null;var p=[f.owner].concat(function(e){if(Array.isArray(e))return B(e)}(d=f.collaborating_users||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||function(e,t){if(e){if("string"==typeof e)return B(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,void 0)}}(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).filter(function(e){return e.id===i}).length>0;if("secret"===f.privacy&&!p)return null;c="board",l=(0,L.jsx)(R,{board:f})}else if((0,C.Y0)(o,G)){var m=a.filter(function(e){var t=e.content_object;return t&&t.term}).map(function(e){var t=e.content_object;return{is:t.id,color:t.background_color,src:t.images[0],term:t.term}});c="search",l=(0,L.jsx)(H,{searches:m})}else if((0,C.Y0)(o,X)){var _=a.filter(function(e){var t=e.action_object;return t&&t.name}).map(function(e){var t,n,r=e.action_object;return{color:r.background_color,src:(null===(t=r.images)||void 0===t?void 0:null===(n=t["236x"])||void 0===n?void 0:n.url)||"",term:r.name}});c="interests",l=(0,L.jsx)(U,{interests:_})}return l&&(0,L.jsx)(s.iP,{onTap:t,children:(0,L.jsx)(s.xu,{"data-test-id":"notification-item-collection".concat(c?"-"+c:""),paddingX:n?0:4,paddingY:n?0:1,children:l})})},$=n(605757),K=n(67942),Q=function(e){var t=e.notification,n=e.handleTouchNotification,r=e.handleMenuEllipsisTap,i=e.inRedesignExp,o=e.inUserControlExp,a=e.showIcon,l=t.content_text,c=t.header_icon_image_url,u=t.header_icon_objects,d=t.header_small_overlay_icon_image_url,f=t.header_small_overlay_icon_image_url_dark,p=t.header_text,m=t.last_updated_at,_=t.title_text,h=t.text_mapping,y=t.subscribable_objects,b=t.unread,v=c||u&&u.length>0,x=!i&&(o||void 0!==y&&1===y.length);return i?(0,L.jsxs)(s.xu,{"data-test-id":"notification-item-title",display:"flex",children:[a&&v&&(0,L.jsx)(s.xu,{"data-test-id":"notification-header-icon",margin:"auto",paddingX:i?0:4,width:i?void 0:80,children:(0,L.jsx)(s.iP,{onTap:n,children:(0,L.jsx)($.Z,{headerIconImageUrl:c,headerIconObjectsSchema:u,headerSmallOverlayIconUrl:d,headerSmallOverlayIconUrlDark:f,inRedesignExp:i})})}),(0,L.jsx)(s.kC,{alignItems:"center",flex:"grow",children:(0,L.jsx)(s.iP,{onTap:n,children:(0,L.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},marginEnd:i?2:0,paddingX:a&&v?i?2:0:i?0:6,children:[_&&(0,L.jsx)(K.Z,{bold:!0,headerText:_,textMapping:h||{},textSize:"300"}),(0,L.jsx)(K.Z,{headerText:p,inline:!0,textMapping:h||{},textSize:"300"})]})})})]}):(0,L.jsxs)(s.xu,{"data-test-id":"notification-item-title",paddingY:1,children:[(0,L.jsxs)(s.kC,{children:[v&&(0,L.jsx)(s.xu,{paddingX:4,width:80,children:(0,L.jsx)(s.iP,{onTap:n,children:(0,L.jsx)(s.kC,{justifyContent:"center",width:D.hp,children:(0,L.jsx)($.Z,{headerIconImageUrl:c,headerIconObjectsSchema:u})})})}),(0,L.jsx)(s.kC,{alignItems:"center",flex:"grow",children:(0,L.jsx)(s.iP,{onTap:n,children:(0,L.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},paddingX:v?0:6,children:[(0,L.jsx)(K.Z,{headerText:p,inline:!0,textMapping:h||{},textSize:"300"}),(0,L.jsx)(s.xv,{color:"subtle",inline:!0,size:"300",children:(0,L.jsx)(C.Q2,{lastUpdatedAt:m})})]})})}),x&&(0,L.jsx)(s.xu,{alignItems:"center","data-test-id":"notification-ellipsis-menu",display:"flex",justifyContent:"center",marginStart:2,width:36,children:(0,L.jsx)(s.hU,{accessibilityLabel:"Test",bgColor:"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){return r(t)},size:"sm"})}),b&&(0,L.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginEnd:4,marginStart:2,width:8,children:(0,L.jsx)(s.zd,{height:8,rounding:"circle",width:8,children:(0,L.jsx)(s.xu,{color:"primary","data-test-id":"notification-unread-badge",height:8,width:8})})})]}),!!l&&(0,L.jsx)(s.xu,{marginTop:2,paddingX:2,children:(0,L.jsx)(s.xv,{size:"300",children:l})})]})};function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){var t=e.handleMenuEllipsisTap,n=void 0===t?function(){}:t,r=e.handleTouchNotification,i=void 0===r?function(){}:r,o=e.inRedesignExp,a=e.inUserControlExp,c=e.notification,u=c.last_updated_at,d=o&&c.unread&&(0,C.Y0)(c.encoded_display_mode,[D.gb.HIGHLIGHT_NOTIFICATION]),f=d?D.IO:{},p=d?2:0;return"news"!==c.type?null:(0,L.jsx)(Z.Z,{children:(0,L.jsx)(N.uc,{auxData:{notification_id:c.id,news_type:c.news_type},newsType:c.news_type,notificationId:c.id,viewParameter:3081,viewType:107,children:function(e){var t=e.impressionTrackerRef;return(0,L.jsxs)(s.xu,{ref:t,"data-test-id":"notification-item",direction:"column",display:"flex",justifyContent:"center",marginEnd:"auto",marginStart:"auto",maxWidth:488,paddingY:o?0:1,children:[o&&(0,L.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==q(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({borderColor:"#E9E9E9"},f)},"data-test-id":"notification-item-inner",marginEnd:p,marginStart:p,paddingX:4,rounding:6,children:(0,L.jsx)(s.xu,{height:"80px",width:"100%",children:(0,L.jsxs)(s.kC,{alignItems:"stretch",height:"100%",justifyContent:"center",children:[(0,L.jsx)(s.kC,{flex:"grow",children:(0,L.jsx)(Q,{handleMenuEllipsisTap:n,handleTouchNotification:function(){return i(c)},inRedesignExp:o,notification:c,showIcon:!0})}),(0,L.jsxs)(s.kC,{alignItems:"end",direction:"column",children:[(0,L.jsx)(s.kC,{justifyContent:"end",children:(0,L.jsx)(s.xv,{align:"end",color:"subtle",inline:!0,size:"200",children:(0,L.jsx)(C.Q2,{lastUpdatedAt:u})})}),(0,L.jsx)(s.xu,{marginTop:2,children:(0,L.jsx)(s.hU,{accessibilityLabel:"notification options",bgColor:"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){return n(c)},size:"xs"})})]})]})})}),!o&&(0,L.jsxs)(l.Fragment,{children:[(0,L.jsx)(Q,{handleMenuEllipsisTap:n,handleTouchNotification:function(){return i(c)},inUserControlExp:a,notification:c}),(0,L.jsx)(J,{handleTouchNotification:function(){return i(c)},notification:c})]})]})}},c.id)})}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ei=function(e){var t=e.fetchMoreNotifications,n=e.handleMenuEllipsisTap,r=e.handleTouchNotification,i=e.i18n,o=e.inRedesignExp,a=e.inUserControlExp,c=e.notifications,u=en((0,l.useState)([]),2),d=u[0],f=u[1],p=en((0,l.useState)([]),2),m=p[0],_=p[1],h=en((0,l.useState)(null),2),y=h[0],b=h[1];(0,l.useEffect)(function(){if(o&&c.length>0){var e=c.find(function(e){return e.unread&&(0,C.Y0)(e.encoded_display_mode,[D.gb.HIGHLIGHT_NOTIFICATION])})||null;b(e),f(c.filter(function(t){return t.unread&&t.id!==(null==e?void 0:e.id)})),_(c.filter(function(e){return!e.unread}))}},[o,c]);var v=function(e){return(0,L.jsx)(s.xu,{"data-test-id":"newshub-news-list-grid",children:(0,L.jsx)(A.default,{cacheKey:"notifications",columnWidth:1e3,items:e,loadItems:t,minCols:1,renderItem:function(e){var t=e.data;return(0,L.jsx)(et,{handleMenuEllipsisTap:n,handleTouchNotification:r,inRedesignExp:o,inUserControlExp:a,notification:t})}})})};return(0,L.jsxs)(s.xu,{"data-test-id":"newshub-news-list",children:[o&&(y||d.length>0)&&(0,L.jsxs)(s.xu,{marginBottom:4,children:[(0,L.jsx)(s.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,L.jsx)(s.X6,{accessibilityLevel:1,align:"start",size:"400",children:i._('New', 'Title for news hub section containing unread news items', 'Unread news hub items')})}),(0,L.jsx)(s.xu,{"data-test-id":"newshub-news-list-highlighted",children:y&&v([y])}),v(d)]}),m.length>0&&(0,L.jsxs)(l.Fragment,{children:[(0,L.jsx)(s.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,L.jsx)(s.X6,{accessibilityLevel:1,align:"start",size:"400",children:i._('Seen', 'Title for news hub section containing read news items', 'Read news hub items')})}),v(m)]}),!o&&v(c)]})},eo=n(44303),ea=n(475193),el=n(476198),es=n(207630),ec=n(901450);function eu(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function ed(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){eu(o,r,i,a,l,"next",e)}function l(e){eu(o,r,i,a,l,"throw",e)}a(void 0)})}}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ep={DELETE_UPDATE:"deleteUpdate",UNFOLLOWED_USER:"unfollowedUser",UNFOLLOWED_PIN:"unfollowedPin",FOLLOWED_USER:"followedUser",FOLLOWED_PIN:"followedPin",ACTION_FAILED:"actionFailed"},em=function(e){var t,n,r,i,o,a,c,d,f,p,_=e.handleCloseMenuSelection,h=e.handleObjectSubscriptionById,y=e.handleSettingsRedirect,v=e.inUserControlExp,x=e.newsId,g=e.subscribableObjects,w=(0,b.ZP)(),j=(0,u.v)().logContextEvent,P=(0,ec.F9)().showToast,S=(0,eo.nJ)().updateNewsIdToHiddenNews,O=g?g[0]:null,I=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)((null==O?void 0:O.subscribed_to_notifications)||!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=I[0],T=I[1];(0,l.useEffect)(function(){(null==O?void 0:O.type)==="interest"?T(!1):(null==O?void 0:O.subscribed_to_notifications)!==void 0&&T(O.subscribed_to_notifications)},[null==O?void 0:O.type,null==O?void 0:O.subscribed_to_notifications]);var A=null!==(d=null==O?void 0:O.id)&&void 0!==d?d:0,Z=null!==(f=null==O?void 0:O.type)&&void 0!==f?f:"",N=null!==(p=null==O?void 0:O.full_name)&&void 0!==p?p:"",z={unfollowedUser:(0,es.Z)(w._('You will no longer receive notifications about {{user_name}}.', 'unfollwedUser.toast', 'Unfollowed a user'),{user_name:N}),unfollowedPin:w._('You will no longer receive notifications about this Pin.', 'unfollwedPin.toast', 'Unfollowed a pim'),followedUser:(0,es.Z)(w._('You will now receive notifications about {{user_name}}.', 'followedUser.toast', 'Followed a user'),{user_name:N}),followedPin:w._('You will now receive notifications about this Pin.', 'follwedPin.toast', 'Followed a pim'),actionFailed:w._('Action could not be performed', 'notPerformed.toast', 'action could not be performed')},k={unfollowedUser:(0,es.Z)(w._('Turn off updates from {{ user_name }}', 'NewsListItem.UnfollowUser.Flyout', 'Turn off updates from a user, user_name: user_name of the followed user'),{user_name:N}),unfollowedPin:w._('Turn off updates from this Pin', 'NewsListItem.UnfollowPin.Flyout', 'Unfollow a pin'),followedUser:(0,es.Z)(w._('Turn on updates from {{ user_name }}', 'NewsListItem.UnfollowUser.Flyout', 'Turn on updates from a user, user_name: user_name of the followed user'),{user_name:N}),followedPin:w._('Turn on updates from this Pin', 'NewsListItem.FollowPin.Flyout', 'Follow a pin'),actionFailed:""},R=function(e){var t=w._('Action could not be performed', 'notPerformed.toast', 'action could not be performed');Object.values(ep).includes(e)&&(t=z[e]),P(function(e){var n=e.hideToast;return(0,L.jsx)(el.ZP,{onHide:n,text:t})})},U=(n=ed(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,C.fK)(x,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),R(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(e){return n.apply(this,arguments)}),F=function(e){j({event_type:101,element:14309,component:3,view_type:107,view_parameter:3081}),U(e)},H=function(e){P(function(t){var n=t.hideToast;return(0,L.jsx)(el.ZP,{duration:D.QE,onHide:n,primaryAction:{accessibilityLabel:w._('Undo see less', 'NewsListItem.UndoSeeLess.Toast.a11yButton', 'undoes the see less action'),label:w._('Undo', 'NewsListItem.UndoSeeLess.Toast.Button', 'undoes the see less action'),onClick:function(){F(e),n()}},text:w._('Got it! We\'ll show you less about this interest.', 'NewsListItem.UndoSeeLess.Toast.Text', 'text for see less undo toast')})})},M=(r=ed(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,C._Z)(x,t);case 3:e.sent.resource_response.error||H(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),R(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return r.apply(this,arguments)}),B=function(e,t){var n=ep.UNFOLLOWED_USER,r=ep.UNFOLLOWED_PIN,i=ep.FOLLOWED_USER,o=ep.FOLLOWED_PIN,a=ep.ACTION_FAILED,l="user";return e&&t===l?n:e||t!==l?e&&"pin"===t?r:e||"pin"!==t?a:o:i},Y=(i=ed(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.Z)({url:"/v3/settings/notifications/objects/",method:"POST",data:{object_ids_to_unsubscribe:E?A:null,object_ids_to_resubscribe:E?null:A}});case 3:n=(t=e.sent.resource_response).error,r=t.data,n||h(A,r[A]),R(B(E,Z)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),R(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(){return i.apply(this,arguments)}),W=function(){var e=w._('Update removed!', 'NewsListItem.UndoRemove.Toast.Text', 'text for restore hidden toast');P(function(t){var n=t.hideToast;return(0,L.jsx)(el.ZP,{duration:D.QE,onHide:n,primaryAction:{accessibilityLabel:w._('Undo removal', 'NewsListItem.UndoRemove.Toast.a11yButton', 'restores the removed news'),label:w._('Undo', 'NewsListItem.UndoRemove.Toast.Button', 'restores the removed news'),onClick:function(){V(!1),n()}},text:e})})};function V(e){return G.apply(this,arguments)}function G(){return(G=ed(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,C.Wy)(x,t);case 3:!e.sent.resource_response.error&&(S(x,t),t&&W()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),R(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}var X=function(e){j({event_type:101,element:14308,component:3,view_type:107,view_parameter:3081}),M(e),_()},J=v?(0,L.jsx)(l.Fragment,{children:null==g?void 0:g.slice(0,2).filter(function(e){return e.type===D.Ng.INTEREST}).map(function(e){return(0,L.jsx)(s.iP,{dataTestId:"see-less-interest",fullWidth:!1,onTap:function(){return X(e.id.toString())},children:(0,L.jsx)(s.xu,{display:"flex",marginTop:3,children:(0,L.jsx)(s.X6,{size:"400",children:(w._('See less about {{ interest_name }}', 'NewsListItem.SeeLessAboutInterest.Flyout', 'See less of an interest. interest_name: the interest name to see less of')).replace("{{ interest_name }}",e.name)})})},e.id)})}):null;return(0,L.jsx)(s.xu,{paddingX:2,paddingY:3,children:(0,L.jsxs)(s.kC,{direction:"column",gap:{row:0,column:2},children:[(o=E?B(E,Z):null,a=Object.values(ep).includes(o),c="",a&&o&&(c=k[o]),(0,L.jsxs)(l.Fragment,{children:[J,a&&(0,L.jsx)(s.iP,{fullWidth:!1,onTap:function(){Y(),_()},children:(0,L.jsx)(s.xu,{display:"flex",marginTop:3,children:(0,L.jsx)(s.X6,{size:"400",children:c})})}),v&&(0,L.jsx)(s.iP,{fullWidth:!1,onTap:function(){V(!0),_()},children:(0,L.jsx)(s.xu,{display:"flex",marginTop:3,children:(0,L.jsx)(s.X6,{size:"400",children:w._('Delete update', 'NewsListItem.RemoveNews.Item', 'Delete update')})})}),(0,L.jsx)(s.iP,{fullWidth:!1,onTap:y,children:(0,L.jsx)(s.xu,{display:"flex",marginTop:3,children:(0,L.jsx)(s.X6,{size:"400",children:w._('View notification settings', 'Ellipsis.Menu.viewNotificationSettings', 'Button to go to notification settings')})})})]})),(0,L.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,L.jsx)(s.zx,{color:"gray",onClick:_,size:"lg",text:w._('Close', 'Ellipsis.Menu.closeModal', 'Accessibility label for close button on Modal on Ellipsis Menu')})})]})})};function e_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||eh(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){if(e){if("string"==typeof e)return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(e,t)}}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eb={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"},ev=function(e){var t,n=e.i18n,i=e.inRedesignExp,o=e.inUserControlExp,a=e.newsHubResource,y=e.location,b=(0,u.v)().logContextEvent,g=(0,eo.mv)().hiddenNews,w=e_((0,l.useState)(0),2),j=w[0],A=w[1],C=e_((0,l.useState)(!1),2),D=C[0],Z=C[1],N=e_((0,l.useState)(!1),2),z=N[0],k=N[1],R=e_((0,l.useState)({id:null,newsType:null}),2),U=R[0],F=R[1],H=e_((0,l.useState)([]),2),M=H[0],B=H[1],Y=e_((0,l.useState)({}),2),W=Y[0],V=Y[1],G=(0,E.Z)().should_show_messaging,X=(0,p.Z)(function(){return Z(window.scrollY>0)},100),J=function(){c.Z.create("NewsHubBadgeResource",{}).callDelete({showError:!1}),c.Z.create("NewsHubBadgeResource",{}).callGet().then(function(e){var t=e.resource_response.data;t.conversations_unseen_count>0&&A(t.conversations_unseen_count)})};(0,I.Z)(function(){return window.addEventListener("scroll",X),J(),function(){window.removeEventListener("scroll",X)}}),(0,l.useEffect)(function(){var e=(a.data||[]).filter(function(e){return"news"===e.type&&!g[e.id]});B(e);var t=e.reduce(function(e,t){var n;return null===(n=t.subscribable_objects)||void 0===n||n.forEach(function(n){var r;e[t.id]=[].concat(function(e){if(Array.isArray(e))return ey(e)}(r=e[t.id]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||eh(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n])}),e},{})||{};Object.keys(t).length>0&&V(t)},[a.data,g]);var $=new Date,K={},Q=function(e,t){(0,m.Z)({url:"/v3/news_hub/click/",method:"POST",data:{news_id_str:e,link:t}})},q=M&&M.length>0,ee=(0,S.mB)(y.search);t=e.locale,$.setHours(0,0,0,0),null!=M&&M.forEach(function(r){if(r){var i=r.id,o=new Date(r.last_updated_at);o.setHours(0,0,0,0);var a="";if(o.getTime()===$.getTime())a=n._('Today', ' - ', ' -- ');else if(o.getTime()===new Date($.getTime()-d.F4).getTime())a=n._('Yesterday', ' - ', ' -- ');else if(o>=new Date($.getTime()-6*d.F4)){var l=e.getHumanizedTimeSince(o);a="string"!=typeof l?l.join(""):l}else a=(0,f.Z)(o,t,{month:"long",day:"numeric"});a in K||(K[a]=i)}});var et={href:"/notifications/",text:n._('Updates', 'mweb.inbox.tab.updates.heading', 'Heading for updates tab')},en=j>0?{href:"/inbox/",text:n._('Inbox', 'mweb.inbox.tab.messages.heading', 'Heading for messages tab'),indicator:"dot"}:{href:"/inbox/",text:n._('Inbox', 'mweb.inbox.tab.messages.heading', 'Heading for messages tab')};return"inbox"===ee.tab?(0,L.jsx)(r.l_,{to:{pathname:"/inbox/"}}):(0,L.jsx)(T.Z,{viewParameter:3081,viewType:107,children:(0,L.jsx)(P.Z,{view:107,viewParameter:3081,children:(0,L.jsxs)(x.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,L.jsx)(s.Le,{top:0,children:(0,L.jsxs)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:D?eb:{}},width:"100%",children:[(0,L.jsx)(ea.Z,{activeIndex:0,tabs:G?[et,en]:[et]}),(0,L.jsx)(s.xu,{color:"default",height:8})]})}),(0,L.jsxs)(s.xu,{"data-test-id":"grid",children:[q&&(0,L.jsx)(ei,{fetchMoreNotifications:a.fetchMore,handleMenuEllipsisTap:function(e){var t=e.id,n=e.news_type;b({event_type:101,element:12208,component:3,view_type:107,view_parameter:3081,aux_data:{news_type:n}}),k(!0),F({id:t,newsType:n})},handleTouchNotification:function(t){var n=t.id,r=t.display_mode,i=t.news_type,o=t.override_click_url;b({view_type:107,view_parameter:3081,element:1194,event_type:102,object_id_str:n,aux_data:{display_mode:r,news_type:i}});var a=o;if(a&&(a=(0,O.Z)(a,{entrySource:"news_hub"})),(0,S.sD)(a))Q(n,a),window.location=a;else{var l=a?encodeURI(a):"/news_hub/".concat(encodeURIComponent(n));Q(n,l),e.history.push(l)}},i18n:n,inRedesignExp:i,inUserControlExp:o,notifications:M}),!a.isFetching&&!q&&(0,L.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",height:"calc(100vh - (".concat(v.R$,"px + ").concat(80,"px)"),justifyContent:"center",paddingX:4,children:[(0,L.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:_.Z}),(0,L.jsx)(s.xu,{paddingX:8,paddingY:2,children:(0,L.jsx)(s.X6,{align:"center",size:"400",children:n._('Nothing to see here (yet)!', 'Header text on empty state in mweb notifications tab revised', 'Header text on empty state in mweb notifications tab revised')})}),(0,L.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:2,children:(0,L.jsx)(s.zx,{onClick:function(){b({event_type:102,view_type:107,view_parameter:3083,component:13583}),e.history.push("/")},size:"lg",text:n._('Go to home feed', 'newsHub.emptyState.ctaButton', 'Button label on the news hub cta button that takes user back to homefeed')})})]}),a.isFetching&&(0,L.jsx)(s.xu,{column:12,paddingY:2,children:(0,L.jsx)(s.$j,{accessibilityLabel:n._('Loading feed', ' - ', ' -- '),show:!0})}),(0,L.jsx)(h.ZP,{accessibilityModalLabel:"",isOpen:z,mobileHideCloseIcon:!0,onDismiss:function(){return k(!1)},children:(0,L.jsx)(s.xu,{padding:3,children:null!==U.id&&(0,L.jsx)(em,{handleCloseMenuSelection:function(){F({id:null,newsType:null}),k(!1)},handleObjectSubscriptionById:function(e,t){var n=U.id,r=U.newsType;b({event_type:101,element:12209,component:3,view_type:107,view_parameter:3081,object_id_str:JSON.stringify(e),aux_data:{news_type:r,is_unsub_action:!t}});var i=JSON.parse(JSON.stringify(W));i[n].find(function(t){return t.id===e}).subscribed_to_notifications=t,V(i)},handleSettingsRedirect:function(){b({event_type:101,element:12210,component:3,view_type:107,view_parameter:3081,aux_data:{news_type:U.newsType}}),e.history.push("/settings/notifications")},inUserControlExp:o,newsId:U.id,subscribableObjects:W[U.id]})})})]})]})})})},ex=function(){var e=(0,r.k6)(),t=(0,r.TH)(),n=(0,b.ZP)(),o=(0,y.Z)(),a=(0,j.Z)({name:"NewsHubResource"}),l=(0,i.B)().locale,s=(0,w.F)(),c=!(0,g.Z)(s),u=!(0,g.Z)(s);return(0,L.jsx)(eo.Jo,{children:(0,L.jsx)(ev,{getHumanizedTimeSince:o,history:e,i18n:n,inRedesignExp:c,inUserControlExp:u,locale:l,location:t,newsHubResource:a})})},eg=function(){var e=(0,o.ZP)();return(0,i.B)().isAuthenticated?"desktop"===e?(0,L.jsx)(a.Z,{}):(0,L.jsx)(ex,{}):(0,L.jsx)(r.l_,{to:"/"})}},870240:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/notifications",function(){return n(441020).Z}])}},function(e){e.O(0,[97270,97949,15787,99317,74044,59656,89820,50289,5710,78020,84091,97037,2171,88544,44238,37494,332],function(){return e(e.s=870240)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/notifications-6869dd43d2010987.js.map