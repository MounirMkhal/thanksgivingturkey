(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[78163],{606450:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightSpotlightDots_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};r.hash="3a8409077905af94eb39568e4a5a57fc",t.default=r},282813:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StelaCutout_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="0b66eea622c037ef845cce3aa4cd2d46",t.default=r},216931:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};r.hash="000e24070b5df05da76d803775cb37e6",t.default=r},515280:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};r.hash="51f44b91a29d43c6d06785fcb846b61b",t.default=r},84267:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="7982b415980bdf92f7b9338cb5f6c539",t.default=r},878069:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="630f94c5c1fff86bdd3cb70e987c1fee",t.default=r},944814:function(e,t,n){"use strict";n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="3d7a6d04f923d00acfb2887f852aea16",t.default=i},462812:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};r.hash="6016b14b2081c4349ad3f3a910cc2ea7",t.default=r},511259:function(e,t,n){"use strict";n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="4ffad4c63399ee2e54c9a3a86d114984",t.default=i},284882:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(282480),i=n(510559),a=n(297949),o=n(488792),l=n(409416),u=n(770443);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c={nw:0,ne:90,se:180,sw:270},d={ne:[7,-7],se:[7,7],sw:[-7,7],nw:[-7,-7]},p={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},f=function(e,t,n,r){if("rounded"!==r)return"translate(".concat(t,", ").concat(n,"), rotate(").concat(c[e],")");var i,a=function(e){if(Array.isArray(e))return e}(i=d[e])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(i,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,2)}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=a[0],l=a[1];return"translate(".concat(t+o,", ").concat(n+l,"), rotate(").concat(c[e],")")};function y(e){var t=e.corner,n=e.x,r=e.y,i=e.size,a=e.cornerStyle;return(0,u.jsxs)("g",{style:{cursor:p[t]},transform:f(t,n,r,a),children:[(0,u.jsx)("rect",{className:"cropperHandle ".concat(t),fill:"rgba(0,0,0,0)",height:i,stroke:"none",width:i,x:0,y:0}),"rounded"===a?(0,u.jsx)("path",{className:"cropperHandle ".concat(t),d:"M16 0H24V8H16C11.5817 8 8 11.5817 8 16V24H0V16C0 7.16343 7.16345 0 16 0Z",fill:"#fff"}):(0,u.jsx)("path",{className:"cropperHandle ".concat(t),d:"M ".concat(i," 0 L 0 0 L 0 ").concat(i),fill:"none",stroke:"#fff",strokeWidth:6})]})}var h={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function m(e){var t=e.edge,n=e.x,r=e.y,i=e.w,a=e.h;return(0,u.jsx)("rect",{className:"cropperHandle ".concat(t),fill:"rgba(0,0,0,0)",height:a,stroke:"none",style:{cursor:h[t]},width:i,x:n,y:r})}function g(e){var t=e.x,n=e.y,i=e.w,a=e.h,o="rounded";return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(y,{corner:"nw",cornerStyle:o,size:20,x:t,y:n}),(0,u.jsx)(y,{corner:"ne",cornerStyle:o,size:20,x:t+i,y:n}),(0,u.jsx)(y,{corner:"sw",cornerStyle:o,size:20,x:t,y:n+a}),(0,u.jsx)(y,{corner:"se",cornerStyle:o,size:20,x:t+i,y:n+a}),(0,u.jsx)(m,{edge:"n",h:30,w:i-40,x:t+20,y:n-10}),(0,u.jsx)(m,{edge:"e",h:a-40,w:30,x:t+i-20,y:n+20}),(0,u.jsx)(m,{edge:"s",h:30,w:i-40,x:t+20,y:n+a-10}),(0,u.jsx)(m,{edge:"w",h:a-40,w:30,x:t-20,y:n+20})]})}var v=n(785220),b=n(636338),_=n(512541),S=n(969119),w=n(824396),x=n(425423);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n,s=e.children,c=e.cropArea,d=e.imageSize,p=e.onChange,f=e.previewCropArea,y=e.shouldChangeState,h=e.showPreviewArea,m=e.viewParameter,j=(0,o.Z)(),O=(0,x.Z)(),k=O.setIsHoveringOnCropperEdges,A=O.setSelectedId,I=(0,r.useRef)(null),D=(0,r.useRef)(null),E=P((0,r.useState)(0),2),L=E[0],C=E[1],M=P((0,r.useState)(0),2),F=M[0],Z=M[1],T=P((0,r.useState)(0),2),R=T[0],K=T[1],z=P((0,r.useState)(0),2),H=z[0],U=z[1],V=P((0,r.useState)(function(e){var t=e.cropArea,n=e.imageSize,r=t.x,i=t.y,a=t.w,o=t.h,u=n.height,s=n.width;if(!u||!s)return t;var c=r,d=i,p=a,f=o;return c<l.SP&&(c=l.SP,p-=l.SP-r),c+p>s-l.SP&&(p-=c+p-s+l.SP),d<l.SP&&(d=l.SP,f-=l.SP-i),d+f>u-l.SP&&(f-=d+f-u+l.SP),{x:c,y:d,w:p,h:f}}({cropArea:c,imageSize:d})),2),N=V[0],W=V[1],Q=P((0,r.useState)(null),2),q=Q[0],X=Q[1],B=P((0,r.useState)(null),2),G=B[0],Y=B[1],$=function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,n=e.clientY,r=t-L,i=n-F,a=e.target,o=a.classList.contains("cropperHandle"),l="shadowMask"===a.id,u="cropSection"===a.id,s=a.id===b.P,c=a.id===w.I;o?(X("resize"),a.classList.contains("ne")?Y("ne"):a.classList.contains("nw")?Y("nw"):a.classList.contains("se")?Y("se"):a.classList.contains("sw")?Y("sw"):a.classList.contains("n")?Y("n"):a.classList.contains("s")?Y("s"):a.classList.contains("e")?Y("e"):a.classList.contains("w")&&Y("w")):l?(X("select"),K(r),U(i),W({x:r,y:i,w:0,h:0})):u?(X("move"),K(r),U(i)):(s||c)&&N.x<r&&r<N.x+N.w&&N.y<i&&i<N.y+N.h&&(X("move"),K(r),U(i))},J=function(e){var t=e.clientX,n=e.clientY,r=t-L,i=n-F;if("resize"===q){var a,o,u=Math.max(Math.min(r,(null!==(a=d.width)&&void 0!==a?a:1)-l.SP),l.SP),s=Math.max(Math.min(i,(null!==(o=d.height)&&void 0!==o?o:1)-l.SP),l.SP);switch(!function(e,t,n,r,i){var a=n.x,o=n.y,l=n.w,u=n.h;switch(e){case"ne":r<a&&i>o+u?t("sw"):r<a?t("nw"):i>o+u&&t("se");break;case"nw":r>a+l&&i>o+u?t("se"):r>a+l?t("ne"):i>o+u&&t("sw");break;case"se":r<a&&i<o?t("nw"):r<a?t("sw"):i<o&&t("ne");break;case"sw":r>a+l&&i<o?t("ne"):r>a+l?t("se"):i<o&&t("nw");break;case"n":i>o+u&&t("s");break;case"s":i<o&&t("n");break;case"e":r<a&&t("w");break;case"w":r>a+l&&t("e")}}(G,Y,N,u,s),G){case"ne":W(function(e){var t=e.x,n=e.y,r=e.h,i=Math.max(u-t,l.xZ),a=Math.max(r+(n-s),l.xZ);return{x:t,y:a<=l.xZ?n:s,w:i,h:a}});break;case"nw":W(function(e){var t=e.x,n=e.y,r=e.w,i=e.h,a=Math.max(r+(t-u),l.xZ),o=Math.max(i+(n-s),l.xZ);return{x:a===l.xZ?t:u,y:o===l.xZ?n:s,w:a,h:o}});break;case"se":W(function(e){var t=e.x,n=e.y,r=Math.max(u-t,l.xZ),i=Math.max(s-n,l.xZ);return{x:t,y:n,w:r,h:i}});break;case"sw":W(function(e){var t=e.x,n=e.y,r=Math.max(e.w+(t-u),l.xZ),i=Math.max(s-n,l.xZ);return{x:r===l.xZ?t:u,y:n,w:r,h:i}});break;case"n":W(function(e){var t=e.x,n=e.y,r=e.w,i=Math.max(n-s+e.h,l.xZ);return{x:t,y:i===l.xZ?n:s,w:r,h:i}});break;case"s":W(function(e){var t=e.x,n=e.y,r=e.w,i=Math.max(s-n,l.xZ);return{x:t,y:n,w:r,h:i}});break;case"e":W(function(e){var t=e.x,n=e.y,r=e.h,i=Math.max(u-t,l.xZ);return{x:t,y:n,w:i,h:r}});break;case"w":W(function(e){var t=e.x,n=e.y,r=e.w,i=e.h,a=Math.max(r-u+t,l.xZ);return{x:a===l.xZ?t:u,y:n,w:a,h:i}})}}else if("move"===q){var c,p,f=r-R,y=i-H,h=Math.max(Math.min(N.x+f,(null!==(c=d.width)&&void 0!==c?c:1)-N.w-l.SP),l.SP),m=Math.max(Math.min(N.y+y,(null!==(p=d.height)&&void 0!==p?p:1)-N.h-l.SP),l.SP);K(r),U(i),W(function(e){return{x:h,y:m,w:e.w,h:e.h}})}else if("select"===q){var g,v,b=Math.max(Math.min(r,null!==(g=d.width)&&void 0!==g?g:1),0),_=Math.max(Math.min(i,null!==(v=d.height)&&void 0!==v?v:1),0);W({x:Math.min(R,b),y:Math.min(H,_),w:Math.abs(b-R),h:Math.abs(_-H)})}if(k){var S=Math.abs(r-N.x)<l.as,w=Math.abs(r-N.x-N.w)<l.as,x=Math.abs(i-N.y)<l.as,P=Math.abs(i-N.y-N.h)<l.as;q||S||w||x||P?k(!0):k(!1)}},ee=function(){if(q){if(0===N.w&&0===N.h){var e,t;p({cropArea:{x:l.SP,y:l.SP,w:(null!==(e=d.width)&&void 0!==e?e:1)-2*l.SP,h:(null!==(t=d.height)&&void 0!==t?t:1)-2*l.SP},cropSource:5})}else{var n,r,i,a,o,u,s,c,f=Math.max(Math.min(N.x,(null!==(n=d.width)&&void 0!==n?n:1)-l.xZ-l.SP),l.SP),y=Math.max(Math.min(N.y,(null!==(r=d.height)&&void 0!==r?r:1)-l.xZ-l.SP),l.SP);o=N.h<l.xZ?l.xZ:y+N.h>(null!==(i=d.height)&&void 0!==i?i:1)-l.SP?(null!==(s=d.height)&&void 0!==s?s:1)-y-l.SP:N.h,u=N.w<l.xZ?l.xZ:f+N.w>(null!==(a=d.width)&&void 0!==a?a:1)-l.SP?(null!==(c=d.width)&&void 0!==c?c:1)-f-l.SP:N.w,"move"===q?j({event_type:7603,view_type:72,view_parameter:m}):"resize"===q&&j({event_type:7604,view_type:72,view_parameter:m}),p({cropArea:{x:f,y:y,w:u,h:o},cropSource:6})}Y(null),X(null),null==A||A(null)}};return(0,S.Z)(function(){if(D.current){var e=D.current.getBoundingClientRect(),t=e.x,n=e.y;C(t),Z(n)}}),(0,r.useEffect)(function(){!y||q||(0,v.ZP)(c,N)||W(null!=c?c:l.ul)},[y,c,N,q]),(0,r.useEffect)(function(){var e=D.current;return e&&(window.addEventListener("mouseup",ee),window.addEventListener("mousemove",J),e.addEventListener("mousedown",$)),function(){e&&(window.removeEventListener("mouseup",ee),window.removeEventListener("mousemove",J),e.removeEventListener("mousedown",$))}}),(0,u.jsxs)(a.xu,{ref:D,dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},"data-test-id":"visual-search-cropper",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,u.jsx)(_.Z,{unsafeCSS:l.iC}),(0,u.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,u.jsx)("defs",{children:(0,u.jsxs)("mask",{id:"Mask",children:[(0,u.jsx)("rect",{fill:"white",height:null!==(t=d.height)&&void 0!==t?t:"100%",rx:"0",ry:"0",width:null!==(n=d.width)&&void 0!==n?n:"100%",x:"0",y:"0"}),(0,u.jsx)("rect",{height:N.h,id:"hole",rx:0,ry:0,width:N.w,x:N.x,y:N.y},"".concat(N.x).concat(N.y)),(0,u.jsx)(i.Z,{classNames:"preview-crop-area",in:h&&!q,mountOnEnter:!0,nodeRef:I,timeout:300,unmountOnExit:!0,children:(0,u.jsx)(a.xu,{ref:I,children:(0,u.jsx)("rect",{height:f.h,id:"preview",rx:4,ry:4,width:f.w,x:f.x,y:f.y},"".concat(f.x).concat(f.y))})})]})}),(0,u.jsx)("rect",{fill:"rgba(0,0,0,0.5)",height:"100%",id:"shadowMask",mask:"url(#Mask)",width:"100%",x:"0",y:"0"}),(0,u.jsx)("use",{fill:"rgba(0,0,0,0)",href:"#hole",id:"cropSection",stroke:"white",strokeWidth:"2",style:{cursor:"move"}}),"select"!==q&&(0,u.jsx)(g,{h:N.h,w:N.w,x:N.x,y:N.y})]}),s]})}},409416:function(e,t,n){"use strict";n.d(t,{SP:function(){return r},as:function(){return i},iC:function(){return l},ul:function(){return o},xZ:function(){return a}});var r=16,i=10,a=48,o={x:0,y:0,w:0,h:0},l="\n  .preview-crop-area-enter {\n    opacity: 0;\n  }\n\n  .preview-crop-area-enter-active {\n    opacity: 1;\n    transition: opacity 300ms;\n  }\n\n  .preview-crop-area-exit {\n    opacity: 1;\n  }\n\n  .preview-crop-area-exit-active {\n    opacity: 0;\n    transition: opacity 300ms;\n  }\n\n  .preview-crop-area-exit-done {\n    opacity: 0;\n  }\n"},636338:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(282480),i=n(297949),a=n(144326),o=n(770443);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c="flashlight-dot-style",d=(0,r.forwardRef)(function(e,t){var n,d=e.icon,p=e.onClick,f=e.onMouseDown,y=e.onMouseEnter,h=e.onMouseLeave,m=e.onMouseUp,g=e.selected,v=e.style,b=e.text,_=e.x,S=e.y,w=e.zIndex,x=e.backdropDiameter,P=void 0===x?32:x,j=e.dotDiameter,O=void 0===j?16:j,k=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(n,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=k[0],I=k[1],D=(0,a.ZP)(),E=A?P+4:P;return(0,o.jsx)(i.xu,{ref:t,dangerouslySetInlineStyle:{__style:{top:S-E/2,left:_-E/2,outline:"none"}},position:"absolute",zIndex:new i.Ry(w||0),children:(0,o.jsx)(i.iP,{accessibilityLabel:D._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),dataTestId:"flashlight-dot",onMouseDown:f,onMouseEnter:function(e){var t=e.event;I(!0),null==y||y({event:t})},onMouseLeave:function(e){var t=e.event;I(!1),null==h||h({event:t})},onMouseUp:m,onTap:p,tabIndex:0,children:(0,o.jsxs)(i.xu,{alignItems:"center",borderStyle:"none",color:"default",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({boxShadow:g?"0 0 0 3px #e60023":"none",borderRadius:O,top:(E-O)/2,left:(E-O)/2},v)},"data-test-id":c,display:"flex",height:O,id:c,justifyContent:"center",padding:0,position:"absolute",width:O,children:[!!b&&(0,o.jsx)(i.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:b}),d&&(0,o.jsx)(i.JO,{accessibilityLabel:D._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:d,inline:!0,size:O/2})]})})})});t.Z=d},414504:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(282480);n(711284);var a=n(488792),o=n(636338),l=n(969119),u=n(770443);function s(e){var t=e.showAnimation,n=e.auxData,r=e.index,i=e.isStela,s=e.onClick,c=e.onHover,d=e.onUnhover,p=e.spotlightCenter,f=e.viewParameter,y=e.viewType,h=(0,a.Z)(),m=i?1221:1260;(0,l.Z)(function(){h({event_type:120,element:m,aux_data:n,view_parameter:f,view_type:y})});var g=parseFloat((.1*(r+1)).toFixed(2));return(0,u.jsx)(o.Z,{onClick:function(){h({aux_data:n,element:m,event_type:101,view_parameter:f,view_type:y}),s(r)},onMouseEnter:function(e){var t=e.event;t&&(t.stopPropagation(),t.preventDefault()),null==c||c(r)},onMouseLeave:function(e){var t=e.event;t&&(t.stopPropagation(),t.preventDefault()),null==d||d()},style:{animation:t?"spotlightDotPop 0.6s ease-out ".concat(g,"s both"):"none"},x:p.x,y:p.y})}var c=n(47848),d=n(512541),p=n(151958),f=n(665992);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=void 0!==r?r:r=n(606450),v=function(e){var t,n=e.showAnimation,r=e.pinKey,a=e.imageSignature,o=e.imageSize,l=e.currentSpotlightIdx,y=e.handleSpotlightClick,h=e.handleSpotlightHover,v=e.handleSpotlightUnhover,b=e.viewParameter,_=e.viewType,S=e.visualObjects,w=(0,c.Z)(g,r),x=(0,p.Z)(w),P=w?(null!==(t=w.visualObjects)&&void 0!==t?t:[]).filter(function(e){return e.isStela}):null!=S?S:[];return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(d.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    transform: scale(0);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}"}),P.map(function(e,t){if(t===l)return null;var r,i,c,d=e.x,p=e.y,g=e.w,S=e.h,P=(0,f.Z)({cropArea:{x:d,y:p,w:g,h:S},scaledWidth:null!==(r=o.width)&&void 0!==r?r:0,scaledHeight:null!==(i=o.height)&&void 0!==i?i:0}),j={x:P.x+P.w/2,y:P.y+P.h/2},O=m(m({},x({override:{entrypoint:"flashlight"}})),{},{pin_id:null!==(c=null==w?void 0:w.entityId)&&void 0!==c?c:"",image_signature:a,visual_objects:JSON.stringify([{x:e.x,y:e.y,w:e.w,h:e.h}])}),k="".concat(j.x).concat(j.y);return(0,u.jsx)(s,{auxData:O,index:t,isStela:!!(null!=e&&e.isStela),onClick:y,onHover:h,onUnhover:v,showAnimation:n,spotlightCenter:j,viewParameter:b,viewType:_},k)})]})}},691566:function(e,t,n){"use strict";n.d(t,{I6:function(){return i},Nv:function(){return r},RZ:function(){return a},ZG:function(){return u},b9:function(){return l},mV:function(){return s},s0:function(){return o}});var r=44,i=24,a=446,o=.05,l=36,u=20,s=16},835593:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(711284),i=n(529521),a=n(532321);function o(e,t,n){var o=n.useLegacyAdapter;if(null==t)return{data:null,childDataKey__DEPRECATED:null};var l=(0,i.jc)(t);if("deprecated"===l.type){var u=l.data;return null==u?{data:null,childDataKey__DEPRECATED:l}:{data:(0,a.V4)(e,o)(u),childDataKey__DEPRECATED:l}}var s=(0,r.useFragment)(e,l.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},488379:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,i=n(282480);n(711284);var a=n(47848),o=void 0!==r?r:r=n(944814);function l(e){var t=e.pinKey,n=e.maxWidth,r=(0,a.Z)(o,t),l=(null==r?void 0:r.imageSpec_564x)||(null==r?void 0:r.imageSpec_736x)||(null==r?void 0:r.imageSpec_orig)||(null==r?void 0:r.imageSpec_474x)||(null==r?void 0:r.imageSpec_236x),u=(null==l?void 0:l.width)||1,s=(null==l?void 0:l.height)||1,c=(null==l?void 0:l.url)||"",d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:564;return e>n&&(t*=n/e,e=n),{width:e,height:t}}(u,s,n);return{getNormalizedPinImage:(0,i.useCallback)(function(){return{width:d.width,height:d.height,url:c}},[d.height,d.width,c])}}},151958:function(e,t,n){"use strict";n.d(t,{Y:function(){return v}});var r,i,a=n(282480);n(711284);var o=n(532321),l=n(835593);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){var r;return(r=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=void 0!==r?r:r=n(462812),h=void 0!==i?i:i=n(511259),m=function(e){var t,n,r,i,a,o,l,u,s,f,y,h,m,g,v,b,_,S,w,x=Symbol("SKIP"),P=function(e){return Object.entries(e).filter(function(e){return p(e,2)[1]!==x}).reduce(function(e,t){var n=p(t,2),r=n[0],i=n[1];return c(c({},e),{},d({},r,i))},{})};if("deprecated"!==e.type){var j,O,k,A,I,D,E,L,C,M,F,Z,T,R,K,z,H,U,V,N=e.data;return P(c(c({},N.isEligibleForPdp||N.isOosProduct||N.isStaleProduct?c(c({},{carousel_image_count:x,brand_signature:(null==(M=null===(j=N.richMetadata)||void 0===j?void 0:null===(O=j.products)||void 0===O?void 0:O[0])?void 0:null===(k=M.brand)||void 0===k?void 0:k.signature)||x,free_shipping_price:(null==M?void 0:null===(A=M.shippingInfo)||void 0===A?void 0:A.freeShippingPrice)||x,free_shipping_value:(null==M?void 0:null===(I=M.shippingInfo)||void 0===I?void 0:I.freeShippingValue)||x,num_variants:(null==M?void 0:null===(D=M.variantSet)||void 0===D?void 0:null===(E=D.variants)||void 0===E?void 0:E.length)||x,total_dimension_option_count:(null==M?void 0:null===(L=M.variantSet)||void 0===L?void 0:null===(C=L.dimensionMetadata)||void 0===C?void 0:C.length)||x,valid_dimension_option_count:x}),{},{pin_show_pdp_oos:!!N.isOosProduct||x,pin_show_pdp_stale:!!N.isStaleProduct||x,pin_show_pdp:!!N.isEligibleForPdp||x}):{}),{},{pin_is_shop_the_look:!!(null!==(F=N.shoppingFlags)&&void 0!==F&&F.includes(2)||null!==(Z=N.aggregatedPinData)&&void 0!==Z&&Z.isShopTheLook)||x,is_available:!!(null!==(T=N.shoppingFlags)&&void 0!==T&&T.includes(1))||x,is_product_pin_v2:!!(null!==(R=N.shoppingFlags)&&void 0!==R&&R.includes(5))||x,is_rich_product_pin:!!(null!==(K=N.shoppingFlags)&&void 0!==K&&K.includes(6))||x,is_organic_product_carousel:x,item_id:((null===(z=N.richSummary)||void 0===z?void 0:null===(H=z.products)||void 0===H?void 0:H[0])||{}).itemId||x,item_set_id:((null===(U=N.richSummary)||void 0===U?void 0:null===(V=U.products)||void 0===V?void 0:V[0])||{}).itemSetId||x,story_pin_id:N.storyPinData?N.storyPinDataId:x}))}var W,Q,q,X,B,G,Y,$,J,ee,et,en,er=e.data;return er?P(c(c({},er.is_eligible_for_pdp||er.is_oos_product||er.is_stale_product?c(c({},(_=null!=(b=null===(t=er.rich_metadata||er.rich_summary)||void 0===t?void 0:null===(n=t.products)||void 0===n?void 0:n[0])&&null!==(r=b.additional_images)&&void 0!==r&&r.length?(er.images?1:0)+b.additional_images.length:null===(i=er.carousel_data)||void 0===i?void 0:null===(a=i.carousel_slots)||void 0===a?void 0:a.length,w=null!==(u=null==(S=null===(o=er.rich_metadata)||void 0===o?void 0:null===(l=o.products)||void 0===l?void 0:l[0])?void 0:null===(s=S.variant_set)||void 0===s?void 0:s.variants)&&void 0!==u?u:[],{carousel_image_count:_||x,brand_signature:(null==S?void 0:null===(f=S.brand)||void 0===f?void 0:f.signature)||x,free_shipping_price:(null==S?void 0:null===(y=S.shipping_info)||void 0===y?void 0:y.free_shipping_price)||x,free_shipping_value:(null==S?void 0:null===(h=S.shipping_info)||void 0===h?void 0:h.free_shipping_value)||x,num_variants:w.length||x,total_dimension_option_count:(null==S?void 0:null===(m=S.variant_set)||void 0===m?void 0:null===(g=m.dimension_metadata)||void 0===g?void 0:g.length)||x,valid_dimension_option_count:((null==S?void 0:null===(v=S.variant_set)||void 0===v?void 0:v.dimension_metadata)||[]).reduce(function(e,t){var n=t.name,r=t.values;return e+(n&&r||[]).filter(function(e){return w.some(function(t){var r;return(null===(r=t.dimensions)||void 0===r?void 0:r[null!=n?n:""])===e})}).length},0)||x})),{},{pin_show_pdp_oos:!!er.is_oos_product||x,pin_show_pdp_stale:!!er.is_stale_product||x,pin_show_pdp:!!er.is_eligible_for_pdp||x}):{}),{},{pin_is_shop_the_look:!!(null!==(W=er.shopping_flags)&&void 0!==W&&W.includes(2)||null!==(Q=er.aggregated_pin_data)&&void 0!==Q&&Q.is_shop_the_look)||x,is_available:!!(null!==(q=er.shopping_flags)&&void 0!==q&&q.includes(1))||x,is_product_pin_v2:!!(null!==(X=er.shopping_flags)&&void 0!==X&&X.includes(5))||x,is_rich_product_pin:!!(null!==(B=er.shopping_flags)&&void 0!==B&&B.includes(6))||x,is_organic_product_carousel:!!(null!==(G=er.shopping_flags)&&void 0!==G&&G.includes(10)||((null===(Y=er.product_pin_data)||void 0===Y?void 0:null===($=Y.items)||void 0===$?void 0:$[0])||{}).additional_images)||x,item_id:((null===(J=er.rich_summary)||void 0===J?void 0:null===(ee=J.products)||void 0===ee?void 0:ee[0])||{}).item_id||x,item_set_id:((null===(et=er.rich_summary)||void 0===et?void 0:null===(en=et.products)||void 0===en?void 0:en[0])||{}).item_set_id||x,story_pin_id:er.story_pin_data?er.story_pin_data_id:x})):{}},g=function(e){var t=(0,l.Q)(y,e,{useLegacyAdapter:function(e){return{}}}).childDataKey__DEPRECATED,n=(0,o.Zm)(h,null==t?{type:"deprecated",data:null}:t,{useGraphQLAdapter:function(e){return e},useLegacyAdapter:function(e){return e}}).childDataKey__DEPRECATED,r=(0,a.useRef)(n);return(0,a.useEffect)(function(){r.current=n}),(0,a.useCallback)(function(e){var t;return 0===Object.keys(t=c(c(c({},null==e?void 0:e.default),m(r.current)),null==e?void 0:e.override)).length?{}:{commerce_data:JSON.stringify(t)}},[])},v=function(e){return(0,e.children)(g(e.pinKey))};t.Z=g},74264:function(e,t,n){"use strict";function r(e){var t=e.cropArea,n=t.x,r=t.y,i=t.w,a=t.h,o=e.scaledWidth,l=e.scaledHeight;return{x:n/o,y:r/l,w:i/o,h:a/l}}n.d(t,{Z:function(){return r}})},665992:function(e,t,n){"use strict";function r(e){var t=e.cropArea,n=e.scaledWidth,r=e.scaledHeight;return{h:Math.floor((t.h||0)*r),w:Math.floor((t.w||0)*n),x:Math.floor((t.x||0)*n),y:Math.floor((t.y||0)*r)}}n.d(t,{Z:function(){return r}})},122882:function(e,t,n){"use strict";function r(e){var t=e.cropArea,n=e.cropSource,r=e.requestParams,i=e.searchQuery,a=e.surfaceType,o=e.title,l=e.trafficSource,u=[];if(t){var s=t.x,c=t.y,d=t.w,p=t.h;s>=0&&c>=0&&d>=0&&p>=0&&u.push("x=".concat(s),"y=".concat(c),"w=".concat(d),"h=".concat(p))}return n&&u.push("cropSource=".concat(n)),a&&u.push("surfaceType=".concat(a)),o&&u.push("full_feed_title=".concat(encodeURIComponent(o))),i&&u.push("q=".concat(i)),l&&"unknown"!==l&&u.push("rs=".concat(l)),r&&u.push("requestParams=".concat(encodeURIComponent(r))),u.length?"?".concat(u.join("&")):""}n.d(t,{Z:function(){return r}})},824396:function(e,t,n){"use strict";n.d(t,{I:function(){return x},Z:function(){return O}});var r,i=n(282480);n(711284);var a=n(868073),o=n(297949),l=n(573706),u=n(47848),s=n(488379),c=n(297728),d=n(691566),p=n(665992),f=n(122882);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=function(e,t,n){for(var r=0,i=0;i<e.length-1;i+=1){var a=e[i],o=e[i+1];if(a&&o){var l=(o.x-a.x)*t,u=(o.y-a.y)*n;r+=Math.sqrt(l*l+u*u)}}if(e.length>0){var s=e[0],c=e[e.length-1];if(s&&c){var d=(s.x-c.x)*t,p=(s.y-c.y)*n;r+=Math.sqrt(d*d+p*p)}}return r};function v(e){var t=e.contour,n=e.context,r=e.scaledX,i=e.scaledY;n.beginPath(),t.points.forEach(function(e,t){if(e){var a=e.x*r,o=e.y*i;0===t?n.moveTo(a,o):n.lineTo(a,o)}})}var b=n(425423),_=n(770443);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x="stela-cutout",P=void 0!==r?r:r=n(282813),j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return["h","w","x","y"].every(function(r){return Math.abs(e[r]-t[r])<=n})};function O(e){var t=e.handleMouseLeave,n=e.hoveredCutoutId,r=e.id,y=e.isHidden,h=e.maskBounds,w=e.pinKey,O=e.pinImageHeight,k=e.pinImageHovered,A=e.pinImageWidth,I=e.requestParams,D=e.surfaceType,E=e.trafficSource,L=e.contours,C=e.scaledX,M=e.scaledY,F=e.scaledWidth,Z=e.scaledHeight,T=(0,u.Z)(P,w),R=(0,l.v)().logContextEvent,K=(0,a.k6)(),z=(0,a.TH)(),H=(0,b.Z)(),U=H.isHoveringOnCropperEdges,V=H.scaledValues,N=H.hasAnimatedCutoutsOnLand,W=H.setHasAnimatedCutoutsOnLand,Q=H.setSelectedId,q=H.selectedId,X=H.cropArea,B=H.hasLoggedRender,G=H.setHasLoggedRender,Y=["enabled_trace","employees"].includes((0,(0,c.F)().checkExperiment)("web_cutouts").group),$=z.pathname.includes("visual-search"),J=(0,i.useRef)(null),ee=(0,i.useRef)(null),et=(0,i.useRef)(null),en=S((0,i.useState)(0),2),er=en[0],ei=en[1],ea=S((0,i.useState)(!1),2),eo=ea[0],el=ea[1],eu=S((0,i.useState)(0),2),es=eu[0],ec=eu[1],ed=S((0,i.useState)(!1),2),ep=ed[0],ef=ed[1],ey=(0,i.useMemo)(function(){var e=S(h[0],2),t=e[0],n=e[1],r=S(h[1],2);return{xRatio:t,yRatio:n,wRatio:r[0],hRatio:r[1]}},[h]),eh=ey.xRatio,em=ey.yRatio,eg=ey.wRatio,ev=ey.hRatio,eb=(0,i.useMemo)(function(){return{x:eh*A,y:em*O}},[eh,em,A,O]),e_=(0,(0,s.Z)({pinKey:T,maxWidth:d.RZ}).getNormalizedPinImage)(),eS=e_.height,ew=e_.width;(0,i.useEffect)(function(){V&&V[r]&&j((0,p.Z)({cropArea:{x:V[r].xRatio,y:V[r].yRatio,w:V[r].wRatio,h:V[r].hRatio},scaledWidth:ew,scaledHeight:eS}),X)&&(null==Q||Q(r))},[V,r,X,Q,eS,ew]),(0,i.useEffect)(function(){B||(R({event_type:120,element:14154,view_type:72,aux_data:{commerce_data:JSON.stringify({pin_has_cutout:!0})}}),null==G||G(!0))},[B,R,G]),(0,i.useEffect)(function(){J.current&&(J.current.width=F,J.current.height=Z,ee.current=new(window.OffscreenCanvas||window.HTMLCanvasElement)(F,Z))},[F,Z]);var ex=(0,i.useCallback)(function(){ef(!0)},[]);(0,i.useEffect)(function(){var e=J.current;return null==e||e.addEventListener("transitionend",ex),function(){null==e||e.removeEventListener("transitionend",ex)}}),(0,i.useEffect)(function(){if(J.current&&ee.current&&C&&M){var e=function(){if(J.current&&ee.current){var e=J.current.getContext("2d"),t=ee.current.getContext("2d");e&&t&&J.current&&ee.current&&C&&M&&(function(e){var t=e.contours,n=e.context,r=e.hasAnimatedCutoutsOnLand,i=e.hoveredCutoutId,a=e.id,o=e.isHidden,l=e.scaledX,u=e.scaledY,s=e.setTraceProgress,c=e.setHasAnimatedCutoutsOnLand,d=e.style,p=e.traceProgress,f=e.selectedId;if(n.clearRect(0,0,n.canvas.width,n.canvas.height),t&&0!==t.length&&(f!==i||i!==a)&&f!==a){var y={trace:{strokeStyle:"#fff",lineWidth:2},outline:{strokeStyle:"#fff",lineWidth:3}},h=o&&i===a,b=!o||h;if("trace"===d&&void 0!==p){var _=p,S=t[0].points.length;if(r){if(h||i===a){s(_=(_+900/g(t[0].points,l,u)*3.2/1e3)%1);var w=Math.floor(.33*S),x=Math.floor(S*_),P=(x-w+S)%S;t.map(function(e){return m(m({},e),{},{points:P<x?e.points.slice(P,x):e.points.slice(P).concat(e.points.slice(0,x))})}).forEach(function(e){e.points.length>1&&(n.strokeStyle=y[d].strokeStyle,v({contour:e,context:n,scaledX:l,scaledY:u}),b&&(n.lineWidth=y[d].lineWidth,n.stroke()))})}}else{if(s(_+=_<=1?.0032:.009600000000000001),_>=2){s(1),null==c||c(!0);return}var j,O,k=Math.floor(.33*S);_<=1?O=((j=Math.floor(S*_))-k+S)%S:(j=S,O=Math.floor(S-k+k*(_-1))),t.map(function(e){var t=[];return t=O<j?e.points.slice(O,j):e.points.slice(O).concat(e.points.slice(0,j)),m(m({},e),{},{points:t})}).forEach(function(e){e.points.length>1&&(n.strokeStyle=y[d].strokeStyle,v({contour:e,context:n,scaledX:l,scaledY:u}),b&&(n.lineWidth=y[d].lineWidth,n.stroke()))})}}else t.forEach(function(e){v({contour:e,context:n,scaledX:l,scaledY:u}),b&&(n.strokeStyle=y[d].strokeStyle,n.lineWidth=y[d].lineWidth,n.stroke(),i===a&&(n.save(),n.fillStyle="rgba(255, 255, 255, 0.25)",n.fill(),n.restore()))})}}({contours:L,context:t,scaledX:C,scaledY:M,id:r,isHidden:y,hoveredCutoutId:n,opacity:er,setTraceProgress:ec,hasAnimatedCutoutsOnLand:N,setHasAnimatedCutoutsOnLand:W,style:Y?"trace":"outline",traceProgress:Y?es:void 0,selectedId:q}),e.clearRect(0,0,J.current.width,J.current.height),e.drawImage(ee.current,0,0))}};return Y?(!ep||k||y&&r===n)&&(et.current=requestAnimationFrame(e)):e(),function(){et.current&&(cancelAnimationFrame(et.current),et.current=null)}}},[L,ep,er,C,M,N,n,r,y,$,Y,k,W,q,es]),(0,i.useEffect)(function(){if(k)el(!0),ei(1);else if(eo)ei(0);else{ei(1);var e=setTimeout(function(){el(!1),ei(0)},3e3);return function(){return clearTimeout(e)}}},[k,eo,ei]);var eP=(0,i.useCallback)(function(){if(!U&&n&&null!=V&&V[n]){var e=(0,p.Z)({cropArea:{x:V[n].xRatio,y:V[n].yRatio,w:V[n].wRatio,h:V[n].hRatio},scaledWidth:ew,scaledHeight:eS}),t=(0,f.Z)({cropArea:e,cropSource:9,requestParams:I,surfaceType:D,trafficSource:E});if(t!==window.location.search){R({event_type:101,element:14154,view_type:72,aux_data:{commerce_data:JSON.stringify({pin_has_cutout:!0})}});var r="".concat(window.location.pathname).concat($?"":"visual-search/").concat(t);$?K.replace(r):K.push(r)}}},[V,n,E,K,I,D,R,U,$,eS,ew]);return(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:eb.y,left:eb.x}},height:O*ev,position:"absolute",width:A*eg,children:(0,_.jsx)("canvas",{ref:J,id:x,onClick:eP,onMouseLeave:t,style:{pointerEvents:U?"none":"auto",cursor:n?"pointer":"auto",opacity:$||k?1:er,transition:k||eo||$?"none":"opacity 2s linear 1s"}})})}},682661:function(e,t,n){"use strict";n.d(t,{BK:function(){return O},Tw:function(){return k},ZP:function(){return F},rX:function(){return Z}}),n(711284);var r,i,a,o,l=n(47848),u=n(297728),s=n(410150),c=n(383399),d=n(66560),p=n(179735),f=n(770443);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=["pinKey"],m=["pinId","pin"],g=["pinKey"],v=["disableAppUpsell","duploDedupeVisualAnnotations","duploDisablePinCardPadding","duploFeedItemProps","duploIsSquarePin","duploLazyLoadImage","duploOneTapSave","duploPinCardDetailsMargin","duploPriorityFetchImage","duploQueryRef","duploShouldAddNiiSearchParamToImageUrls","duploShouldAllowProductPriceIndicator","duploConversationPin","topLevelTrafficSource","topLevelTrafficSourceDepth","trafficSource"],b=["imageOnlyOption","pin","pinImageCrop","resolution","saveButtonOptions","duploQueryRef"],_=["disableAppUpsell","duploDedupeVisualAnnotations","duploDisablePinCardPadding","duploFeedItemProps","duploIsSquarePin","duploLazyLoadImage","duploOneTapSave","duploPinCardDetailsMargin","duploPriorityFetchImage","duploQueryRef","duploShouldAddNiiSearchParamToImageUrls","duploShouldAllowProductPriceIndicator","duploConversationPin","topLevelTrafficSource","topLevelTrafficSourceDepth","trafficSource","pinKey"],S=["pin","pinId"],w=["imageOnlyOption","pin","pinImageCrop","resolution","saveButtonOptions","duploQueryRef"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var O=(0,p.Z)(function(){return Promise.all([n.e(97270),n.e(10584),n.e(32531),n.e(4178),n.e(2984)]).then(n.bind(n,279985))},void 0,"AuthDesktopPinRep"),k=(0,p.Z)(function(){return Promise.all([n.e(97270),n.e(80621),n.e(39921)]).then(n.bind(n,868300))},void 0,"DefaultPinRep"),A=void 0!==r?r:r=n(878069),I=void 0!==i?i:i=n(84267),D=void 0!==a?a:a=n(216931),E=function(e){var t=e.pinKey,n=j(e,h),r=(0,l.Z)(D,t);return(0,f.jsx)(O,P(P({},n),{},{pinKey:r}))},L=function(e){var t=e.pinId,n=e.pin,r=j(e,m),i=(0,d.S6)(),a=(t?i(t):null)||n,o=null==a?void 0:a.tracking_params;return(0,f.jsx)(O,P(P({},r),{},{pinKey:{type:"deprecated",data:a},trackingParams:o}))},C=void 0!==o?o:o=n(515280),M=function(e){e.pinKey;var t=j(e,g),n=(0,l.Z)(C,e.pinKey);return(0,f.jsx)(k,P(P({},t),{},{duploQueryRef:n}))};function F(e){var t=(0,s.HG)(),n=(0,c.Z)(),r=n&&n.isAuth&&t,i=(0,l.Z)(A,e.duploQueryRef),a=(0,u.F)().checkExperiment;if(!(!r||e.duploQueryRef||a("web_auth_desktop_default_pin_rep").anyEnabled)){e.disableAppUpsell,e.duploDedupeVisualAnnotations,e.duploDisablePinCardPadding,e.duploFeedItemProps,e.duploIsSquarePin,e.duploLazyLoadImage,e.duploOneTapSave,e.duploPinCardDetailsMargin,e.duploPriorityFetchImage,e.duploQueryRef,e.duploShouldAddNiiSearchParamToImageUrls,e.duploShouldAllowProductPriceIndicator,e.duploConversationPin,e.topLevelTrafficSource,e.topLevelTrafficSourceDepth,e.trafficSource;var o=j(e,v);return(0,f.jsx)(L,P({},o))}e.imageOnlyOption,e.pin,e.pinImageCrop,e.resolution,e.saveButtonOptions,e.duploQueryRef;var d=j(e,b);return(0,f.jsx)(M,P(P({},d),{},{pinKey:i}))}function Z(e){var t=(0,s.HG)(),n=(0,c.Z)(),r=n&&n.isAuth&&t,i=(0,l.Z)(A,e.duploQueryRef),a=(0,l.Z)(I,e.pinKey),o=(0,u.F)().checkExperiment;if(!(!r||e.duploQueryRef||o("web_auth_desktop_default_pin_rep").anyEnabled)&&null!=a&&null!=e.pinKey){e.disableAppUpsell,e.duploDedupeVisualAnnotations,e.duploDisablePinCardPadding,e.duploFeedItemProps,e.duploIsSquarePin,e.duploLazyLoadImage,e.duploOneTapSave,e.duploPinCardDetailsMargin,e.duploPriorityFetchImage,e.duploQueryRef,e.duploShouldAddNiiSearchParamToImageUrls,e.duploShouldAllowProductPriceIndicator,e.duploConversationPin,e.topLevelTrafficSource,e.topLevelTrafficSourceDepth,e.trafficSource,e.pinKey;var d=j(e,_);d.pin,d.pinId;var p=j(d,S);return(0,f.jsx)(E,P(P({},p),{},{pinKey:a}))}e.imageOnlyOption,e.pin,e.pinImageCrop,e.resolution,e.saveButtonOptions,e.duploQueryRef;var y=j(e,w);return(0,f.jsx)(M,P(P({},y),{},{pinKey:i}))}},425423:function(e,t,n){"use strict";n.d(t,{V:function(){return p},Z:function(){return f}});var r=n(282480),i=n(770443);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c={cropArea:{x:0,y:0,w:1,h:1},cropSource:5,entrySource:"flashlight",isProductPage:!1,surfaceType:"flashlight",title:""},d=(0,r.createContext)(c);function p(e){var t=e.children,n=e.value,a=u((0,r.useState)(!1),2),o=a[0],s=a[1],p=u((0,r.useState)({}),2),f=p[0],y=p[1],h=u((0,r.useState)({}),2),m=h[0],g=h[1],v=u((0,r.useState)(!1),2),b=v[0],_=v[1],S=u((0,r.useState)(null),2),w=S[0],x=S[1],P=u((0,r.useState)(!1),2),j=P[0],O=P[1],k=(0,r.useMemo)(function(){return l(l({},n||c),{},{hasAnimatedCutoutsOnLand:b,isHoveringOnCropperEdges:o,setIsHoveringOnCropperEdges:s,cutoutContours:f,setCutoutContours:y,scaledValues:m,setScaledValues:g,setHasAnimatedCutoutsOnLand:_,selectedId:w,setSelectedId:x,hasLoggedRender:j,setHasLoggedRender:O})},[n,b,s,o,f,m,_,w,x,y,g,j,O]);return(0,i.jsx)(d.Provider,{value:k,children:t})}function f(){return(0,r.useContext)(d)}},917958:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(282480),i=n(297949),a=n(823895),o=n(269771),l=n(409416),u=n(284882),s=n(414504),c=n(665992),d=n(770443);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=2*l.SP;function y(e){var t,n=e.imageSize,i=e.viewParameter,a=e.visualObjects,y=(0,o.t)(),h=y.updatedCropArea,m=y.setUpdatedCropArea,g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{for(a=(n=n.call(e)).next;!(u=(r=a.call(n)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=g[0],b=g[1],_=n.height,S=n.width;if((0,r.useEffect)(function(){_&&S&&b({w:S-f,h:_-f,x:l.SP,y:l.SP})},[_,S,b]),!v)return null;var w=null!=h?h:v;return(0,d.jsx)(u.Z,{cropArea:w,imageSize:n,onChange:function(e){m(e.cropArea)},previewCropArea:w,shouldChangeState:!0,showPreviewArea:!1,viewParameter:i,children:a&&(0,d.jsx)(s.Z,{handleSpotlightClick:function(e){if(a){var t=a[e],n=t.x,r=t.y,i=t.w,o=t.h;m((0,c.Z)({cropArea:{x:n,y:r,w:i,h:o},scaledWidth:null!=S?S:0,scaledHeight:null!=_?_:0}))}},imageSignature:"",imageSize:n,pinKey:void 0,viewParameter:i,viewType:72,visualObjects:a})})}var h=n(144326);function m(e){var t=e.errorMessage,n=(0,h.ZP)(),r=(0,o.t)().setIsLensModalOpen,a=t.buttonText,l=t.description,u=t.title;return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:260}},display:"flex",justifyContent:"center",children:(0,d.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:6,children:[(0,d.jsx)(i.X6,{children:null!=u?u:n._('Something went wrong', 'lens.image.search.header.error', 'Header for the Lens Image Search empty feed')}),(0,d.jsx)(i.xv,{children:null!=l?l:n._('We can\'t provide results right now. Please try your search again.', 'lens.image.search.description.error', 'Description for the Lens Image Search empty feed error')}),(0,d.jsx)(i.zx,{onClick:function(){return r(!0)},size:"lg",text:null!=a?a:n._('Try again', 'lens.image.search.header.button', 'Button to try image search again')})]})})}var g=["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","pin.access","pin.ad_data","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description","pin.description_html","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.should_open_in_stream","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","user.ads_only_profile_site","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_ads_only_profile","user.type","user.username","video.id","video.video_list[V_HLSV4,V_720P,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"],v=n(679482),b=n(961754),_=n(74264),S=n(682661);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e){var t=e.imageSize,n=e.initialPins,r=e.url,a=(0,o.t)().updatedCropArea,l=t.h,u=t.w,s=a&&(0,_.Z)({cropArea:a,scaledWidth:u,scaledHeight:l}),c=(0,b.Z)({name:"ApiResource",options:{url:"/v3/visual_search/lens/search/",data:P(P({url:r},s),{},{add_fields:g.concat("pin.pinner","pin.image_signature","pin.product_metadata","pin.is_repin","pin.rich_metadata()")})}}),p=c.data,f=void 0===p?[]:p,y=c.fetchMore;return n||f?(0,d.jsx)(i.Rk,{columnWidth:v.yF,items:(null!=n?n:[]).concat(f),loadItems:y,renderItem:function(e){var t=e.data,n=e.itemIdx;return t?(0,d.jsx)(S.ZP,{duploQueryRef:null,pin:t,pinId:t.id,slotIndex:n,surface:"SearchItem",viewParameter:3064,viewType:119}):null},scrollContainer:function(){return window}}):null}var O=n(511257),k=n(920595),A=n(573706),I=n(212515),D=n(785220),E=n(235838),L=n(453854),C=n(732988),M=n(446625);function F(e,t,n,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R=function(){var e=(0,h.ZP)(),t=(0,A.v)().logContextEvent,n=(0,o.t)(),l=n.heroImageUrl,u=n.image,s=n.imageData,c=n.updatedCropArea,p=n.setUpdatedCropArea,f=Z((0,r.useState)([]),2),g=f[0],v=f[1],b=Z((0,r.useState)(u),2),S=b[0],w=b[1],x=Z((0,r.useState)(),2),P=x[0],T=x[1],R=Z((0,r.useState)(!1),2),K=R[0],z=R[1],H=Z((0,r.useState)(null),2),U=H[0],V=H[1],N=Z((0,r.useState)(window.innerWidth),2),W=N[0],Q=N[1],q=Z((0,r.useState)(),2),X=q[0],B=q[1];(0,I.Q)({view_type:119,view_parameter:3064}),(0,r.useEffect)(function(){var e=(0,E.Z)(function(){return Q(window.innerWidth)},100);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),(0,r.useEffect)(function(){(0,D.ZP)(u,S)||(w(u),p(void 0))},[u,S,w,p]);var G=s||{},Y=G.src,$=void 0===Y?"":Y,J=G.height,ee=G.width;if((0,r.useEffect)(function(){if(S){var e,n;t({event_type:6716,view_parameter:3064,view_type:119}),(e=regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,l,u,s,d,p,f,y,h,m,g,b,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",S),c&&(n=c.x,r=c.y,i=c.w,a=c.h,l=(o=(0,_.Z)({cropArea:{x:n,y:r,w:i,h:a},scaledWidth:null!=ee?ee:0,scaledHeight:null!=J?J:0})).x,u=o.y,s=o.w,d=o.h,t.append("x",String(l)),t.append("y",String(u)),t.append("w",String(s)),t.append("h",String(d))),e.next=5,(0,k.Z)({url:"/upload-lens-image/",type:"POST",data:t}).promise;case 5:200===(p=e.sent).status&&p.responseText&&(y=(f=JSON.parse(p.responseText)).url,h=f.data,m=f.visualObjects,g=f.errorMessageTitle,b=f.errorMessageDescription,w=f.errorMessageButtonText,V(y),v(h),B({title:g,description:b,buttonText:w}),c||T(m));case 7:case"end":return e.stop()}},e)}),n=function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){F(a,r,i,o,l,"next",e)}function l(e){F(a,r,i,o,l,"throw",e)}o(void 0)})},function(){return n.apply(this,arguments)})()}},[t,S,c,J,ee,v,T]),!(J&&ee))return(0,d.jsx)(C.Z,{text:e._('Image search', 'lens.image.search.header', 'Header for the Lens Image Search page')});var et=function(){t({event_type:101,view_parameter:3064,view_type:119}),z(!0)},en=ee+64,er=!!g&&0===g.length&&!!X;return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(O.Z,{title:e._('Image search', 'lens.image.search.header', 'Header for the Lens Image Search page')}),(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:O.M}},direction:"row",display:"flex",justifyContent:"start",width:"100%",children:[(!!l||!!$)&&(0,d.jsx)(L.q,{children:function(t){var n=t.hovered,r=t.onMouseEnter,a=t.onMouseLeave;return(0,d.jsxs)(i.xu,{height:J,marginStart:8,onMouseEnter:r,onMouseLeave:a,position:"fixed",width:ee,children:[(0,d.jsxs)(i.zd,{height:J,rounding:6,width:ee,children:[(0,d.jsx)(i.Ee,{alt:e._('Uploaded image', 'lens.imageAlt', ' User uploaded image'),naturalHeight:1,naturalWidth:1,src:null!=l?l:$}),(0,d.jsx)(y,{imageSize:{height:J,width:ee},viewParameter:3455,visualObjects:P})]}),n&&(0,d.jsx)(i.xu,{margin:3,position:"absolute",right:!0,top:!0,children:(0,d.jsx)(M.Z,{onClick:et,pinKey:null})})]})}}),(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{left:en}},position:"relative",width:W-en,children:[U&&!!g&&(0,d.jsx)(j,{imageSize:{h:J,w:ee},initialPins:g,url:U}),er&&(0,d.jsx)(m,{errorMessage:X})]})]}),K&&(0,d.jsx)(a.Z,{imageUrl:null!=l?l:$,onDismissModal:function(){return z(!1)}})]})}},129272:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/lens-search",function(){return n(917958).Z}])}},function(e){e.O(0,[97270,97949,15787,99317,74044,89820,1992,27234,50289,32322,84659,35637,34644,87994],function(){return e(e.s=129272)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/lens-search-fd3e7cf3550321fc.js.map