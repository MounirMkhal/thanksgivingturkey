"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[98234],{520578:function(e,n,i){i.r(n);var t,l,r,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin"}],type:"Pin",abstractKey:null};a.hash="d2e0a50bcc228858836fdc7f486ff0ac",n.default=a},415244:function(e,n,i){i.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin"},{args:null,kind:"FragmentSpread",name:"useAutoplayOrgVideoOnHover_pin"}],type:"Pin",abstractKey:null};t.hash="8e6a9272e57ad1033c4bf432c3adf854",n.default=t},787761:function(e,n,i){i.r(n);var t,l,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[t,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};r.hash="72a606f26ad161609980c86fe071d95e",n.default=r},313704:function(e,n,i){i.r(n);var t,l,r,a,o=(a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},l],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});o.hash="fd4413f593a148c9c1ca83ae9d3ab4e6",n.default=o},974179:function(e,n,i){i.r(n);var t,l,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAutoplayOrgVideoOnHover_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[t,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:l,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="2942f85ec1d9274bd2a1e72a4b5cf008",n.default=r},315376:function(e,n,i){i.d(n,{Z:function(){return l}});var t=i(240760);function l(e){var n=e.altText,i=e.autoAltText,l=e.i18n,r=n?(0,t.nk)(l._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:n}).join(""):"",a=i?(0,t.nk)(l._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:i}).join(""):"";return r||a||""}},601143:function(e,n,i){i.d(n,{Z:function(){return x}}),i(711284);var t,l,r=i(919463),a=i.n(r),o=i(297949),s=i(315376),u=i(860575),c=i(576449),d=i(47848),p=i(144326),g=i(240760),y=i(945960),m=i(297728),f=i(470761),v=i(770443),h=void 0!==t?t:t=i(313704);function b(e){var n,i,t,l,r,a,s,u,c,p,g,y,b,S,_,P,k=e.alt,x=e.fetchPriority,O=e.onError,j=e.onLoad,T=e.pinKey,F=e._fixCompletedOnLoad,w=(0,(0,m.F)().checkExperiment)("ads_iad_dweb").anyEnabled,L=(0,d.Z)(h,T),K=L.dominantColor,I=L.isDownstreamPromotion,V=!!L.promoter&&!I,A="StoryPinVideoBlock"===(r=((null===(l=((null===(t=L.storyPinData)||void 0===t?void 0:t.pages)||[])[0])||void 0===l?void 0:l.blocks)||[])[0]||{}).__typename&&3===r.blockType,C=null!==(s=(a={pin:L,useVideoThumbnail:A&&(V&&w||!V)}).pin,P=a.useVideoThumbnail&&null!=(_=(null===(p=(S=(null===(c=((null===(u=s.storyPinData)||void 0===u?void 0:u.pages)||[])[0])||void 0===c?void 0:c.blocks)||[])[0])||void 0===p?void 0:p.__typename)==="StoryPinVideoBlock"?null===(g=S[0])||void 0===g?void 0:null===(y=g.video)||void 0===y?void 0:null===(b=y.videoList)||void 0===b?void 0:b.vHLSV3MOBILE:null)&&_.thumbnail?{height:(null==_?void 0:_.height)||0,width:(null==_?void 0:_.width)||0,url:_.thumbnail||""}:!(null!==(i=(n=s).imageSpec_474x)&&void 0!==i&&i.width&&n.imageSpec_474x.height&&n.imageSpec_474x.width>n.imageSpec_474x.height)&&n.imageSpec_474x||n.imageSpec_736x)&&void 0!==P?P:{},D=C.height,E=C.width,H=C.url;return(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:f.Z.storyPinImage}},"data-test-id":"story-pin-image-box",width:"100%",children:(0,v.jsx)(o.Ee,{_fixCompletedOnLoad:F,alt:k,color:K||"transparent",fetchPriority:x,naturalHeight:null!=D?D:1,naturalWidth:null!=E?E:1,onError:void 0===O?function(){}:O,onLoad:void 0===j?function(){}:j,src:H||""})})}var S=i(630075),_=["ShoppingCarousel","ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingDynamicHeightGrid","VisualInspirationFocusPin","VisualInspirationPin","VisualInspirationShoppingPin"],P=void 0!==l?l:l=i(520578),k=function(e){var n=e.children,i=e.cropStoryPinImage,t=e.cropWidth,l=e.cropHeight;return i?(0,v.jsx)(o.kC,{alignItems:"center",height:t?l:void 0,justifyContent:"start",width:t||void 0,children:n}):(0,v.jsx)(o.xu,{children:n})},x=function(e){var n=e.cropHeight,i=e.cropWidth,t=e.fallbackColor,l=e.highResOnly,r=e.imageFit,f=e.onError,h=e.onLoad,x=e.pinKey,O=e.saved,j=e.surface,T=e.ssrImpressionFixEnabled,F=e.dwebLazyLoadImage,w=(0,p.ZP)(),L=(0,m.F)().checkExperiment,K=(0,u.Xx)(),I=(0,d.Z)(P,x),V=I.altText,A=I.autoAltText,C=I.carouselData,D=I.description,E=void 0===D?"":D,H=I.dominantColor,Z=I.gridTitle,R=I.isThirdPartyAd,z=I.title,B=I.videos,W=(0,g.nk)(w._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:z||Z}).join(""),M=(0,s.Z)({altText:V,autoAltText:A,i18n:w})||!!(null!=E&&E.trim().length)&&E||W;if(C)return(0,v.jsx)(S.Z,{_fixCompletedOnLoad:T,highResOnly:l,isThirdPartyAd:R,onError:f,onLoad:h,pinKey:I});var U,G,N,J,X,$="",q=0,Q=0;if((null===(U=I.embed)||void 0===U?void 0:U.type)==="gif"&&L("closeup_dweb_play_gifs_homefeed").anyEnabled)$=null===(Y=I.embed)||void 0===Y?void 0:Y.src,q=null===(ee=I.embed)||void 0===ee?void 0:ee.height,Q=null===(en=I.embed)||void 0===en?void 0:en.width;else if(I.imageSpec_736x||I.imageSpec_orig||I.imageSpec_474x||I.imageSpec_236x){var Y,ee,en,ei,et,el,er,ea,eo=I.imageSpec_236x;if(l)eo=I.imageSpec_736x||I.imageSpec_orig||I.imageSpec_474x||I.imageSpec_236x;else{var es,eu,ec,ed,ep=(null==B?void 0:null===(ed=B.videoList)||void 0===ed?void 0:ed.vHLSV4)||{},eg=ep.thumbnail,ey=ep.height,em=ep.width;eo=eg?{url:eg,height:null!=ey?ey:1,width:null!=em?em:1}:eo}q=null===(es=eo)||void 0===es?void 0:es.height,Q=null===(eu=eo)||void 0===eu?void 0:eu.width,$=null===(ec=eo)||void 0===ec?void 0:ec.url,X=l?null!==(ei=eo)&&void 0!==ei&&ei.url?"".concat(eo.url," 1x"):"":[(null===(et=I.imageSpec_236x)||void 0===et?void 0:et.url)&&"".concat(I.imageSpec_236x.url," 1x"),(null===(el=I.imageSpec_474x)||void 0===el?void 0:el.url)&&"".concat(I.imageSpec_474x.url," 2x"),(null===(er=I.imageSpec_736x)||void 0===er?void 0:er.url)&&"".concat(I.imageSpec_736x.url," 3x"),(null===(ea=I.imageSpec_orig)||void 0===ea?void 0:ea.url)&&"".concat(I.imageSpec_orig.url," 4x")].filter(Boolean).join(", ")}null!=K&&K.image&&(q=K.image.height,Q=K.image.width,$=K.image.url);var ef=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(j)?void 0:y.Ml;return(0,v.jsx)(o.kC,{alignItems:"center",justifyContent:"start",minHeight:ef,children:(0,v.jsx)(o.xu,{flex:"grow",children:(0,v.jsx)("div",{className:a()({savedGradient:void 0!==O&&O}),children:I.storyPinDataId?(0,v.jsx)(k,{cropHeight:n,cropStoryPinImage:!!i&&_.includes(j),cropWidth:i,children:(0,v.jsx)(b,{_fixCompletedOnLoad:T,alt:M,onError:f,onLoad:h,pinKey:I})}):(0,v.jsx)(o.xu,{"data-test-id":"non-story-pin-image",height:i?n:void 0,width:i||void 0,children:(0,v.jsx)(c.Z,{_fixCompletedOnLoad:T,alt:M,color:"dominant"===t?null!=H?H:void 0:t,crossOrigin:R?"anonymous":void 0,fit:r,loading:F?"lazy":"auto",naturalHeight:null!==(G=q)&&void 0!==G?G:1,naturalWidth:null!==(N=Q)&&void 0!==N?N:1,onError:f,onLoad:h,src:null!==(J=$)&&void 0!==J?J:"",srcSet:X})})})})})}},47326:function(e,n,i){i.r(n),i.d(n,{default:function(){return N}});var t,l,r,a=i(282480);i(711284);var o=i(297949),s=i(601143),u=i(47848),c=i(891985),d=i(830017),p=i(414373),g=i(628200),y=i(464311),m=i(144326),f=i(770443),v={__style:{backgroundColor:"#000"}};function h(e){var n=e.backgroundImage,i=e.naturalHeight,t=e.naturalWidth,l=e.onRestartVideo,r=e.pinId,a=(0,m.ZP)();return(0,f.jsxs)(o.Ee,{alt:a._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:i,naturalWidth:t,src:n,children:[(0,f.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:v,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,f.jsxs)(o.xu,{"data-test-id":"video-end-card-".concat(r),direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:[(0,f.jsx)(o.iP,{rounding:2,children:(0,f.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,f.jsx)(o.JO,{accessibilityLabel:a._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:{__path:g.Z},size:25}),(0,f.jsx)(o.xu,{margin:1}),(0,f.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:a._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,f.jsx)(o.xu,{margin:3}),(0,f.jsx)(o.iP,{onTap:l,rounding:2,children:(0,f.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,f.jsx)(o.JO,{accessibilityLabel:a._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:{__path:y.Z},size:25}),(0,f.jsx)(o.xu,{margin:1}),(0,f.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:a._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function b(e){var n=e.aspectRatio,i=e.children;return(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:n}},children:i})}var S=i(966875);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function k(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?P(Object(i),!0).forEach(function(n){var t,l;t=n,l=i[n],(t=function(e){var n=function(e,n){if("object"!==_(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,n||"default");if("object"!==_(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===_(n)?n:String(n)}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var t,l,r,a,o=[],s=!0,u=!1;try{if(r=(i=i.call(e)).next,0===n){if(Object(i)!==i)return;s=!1}else for(;!(s=(t=r.call(i)).done)&&(o.push(t.value),o.length!==n);s=!0);}catch(e){u=!0,l=e}finally{try{if(!s&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(u)throw l}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return O(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return O(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=Array(n);i<n;i++)t[i]=e[i];return t}var j=new Set(["ConversationView","TodayTabFeed"]),T=void 0!==t?t:t=i(787761);function F(e){var n,i,t,l,r,g,y,m=e.isAutoplay,v=e.cropHeight,_=e.currentTime,P=e.highResOnly,O=e.onLoad,F=e.onError,w=e.saved,L=e.onTimeChange,K=e.isExperimentalPinRep,I=e.pinKey,V=e.surface,A=e.playing,C=e.rootMargin,D=e.viewType,E=e.viewParameter,H=e.cropWidth,Z=e.video,R=x((0,a.useState)(!1),2),z=R[0],B=R[1],W=x((0,a.useState)(!A),2),M=W[0],U=W[1],G=(0,u.Z)(T,I),N=G.isDownstreamPromotion,J=G.promoter,X=(0,c.jL)(!!N,!!J),$=X&&!G.isEligibleForWebCloseup,q=K&&X&&G.isEligibleForWebCloseup&&!j.has(V),Q=(0,d.I)().setCurrentVideo;m&&A&&M&&U(!1);var Y=(null!==(n=G.imageSpec_236x)&&void 0!==n?n:{}).url,ee=G.entityId,en=G.isPromoted,ei=(0,a.useCallback)(function(e){var n=e.event;n.preventDefault(),n.stopPropagation(),Q({pinId:ee,isPromoted:!!en,currentTime:0}),B(!1)},[en,ee,Q]),et=(0,a.useCallback)(function(){en&&B(q)},[q,en]),el=null!=Z?Z:null===(i=G.videos)||void 0===i?void 0:null===(t=i.videoList)||void 0===t?void 0:t.vHLSV4;if(!el)return null;var er=el.height,ea=el.thumbnail,eo=el.width,es=el.url,eu=null!==(l=null!==(r=null==Z?void 0:Z.entityId)&&void 0!==r?r:null===(g=G.videos)||void 0===g?void 0:g.entityId)&&void 0!==l?l:"",ec=[{type:"video/m3u8",src:es}],ed=(null!=eo?eo:1)/(null!=er?er:1),ep=V&&(0,p.Z)(V)&&"UserProfilePinGrid"!==V;if(ep&&(ed=1,y="transparent"),z&&X)return(0,f.jsx)(o.xu,{children:(0,f.jsx)(h,{backgroundImage:null!=Y?Y:"",naturalHeight:null!=er?er:1,naturalWidth:null!=eo?eo:1,onRestartVideo:ei,pinId:ee})});var eg={highResOnly:P,onError:F,onLoad:O,pinKey:G,saved:w};ep&&(eg=k(k({},eg),{},{cropHeight:v,cropWidth:H,imageFit:"contain"}));var ey=(0,f.jsx)(o.xu,{"data-test-id":"pinrep-video--placeholder","data-test-image-signature":Y,children:(0,f.jsx)(b,{aspectRatio:ed,children:(0,f.jsx)(s.Z,k(k({},eg),{},{ssrImpressionFixEnabled:!1}))})});return M?ey:(0,f.jsx)(o.xu,{children:(0,f.jsx)(S.ZP,{aspectRatio:ed,backgroundColor:y,captions:"",contextLogData:{viewParameter:E,component:0,objectId:ee,video_id:eu,view:D},fallback:ey,hlsConfig:{capLevelToPlayerSize:!0,startPosition:_||-1},isAutoPlay:!!m,loop:$||!K||!X,onEnded:et,onPlay:function(){},onPlayError:function(){},onTimeChange:L,playing:A,poster:Y||ea||void 0,rootMargin:C,src:null!=ec?ec:[],surface:V,videoStartTime:_,volume:0})})}var w=i(827106);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function I(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?K(Object(i),!0).forEach(function(n){var t,l;t=n,l=i[n],(t=function(e){var n=function(e,n){if("object"!==L(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,n||"default");if("object"!==L(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===L(n)?n:String(n)}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var V=i(439839),A=i(819239),C=void 0!==l?l:l=i(974179),D=["pinKey","isHovering"];function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function Z(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?H(Object(i),!0).forEach(function(n){W(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function R(e,n){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,n,i){return(n=M(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function M(e){var n=function(e,n){if("object"!==E(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,n||"default");if("object"!==E(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===E(n)?n:String(n)}var U=void 0!==r?r:r=i(415244),G=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&R(e,n)}(l,e);var n,i,t=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=B(l);return e=n?Reflect.construct(i,arguments,B(this).constructor):i.apply(this,arguments),function(e,n){if(n&&("object"===E(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return z(e)}(this,e)});function l(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return W(z(e=t.call.apply(t,[this].concat(i))),"calculateCurrentVideoTime",function(){var n=e.props,i=n.currentTimeFromPinRep,t=n.pin,l=n.videosAutoplaying,r=t.entityId,a=(0,V.Z)(r,l);return e.currentVideoCurrentTime||a||i}),W(z(e),"handleVisibilityChanged",function(n){var i=e.props,t=i.currentTimeFromPinRep,l=i.pin,r=i.setCurrentVideo,a=i.pauseAutoplay,o=i.videosAutoplaying,s=l.entityId,u=l.isPromoted,c=(0,A.Z)(s,o),d=function(e,n){var i=n.organicVideosAutoplaying,t=n.promotedVideosAutoplaying,l=I(I({},i),t);for(var r in l){var a=l[r].paused;if(r!==e&&!a)return!1}return!0}(s,o);n?u?r({pinId:s,isPromoted:u,currentTime:e.calculateCurrentVideoTime()}):d&&r({pinId:s,isPromoted:!!u,currentTime:e.calculateCurrentVideoTime()}):!n&&c&&a({pinId:s,isPromoted:!!u,currentTime:t||e.currentVideoCurrentTime})}),W(z(e),"handleVideoTimeChange",function(n){var i=e.props,t=i.pin,l=i.onTimeChange,r=i.videosAutoplaying,a=t.entityId;(0,A.Z)(a,r)&&(e.currentVideoCurrentTime=n.time),l&&l(n)}),e}return i=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var n=e.appInFocus,i=this.props,t=i.appInFocus,l=i.currentTimeFromPinRep,r=i.pauseAutoplay,a=i.pin,o=i.setCurrentVideo,s=i.videosAutoplaying,u=a.entityId,c=a.isPromoted,d=(0,A.Z)(u,s);t!==n&&!t&&d?(this.pausedDueToBrowserOutOfFocus=!0,r({pinId:u,isPromoted:!!c,currentTime:l||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&t&&(this.pausedDueToBrowserOutOfFocus=!1,o({pinId:u,isPromoted:!!c,currentTime:this.calculateCurrentVideoTime()}))}},{key:"componentWillUnmount",value:function(){var e=this.props,n=e.currentTimeFromPinRep,i=e.pauseAutoplay,t=e.pin,l=e.videosAutoplaying,r=t.entityId,a=t.isPromoted;(0,A.Z)(r,l)&&i({pinId:r,isPromoted:!!a,currentTime:n||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,n=e.cropHeight,i=e.isAutoplay,t=e.pin,l=e.surface,r=e.videosAutoplaying,a=e.viewParameter,o=e.viewType,s=e.highResOnly,u=e.onError,c=e.onLoad,d=e.saved,p=e.isExperimentalPinRep,g=e.rootMargin,y=e.cropWidth,m=e.video,v=t.entityId,h=(0,V.Z)(v,r),b=(0,A.Z)(v,r)&&i,S=Z({cropHeight:n,rootMargin:g,currentTime:h,isAutoplay:i,viewParameter:a,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:t,surface:l,playing:b,trackFullVisible:!1,highResOnly:s,onError:u,onLoad:c,saved:d,isExperimentalPinRep:p,cropWidth:y},m?{video:m}:{});return(0,f.jsx)(w.i,{onVisibilityChanged:this.handleVisibilityChanged,rootMargin:g,trackFullVisible:S.trackFullVisible,children:(0,f.jsx)(F,Z({},S))})}}],function(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,M(t.key),t)}}(l.prototype,i),Object.defineProperty(l,"prototype",{writable:!1}),l}(a.Component);function N(e){var n,i,t,l,r,o,s,c,p,g,y,m,v,h,b,S,_=e.pinKey,P=e.isHovering,k=void 0!==P&&P,x=function(e,n){if(null==e)return{};var i,t,l=function(e,n){if(null==e)return{};var i,t,l={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||(l[i]=e[i]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)i=r[t],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(l[i]=e[i])}return l}(e,D),O=(0,d.I)(),j=O.appUI,T=j.appInFocus,F=j.isAutoplay,w=j.videosAutoplaying,L=O.pauseAutoplay,K=O.setCurrentVideo,I=(0,u.Z)(U,_),A=(0,a.useRef)(k);return c=(n={pinKey:I,isHovering:k,hoverState:A}).pinKey,p=n.isHovering,g=n.hoverState,y=(0,u.Z)(C,c),v=(m=(0,d.I)()).setCurrentVideo,h=m.pauseAutoplay,b=m.appUI.videosAutoplaying,S=(null==y?void 0:null===(i=y.videos)||void 0===i?void 0:null===(t=i.videoList)||void 0===t?void 0:t.v720P)||(null==y?void 0:null===(l=y.videos)||void 0===l?void 0:null===(r=l.videoList)||void 0===r?void 0:r.vHLSV4)||(null==y?void 0:null===(o=y.videos)||void 0===o?void 0:null===(s=o.videoList)||void 0===s?void 0:s.vHLSV3MOBILE),(0,a.useEffect)(function(){if(y){if(g.current!==p){var e=y.entityId,n=y.isPromoted,i=y.storyPinData,t=(0,V.Z)(e,b);if(S||null!=i&&i.totalVideoDuration){if(p){var l,r,a=(l=b.currentlyPlayingOrganicVideoId,r=b.organicVideosAutoplaying,l&&l!==e?l:Object.keys(r).find(function(e){return!1===r[e].paused}));a&&h({currentTime:t,pinId:a,isPromoted:!1}),v({currentTime:t,pinId:e,isPromoted:!!n})}else n||h({currentTime:t,pinId:e,isPromoted:!!n})}}g.current=p}},[p,g,h,y,v,S,b]),(0,f.jsx)(G,Z(Z({},x),{},{appInFocus:T,isAutoplay:F,pauseAutoplay:L,pin:I,setCurrentVideo:K,videosAutoplaying:w}))}},860575:function(e,n,i){i.d(n,{Xx:function(){return r}});var t=i(282480);i(770443),(0,t.createContext)(void 0),i(573706);var l=(0,t.createContext)(void 0),r=function(){return(0,t.useContext)(l)}},628200:function(e,n){n.Z="M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},464311:function(e,n){n.Z="M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},439839:function(e,n,i){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function r(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?l(Object(i),!0).forEach(function(n){var l,r;l=n,r=i[n],(l=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var l=i.call(e,n||"default");if("object"!==t(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}(l))in e?Object.defineProperty(e,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[l]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function a(e,n){var i=n.organicVideosAutoplaying,t=n.promotedVideosAutoplaying,l=r(r({},i),t);return l[e]&&l[e].currentTime}i.d(n,{Z:function(){return a}})},414373:function(e,n,i){i.d(n,{Z:function(){return l}});var t=i(225669);function l(e){return t.zI.includes(e)}},470761:function(e,n){n.Z={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98234-a0c79d88c825ce3f.js.map