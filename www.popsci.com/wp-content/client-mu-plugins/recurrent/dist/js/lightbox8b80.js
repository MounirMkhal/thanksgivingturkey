!function(){"use strict";const e=e=>document.querySelectorAll(e),t=()=>{const e=document.getElementById("relightbox");e.classList.remove("active"),e.close(),document.body.style.overflow="auto",window.currentGallery=null},n=(e,l=null,o=0)=>{const c=document.getElementById("relightbox"),i=document.getElementById("lightbox-image"),d=document.getElementById("prev-image"),r=document.getElementById("next-image"),a=document.getElementById("lightbox-figcaption");a.innerHTML="";let m="",s=o;i.src=e;const g=document.getElementById("lightbox-loading");if(g.style.display="block",i.style.display="none",i.onload=()=>{g.style.display="none",i.style.display="block"},l){window.currentGallery=l;m=l[s].parentElement.querySelector("figcaption")}else{m=document.querySelector(`img[src="${e}"]`).parentElement.querySelector("figcaption")}m&&(a.innerHTML=m.innerHTML),l&&l.length>1?(d.style.display="block",r.style.display="block",d.onclick=()=>{s=(s-1+l.length)%l.length,n(l[s].currentSrc,l,s)},r.onclick=()=>{s=(s+1)%l.length,n(l[s].currentSrc,l,s)}):(d.style.display="none",r.style.display="none"),c.classList.add("active"),c.showModal(),document.body.style.overflow="hidden",c.addEventListener("click",(e=>{e.target===c&&t()}))},l=e=>{const n=document.getElementById("relightbox");if("Escape"===e.key)t();else if(n.open&&window.currentGallery){const t=document.getElementById("prev-image"),n=document.getElementById("next-image");"ArrowLeft"===e.key&&"none"!==t.style.display?t.click():"ArrowRight"===e.key&&"none"!==n.style.display&&n.click()}};(()=>{const e=document.createElement("dialog");e.id="relightbox";const t=document.createElement("img");t.id="lightbox-image",t.src="",t.alt="";const n=document.createElement("button");n.id="close-lightbox";const l=document.createElement("button");l.id="prev-image",l.innerHTML="&#8249;";const o=document.createElement("button");o.id="next-image",o.innerHTML="&#8250;";const c=document.createElement("div");c.id="lightbox-loading";const i=document.createElement("div");i.id="lightbox-figcaption",e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(o),e.appendChild(c),e.appendChild(i),document.body.appendChild(e)})(),e(".wp-block-gallery").forEach((e=>{const t=Array.from(e.querySelectorAll(".wp-block-image img"));t.forEach(((e,l)=>{e.addEventListener("click",(()=>{n(e.src,t,l)}))}))})),e(".wp-block-image:not(.wp-block-gallery .wp-block-image) img").forEach((e=>{e.addEventListener("click",(()=>{n(e.src)}))})),e("figure a img").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))})),document.getElementById("close-lightbox").addEventListener("click",t),document.addEventListener("keydown",l)}();